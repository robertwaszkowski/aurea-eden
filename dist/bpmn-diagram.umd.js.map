{"version":3,"file":"bpmn-diagram.umd.js","sources":["../node_modules/@tweenjs/tween.js/dist/tween.esm.js","../node_modules/three/examples/jsm/controls/OrbitControls.js","../node_modules/three/examples/jsm/controls/MapControls.js","../node_modules/three/src/nodes/core/constants.js","../node_modules/three/src/math/MathUtils.js","../node_modules/three/src/constants.js","../node_modules/three/src/math/Matrix3.js","../node_modules/three/src/math/ColorManagement.js","../node_modules/three/src/math/Color.js","../node_modules/three/src/math/Quaternion.js","../node_modules/three/src/math/Vector3.js","../node_modules/three/src/math/Matrix4.js","../node_modules/three/src/math/Vector2.js","../node_modules/three/src/math/Vector4.js","../node_modules/three/src/nodes/core/NodeUtils.js","../node_modules/three/src/core/EventDispatcher.js","../node_modules/three/src/nodes/core/Node.js","../node_modules/three/src/nodes/utils/ArrayElementNode.js","../node_modules/three/src/nodes/utils/ConvertNode.js","../node_modules/three/src/nodes/core/TempNode.js","../node_modules/three/src/nodes/utils/JoinNode.js","../node_modules/three/src/nodes/utils/SplitNode.js","../node_modules/three/src/nodes/utils/SetNode.js","../node_modules/three/src/nodes/utils/FlipNode.js","../node_modules/three/src/nodes/core/InputNode.js","../node_modules/three/src/nodes/core/ConstNode.js","../node_modules/three/src/nodes/tsl/TSLCore.js","../node_modules/three/src/nodes/core/UniformGroupNode.js","../node_modules/three/src/nodes/core/UniformNode.js","../node_modules/three/src/nodes/core/PropertyNode.js","../node_modules/three/src/nodes/core/AssignNode.js","../node_modules/three/src/nodes/code/FunctionCallNode.js","../node_modules/three/src/nodes/math/OperatorNode.js","../node_modules/three/src/nodes/math/MathNode.js","../node_modules/three/src/nodes/math/ConditionalNode.js","../node_modules/three/src/nodes/core/ContextNode.js","../node_modules/three/src/nodes/core/VarNode.js","../node_modules/three/src/nodes/core/VaryingNode.js","../node_modules/three/src/nodes/display/ColorSpaceFunctions.js","../node_modules/three/src/nodes/display/ColorSpaceNode.js","../node_modules/three/src/nodes/accessors/ReferenceBaseNode.js","../node_modules/three/src/nodes/accessors/RendererReferenceNode.js","../node_modules/three/src/nodes/display/ToneMappingNode.js","../node_modules/three/src/core/BufferAttribute.js","../node_modules/three/src/core/InterleavedBufferAttribute.js","../node_modules/three/src/core/InterleavedBuffer.js","../node_modules/three/src/nodes/accessors/BufferAttributeNode.js","../node_modules/three/src/nodes/gpgpu/ComputeNode.js","../node_modules/three/src/nodes/core/CacheNode.js","../node_modules/three/src/nodes/core/BypassNode.js","../node_modules/three/src/nodes/utils/RemapNode.js","../node_modules/three/src/nodes/code/ExpressionNode.js","../node_modules/three/src/nodes/utils/Discard.js","../node_modules/three/src/nodes/display/RenderOutputNode.js","../lib/diagrams/Diagram.js","../lib/diagrams/DiagramConstants.js","../lib/shapes/Shape.js","../lib/materials/DiagramEditMaterial.js","../lib/shapes/basic/BoxShape.js","../node_modules/three/examples/jsm/loaders/FontLoader.js","../node_modules/three/examples/jsm/geometries/TextGeometry.js","../lib/shapes/text/TextShape.js","../lib/shapes/icon/IconConstants.js","../node_modules/three/examples/jsm/loaders/SVGLoader.js","../node_modules/three/examples/jsm/utils/BufferGeometryUtils.js","../lib/shapes/icon/IconShape.js","../lib/materials/BarMaterial.js","../lib/shapes/bar/ValueBarConstants.js","../lib/shapes/bar/ValueBarShape.js","../lib/shapes/connector/ConnectorConstants.js","../lib/shapes/connector/RoundedCornerOrthogonalConnectorShape.js","../lib/connectors/Connector.js","../lib/elements/Element.js","../lib/shapes/basic/BasicShapeConstants.js","../lib/shapes/basic/CircleShape.js","../lib/shapes/basic/RoundedRectangleShape.js","../lib/shapes/basic/DiamondShape.js","../node_modules/tween.js/src/Tween.js","../lib/notations/BpmnDiagram.js","../lib/shapes/icon/bpmn/events/message-start.svg?raw","../lib/shapes/icon/bpmn/events/timer.svg?raw","../lib/shapes/icon/bpmn/events/conditional.svg?raw","../lib/shapes/icon/bpmn/events/signal-start.svg?raw","../lib/shapes/icon/bpmn/events/intermediate.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-receive.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-send.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-timer.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-escalation.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-conditional.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-link-catch.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-link-throw.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-compensation.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-signal-catch.svg?raw","../lib/shapes/icon/bpmn/events/intermediate-signal-throw.svg?raw","../lib/shapes/icon/bpmn/events/message-end.svg?raw","../lib/shapes/icon/bpmn/events/escalation.svg?raw","../lib/shapes/icon/bpmn/events/error.svg?raw","../lib/shapes/icon/bpmn/events/compensation.svg?raw","../lib/shapes/icon/bpmn/events/signal-end.svg?raw","../lib/shapes/icon/bpmn/events/terminate.svg?raw","../lib/shapes/icon/bpmn/activities/manual.svg?raw","../lib/shapes/icon/bpmn/activities/user.svg?raw","../lib/shapes/icon/bpmn/activities/script.svg?raw","../lib/shapes/icon/bpmn/activities/business-rule.svg?raw","../lib/shapes/icon/bpmn/activities/service.svg?raw","../lib/shapes/icon/bpmn/activities/send.svg?raw","../lib/shapes/icon/bpmn/activities/receive.svg?raw","../lib/shapes/icon/bpmn/gateways/inclusive.svg?raw","../lib/shapes/icon/bpmn/gateways/exclusive.svg?raw","../lib/shapes/icon/bpmn/gateways/parallel.svg?raw","../lib/shapes/icon/bpmn/gateways/event-based.svg?raw","../lib/shapes/icon/bpmn/gateways/complex.svg?raw"],"sourcesContent":["/**\n * The Ease class provides a collection of easing functions for use with tween.js.\n */\nvar Easing = Object.freeze({\n    Linear: Object.freeze({\n        None: function (amount) {\n            return amount;\n        },\n        In: function (amount) {\n            return amount;\n        },\n        Out: function (amount) {\n            return amount;\n        },\n        InOut: function (amount) {\n            return amount;\n        },\n    }),\n    Quadratic: Object.freeze({\n        In: function (amount) {\n            return amount * amount;\n        },\n        Out: function (amount) {\n            return amount * (2 - amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount;\n            }\n            return -0.5 * (--amount * (amount - 2) - 1);\n        },\n    }),\n    Cubic: Object.freeze({\n        In: function (amount) {\n            return amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount + 2);\n        },\n    }),\n    Quartic: Object.freeze({\n        In: function (amount) {\n            return amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return 1 - --amount * amount * amount * amount;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount;\n            }\n            return -0.5 * ((amount -= 2) * amount * amount * amount - 2);\n        },\n    }),\n    Quintic: Object.freeze({\n        In: function (amount) {\n            return amount * amount * amount * amount * amount;\n        },\n        Out: function (amount) {\n            return --amount * amount * amount * amount * amount + 1;\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return 0.5 * amount * amount * amount * amount * amount;\n            }\n            return 0.5 * ((amount -= 2) * amount * amount * amount * amount + 2);\n        },\n    }),\n    Sinusoidal: Object.freeze({\n        In: function (amount) {\n            return 1 - Math.sin(((1.0 - amount) * Math.PI) / 2);\n        },\n        Out: function (amount) {\n            return Math.sin((amount * Math.PI) / 2);\n        },\n        InOut: function (amount) {\n            return 0.5 * (1 - Math.sin(Math.PI * (0.5 - amount)));\n        },\n    }),\n    Exponential: Object.freeze({\n        In: function (amount) {\n            return amount === 0 ? 0 : Math.pow(1024, amount - 1);\n        },\n        Out: function (amount) {\n            return amount === 1 ? 1 : 1 - Math.pow(2, -10 * amount);\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            if ((amount *= 2) < 1) {\n                return 0.5 * Math.pow(1024, amount - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (amount - 1)) + 2);\n        },\n    }),\n    Circular: Object.freeze({\n        In: function (amount) {\n            return 1 - Math.sqrt(1 - amount * amount);\n        },\n        Out: function (amount) {\n            return Math.sqrt(1 - --amount * amount);\n        },\n        InOut: function (amount) {\n            if ((amount *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - amount * amount) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (amount -= 2) * amount) + 1);\n        },\n    }),\n    Elastic: Object.freeze({\n        In: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n        },\n        Out: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * amount) * Math.sin((amount - 0.1) * 5 * Math.PI) + 1;\n        },\n        InOut: function (amount) {\n            if (amount === 0) {\n                return 0;\n            }\n            if (amount === 1) {\n                return 1;\n            }\n            amount *= 2;\n            if (amount < 1) {\n                return -0.5 * Math.pow(2, 10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (amount - 1)) * Math.sin((amount - 1.1) * 5 * Math.PI) + 1;\n        },\n    }),\n    Back: Object.freeze({\n        In: function (amount) {\n            var s = 1.70158;\n            return amount === 1 ? 1 : amount * amount * ((s + 1) * amount - s);\n        },\n        Out: function (amount) {\n            var s = 1.70158;\n            return amount === 0 ? 0 : --amount * amount * ((s + 1) * amount + s) + 1;\n        },\n        InOut: function (amount) {\n            var s = 1.70158 * 1.525;\n            if ((amount *= 2) < 1) {\n                return 0.5 * (amount * amount * ((s + 1) * amount - s));\n            }\n            return 0.5 * ((amount -= 2) * amount * ((s + 1) * amount + s) + 2);\n        },\n    }),\n    Bounce: Object.freeze({\n        In: function (amount) {\n            return 1 - Easing.Bounce.Out(1 - amount);\n        },\n        Out: function (amount) {\n            if (amount < 1 / 2.75) {\n                return 7.5625 * amount * amount;\n            }\n            else if (amount < 2 / 2.75) {\n                return 7.5625 * (amount -= 1.5 / 2.75) * amount + 0.75;\n            }\n            else if (amount < 2.5 / 2.75) {\n                return 7.5625 * (amount -= 2.25 / 2.75) * amount + 0.9375;\n            }\n            else {\n                return 7.5625 * (amount -= 2.625 / 2.75) * amount + 0.984375;\n            }\n        },\n        InOut: function (amount) {\n            if (amount < 0.5) {\n                return Easing.Bounce.In(amount * 2) * 0.5;\n            }\n            return Easing.Bounce.Out(amount * 2 - 1) * 0.5 + 0.5;\n        },\n    }),\n    generatePow: function (power) {\n        if (power === void 0) { power = 4; }\n        power = power < Number.EPSILON ? Number.EPSILON : power;\n        power = power > 10000 ? 10000 : power;\n        return {\n            In: function (amount) {\n                return Math.pow(amount, power);\n            },\n            Out: function (amount) {\n                return 1 - Math.pow((1 - amount), power);\n            },\n            InOut: function (amount) {\n                if (amount < 0.5) {\n                    return Math.pow((amount * 2), power) / 2;\n                }\n                return (1 - Math.pow((2 - amount * 2), power)) / 2 + 0.5;\n            },\n        };\n    },\n});\n\nvar now = function () { return performance.now(); };\n\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tween\n */\nvar Group = /** @class */ (function () {\n    function Group() {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._tweens = {};\n        this._tweensAddedDuringUpdate = {};\n        this.add.apply(this, tweens);\n    }\n    Group.prototype.getAll = function () {\n        var _this = this;\n        return Object.keys(this._tweens).map(function (tweenId) { return _this._tweens[tweenId]; });\n    };\n    Group.prototype.removeAll = function () {\n        this._tweens = {};\n    };\n    Group.prototype.add = function () {\n        var _a;\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        for (var _b = 0, tweens_1 = tweens; _b < tweens_1.length; _b++) {\n            var tween = tweens_1[_b];\n            // Remove from any other group first, a tween can only be in one group at a time.\n            // @ts-expect-error library internal access\n            (_a = tween._group) === null || _a === void 0 ? void 0 : _a.remove(tween);\n            // @ts-expect-error library internal access\n            tween._group = this;\n            this._tweens[tween.getId()] = tween;\n            this._tweensAddedDuringUpdate[tween.getId()] = tween;\n        }\n    };\n    Group.prototype.remove = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        for (var _a = 0, tweens_2 = tweens; _a < tweens_2.length; _a++) {\n            var tween = tweens_2[_a];\n            // @ts-expect-error library internal access\n            tween._group = undefined;\n            delete this._tweens[tween.getId()];\n            delete this._tweensAddedDuringUpdate[tween.getId()];\n        }\n    };\n    /** Return true if all tweens in the group are not paused or playing. */\n    Group.prototype.allStopped = function () {\n        return this.getAll().every(function (tween) { return !tween.isPlaying(); });\n    };\n    Group.prototype.update = function (time, preserve) {\n        if (time === void 0) { time = now(); }\n        if (preserve === void 0) { preserve = true; }\n        var tweenIds = Object.keys(this._tweens);\n        if (tweenIds.length === 0)\n            return;\n        // Tweens are updated in \"batches\". If you add a new tween during an\n        // update, then the new tween will be updated in the next batch.\n        // If you remove a tween during an update, it may or may not be updated.\n        // However, if the removed tween was added during the current batch,\n        // then it will not be updated.\n        while (tweenIds.length > 0) {\n            this._tweensAddedDuringUpdate = {};\n            for (var i = 0; i < tweenIds.length; i++) {\n                var tween = this._tweens[tweenIds[i]];\n                var autoStart = !preserve;\n                if (tween && tween.update(time, autoStart) === false && !preserve)\n                    this.remove(tween);\n            }\n            tweenIds = Object.keys(this._tweensAddedDuringUpdate);\n        }\n    };\n    return Group;\n}());\n\n/**\n *\n */\nvar Interpolation = {\n    Linear: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.Linear;\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n    },\n    Bezier: function (v, k) {\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = Interpolation.Utils.Bernstein;\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n        return b;\n    },\n    CatmullRom: function (v, k) {\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = Interpolation.Utils.CatmullRom;\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)));\n            }\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n        }\n        else {\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n        }\n    },\n    Utils: {\n        Linear: function (p0, p1, t) {\n            return (p1 - p0) * t + p0;\n        },\n        Bernstein: function (n, i) {\n            var fc = Interpolation.Utils.Factorial;\n            return fc(n) / fc(i) / fc(n - i);\n        },\n        Factorial: (function () {\n            var a = [1];\n            return function (n) {\n                var s = 1;\n                if (a[n]) {\n                    return a[n];\n                }\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n                a[n] = s;\n                return s;\n            };\n        })(),\n        CatmullRom: function (p0, p1, p2, p3, t) {\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n        },\n    },\n};\n\n/**\n * Utils\n */\nvar Sequence = /** @class */ (function () {\n    function Sequence() {\n    }\n    Sequence.nextId = function () {\n        return Sequence._nextId++;\n    };\n    Sequence._nextId = 0;\n    return Sequence;\n}());\n\nvar mainGroup = new Group();\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar Tween = /** @class */ (function () {\n    function Tween(object, group) {\n        this._isPaused = false;\n        this._pauseStart = 0;\n        this._valuesStart = {};\n        this._valuesEnd = {};\n        this._valuesStartRepeat = {};\n        this._duration = 1000;\n        this._isDynamic = false;\n        this._initialRepeat = 0;\n        this._repeat = 0;\n        this._yoyo = false;\n        this._isPlaying = false;\n        this._reversed = false;\n        this._delayTime = 0;\n        this._startTime = 0;\n        this._easingFunction = Easing.Linear.None;\n        this._interpolationFunction = Interpolation.Linear;\n        // eslint-disable-next-line\n        this._chainedTweens = [];\n        this._onStartCallbackFired = false;\n        this._onEveryStartCallbackFired = false;\n        this._id = Sequence.nextId();\n        this._isChainStopped = false;\n        this._propertiesAreSetUp = false;\n        this._goToEnd = false;\n        this._object = object;\n        if (typeof group === 'object') {\n            this._group = group;\n            group.add(this);\n        }\n        // Use \"true\" to restore old behavior (will be removed in future release).\n        else if (group === true) {\n            this._group = mainGroup;\n            mainGroup.add(this);\n        }\n    }\n    Tween.prototype.getId = function () {\n        return this._id;\n    };\n    Tween.prototype.isPlaying = function () {\n        return this._isPlaying;\n    };\n    Tween.prototype.isPaused = function () {\n        return this._isPaused;\n    };\n    Tween.prototype.getDuration = function () {\n        return this._duration;\n    };\n    Tween.prototype.to = function (target, duration) {\n        if (duration === void 0) { duration = 1000; }\n        if (this._isPlaying)\n            throw new Error('Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.');\n        this._valuesEnd = target;\n        this._propertiesAreSetUp = false;\n        this._duration = duration < 0 ? 0 : duration;\n        return this;\n    };\n    Tween.prototype.duration = function (duration) {\n        if (duration === void 0) { duration = 1000; }\n        this._duration = duration < 0 ? 0 : duration;\n        return this;\n    };\n    Tween.prototype.dynamic = function (dynamic) {\n        if (dynamic === void 0) { dynamic = false; }\n        this._isDynamic = dynamic;\n        return this;\n    };\n    Tween.prototype.start = function (time, overrideStartingValues) {\n        if (time === void 0) { time = now(); }\n        if (overrideStartingValues === void 0) { overrideStartingValues = false; }\n        if (this._isPlaying) {\n            return this;\n        }\n        this._repeat = this._initialRepeat;\n        if (this._reversed) {\n            // If we were reversed (f.e. using the yoyo feature) then we need to\n            // flip the tween direction back to forward.\n            this._reversed = false;\n            for (var property in this._valuesStartRepeat) {\n                this._swapEndStartRepeatValues(property);\n                this._valuesStart[property] = this._valuesStartRepeat[property];\n            }\n        }\n        this._isPlaying = true;\n        this._isPaused = false;\n        this._onStartCallbackFired = false;\n        this._onEveryStartCallbackFired = false;\n        this._isChainStopped = false;\n        this._startTime = time;\n        this._startTime += this._delayTime;\n        if (!this._propertiesAreSetUp || overrideStartingValues) {\n            this._propertiesAreSetUp = true;\n            // If dynamic is not enabled, clone the end values instead of using the passed-in end values.\n            if (!this._isDynamic) {\n                var tmp = {};\n                for (var prop in this._valuesEnd)\n                    tmp[prop] = this._valuesEnd[prop];\n                this._valuesEnd = tmp;\n            }\n            this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat, overrideStartingValues);\n        }\n        return this;\n    };\n    Tween.prototype.startFromCurrentValues = function (time) {\n        return this.start(time, true);\n    };\n    Tween.prototype._setupProperties = function (_object, _valuesStart, _valuesEnd, _valuesStartRepeat, overrideStartingValues) {\n        for (var property in _valuesEnd) {\n            var startValue = _object[property];\n            var startValueIsArray = Array.isArray(startValue);\n            var propType = startValueIsArray ? 'array' : typeof startValue;\n            var isInterpolationList = !startValueIsArray && Array.isArray(_valuesEnd[property]);\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (propType === 'undefined' || propType === 'function') {\n                continue;\n            }\n            // Check if an Array was provided as property value\n            if (isInterpolationList) {\n                var endValues = _valuesEnd[property];\n                if (endValues.length === 0) {\n                    continue;\n                }\n                // Handle an array of relative values.\n                // Creates a local copy of the Array with the start value at the front\n                var temp = [startValue];\n                for (var i = 0, l = endValues.length; i < l; i += 1) {\n                    var value = this._handleRelativeValue(startValue, endValues[i]);\n                    if (isNaN(value)) {\n                        isInterpolationList = false;\n                        console.warn('Found invalid interpolation list. Skipping.');\n                        break;\n                    }\n                    temp.push(value);\n                }\n                if (isInterpolationList) {\n                    // if (_valuesStart[property] === undefined) { // handle end values only the first time. NOT NEEDED? setupProperties is now guarded by _propertiesAreSetUp.\n                    _valuesEnd[property] = temp;\n                    // }\n                }\n            }\n            // handle the deepness of the values\n            if ((propType === 'object' || startValueIsArray) && startValue && !isInterpolationList) {\n                _valuesStart[property] = startValueIsArray ? [] : {};\n                var nestedObject = startValue;\n                for (var prop in nestedObject) {\n                    _valuesStart[property][prop] = nestedObject[prop];\n                }\n                // TODO? repeat nested values? And yoyo? And array values?\n                _valuesStartRepeat[property] = startValueIsArray ? [] : {};\n                var endValues = _valuesEnd[property];\n                // If dynamic is not enabled, clone the end values instead of using the passed-in end values.\n                if (!this._isDynamic) {\n                    var tmp = {};\n                    for (var prop in endValues)\n                        tmp[prop] = endValues[prop];\n                    _valuesEnd[property] = endValues = tmp;\n                }\n                this._setupProperties(nestedObject, _valuesStart[property], endValues, _valuesStartRepeat[property], overrideStartingValues);\n            }\n            else {\n                // Save the starting value, but only once unless override is requested.\n                if (typeof _valuesStart[property] === 'undefined' || overrideStartingValues) {\n                    _valuesStart[property] = startValue;\n                }\n                if (!startValueIsArray) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n                }\n                if (isInterpolationList) {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _valuesStartRepeat[property] = _valuesEnd[property].slice().reverse();\n                }\n                else {\n                    _valuesStartRepeat[property] = _valuesStart[property] || 0;\n                }\n            }\n        }\n    };\n    Tween.prototype.stop = function () {\n        if (!this._isChainStopped) {\n            this._isChainStopped = true;\n            this.stopChainedTweens();\n        }\n        if (!this._isPlaying) {\n            return this;\n        }\n        this._isPlaying = false;\n        this._isPaused = false;\n        if (this._onStopCallback) {\n            this._onStopCallback(this._object);\n        }\n        return this;\n    };\n    Tween.prototype.end = function () {\n        this._goToEnd = true;\n        this.update(this._startTime + this._duration);\n        return this;\n    };\n    Tween.prototype.pause = function (time) {\n        if (time === void 0) { time = now(); }\n        if (this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = true;\n        this._pauseStart = time;\n        return this;\n    };\n    Tween.prototype.resume = function (time) {\n        if (time === void 0) { time = now(); }\n        if (!this._isPaused || !this._isPlaying) {\n            return this;\n        }\n        this._isPaused = false;\n        this._startTime += time - this._pauseStart;\n        this._pauseStart = 0;\n        return this;\n    };\n    Tween.prototype.stopChainedTweens = function () {\n        for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n            this._chainedTweens[i].stop();\n        }\n        return this;\n    };\n    Tween.prototype.group = function (group) {\n        if (!group) {\n            console.warn('tween.group() without args has been removed, use group.add(tween) instead.');\n            return this;\n        }\n        group.add(this);\n        return this;\n    };\n    /**\n     * Removes the tween from whichever group it is in.\n     */\n    Tween.prototype.remove = function () {\n        var _a;\n        (_a = this._group) === null || _a === void 0 ? void 0 : _a.remove(this);\n        return this;\n    };\n    Tween.prototype.delay = function (amount) {\n        if (amount === void 0) { amount = 0; }\n        this._delayTime = amount;\n        return this;\n    };\n    Tween.prototype.repeat = function (times) {\n        if (times === void 0) { times = 0; }\n        this._initialRepeat = times;\n        this._repeat = times;\n        return this;\n    };\n    Tween.prototype.repeatDelay = function (amount) {\n        this._repeatDelayTime = amount;\n        return this;\n    };\n    Tween.prototype.yoyo = function (yoyo) {\n        if (yoyo === void 0) { yoyo = false; }\n        this._yoyo = yoyo;\n        return this;\n    };\n    Tween.prototype.easing = function (easingFunction) {\n        if (easingFunction === void 0) { easingFunction = Easing.Linear.None; }\n        this._easingFunction = easingFunction;\n        return this;\n    };\n    Tween.prototype.interpolation = function (interpolationFunction) {\n        if (interpolationFunction === void 0) { interpolationFunction = Interpolation.Linear; }\n        this._interpolationFunction = interpolationFunction;\n        return this;\n    };\n    // eslint-disable-next-line\n    Tween.prototype.chain = function () {\n        var tweens = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tweens[_i] = arguments[_i];\n        }\n        this._chainedTweens = tweens;\n        return this;\n    };\n    Tween.prototype.onStart = function (callback) {\n        this._onStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onEveryStart = function (callback) {\n        this._onEveryStartCallback = callback;\n        return this;\n    };\n    Tween.prototype.onUpdate = function (callback) {\n        this._onUpdateCallback = callback;\n        return this;\n    };\n    Tween.prototype.onRepeat = function (callback) {\n        this._onRepeatCallback = callback;\n        return this;\n    };\n    Tween.prototype.onComplete = function (callback) {\n        this._onCompleteCallback = callback;\n        return this;\n    };\n    Tween.prototype.onStop = function (callback) {\n        this._onStopCallback = callback;\n        return this;\n    };\n    /**\n     * @returns true if the tween is still playing after the update, false\n     * otherwise (calling update on a paused tween still returns true because\n     * it is still playing, just paused).\n     *\n     * @param autoStart - When true, calling update will implicitly call start()\n     * as well. Note, if you stop() or end() the tween, but are still calling\n     * update(), it will start again!\n     */\n    Tween.prototype.update = function (time, autoStart) {\n        var _this = this;\n        var _a;\n        if (time === void 0) { time = now(); }\n        if (autoStart === void 0) { autoStart = Tween.autoStartOnUpdate; }\n        if (this._isPaused)\n            return true;\n        var property;\n        if (!this._goToEnd && !this._isPlaying) {\n            if (autoStart)\n                this.start(time, true);\n            else\n                return false;\n        }\n        this._goToEnd = false;\n        if (time < this._startTime) {\n            return true;\n        }\n        if (this._onStartCallbackFired === false) {\n            if (this._onStartCallback) {\n                this._onStartCallback(this._object);\n            }\n            this._onStartCallbackFired = true;\n        }\n        if (this._onEveryStartCallbackFired === false) {\n            if (this._onEveryStartCallback) {\n                this._onEveryStartCallback(this._object);\n            }\n            this._onEveryStartCallbackFired = true;\n        }\n        var elapsedTime = time - this._startTime;\n        var durationAndDelay = this._duration + ((_a = this._repeatDelayTime) !== null && _a !== void 0 ? _a : this._delayTime);\n        var totalTime = this._duration + this._repeat * durationAndDelay;\n        var calculateElapsedPortion = function () {\n            if (_this._duration === 0)\n                return 1;\n            if (elapsedTime > totalTime) {\n                return 1;\n            }\n            var timesRepeated = Math.trunc(elapsedTime / durationAndDelay);\n            var timeIntoCurrentRepeat = elapsedTime - timesRepeated * durationAndDelay;\n            // TODO use %?\n            // const timeIntoCurrentRepeat = elapsedTime % durationAndDelay\n            var portion = Math.min(timeIntoCurrentRepeat / _this._duration, 1);\n            if (portion === 0 && elapsedTime === _this._duration) {\n                return 1;\n            }\n            return portion;\n        };\n        var elapsed = calculateElapsedPortion();\n        var value = this._easingFunction(elapsed);\n        // properties transformations\n        this._updateProperties(this._object, this._valuesStart, this._valuesEnd, value);\n        if (this._onUpdateCallback) {\n            this._onUpdateCallback(this._object, elapsed);\n        }\n        if (this._duration === 0 || elapsedTime >= this._duration) {\n            if (this._repeat > 0) {\n                var completeCount = Math.min(Math.trunc((elapsedTime - this._duration) / durationAndDelay) + 1, this._repeat);\n                if (isFinite(this._repeat)) {\n                    this._repeat -= completeCount;\n                }\n                // Reassign starting values, restart by making startTime = now\n                for (property in this._valuesStartRepeat) {\n                    if (!this._yoyo && typeof this._valuesEnd[property] === 'string') {\n                        this._valuesStartRepeat[property] =\n                            // eslint-disable-next-line\n                            // @ts-ignore FIXME?\n                            this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n                    }\n                    if (this._yoyo) {\n                        this._swapEndStartRepeatValues(property);\n                    }\n                    this._valuesStart[property] = this._valuesStartRepeat[property];\n                }\n                if (this._yoyo) {\n                    this._reversed = !this._reversed;\n                }\n                this._startTime += durationAndDelay * completeCount;\n                if (this._onRepeatCallback) {\n                    this._onRepeatCallback(this._object);\n                }\n                this._onEveryStartCallbackFired = false;\n                return true;\n            }\n            else {\n                if (this._onCompleteCallback) {\n                    this._onCompleteCallback(this._object);\n                }\n                for (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    this._chainedTweens[i].start(this._startTime + this._duration, false);\n                }\n                this._isPlaying = false;\n                return false;\n            }\n        }\n        return true;\n    };\n    Tween.prototype._updateProperties = function (_object, _valuesStart, _valuesEnd, value) {\n        for (var property in _valuesEnd) {\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n            var startIsArray = Array.isArray(_object[property]);\n            var endIsArray = Array.isArray(end);\n            var isInterpolationList = !startIsArray && endIsArray;\n            if (isInterpolationList) {\n                _object[property] = this._interpolationFunction(end, value);\n            }\n            else if (typeof end === 'object' && end) {\n                // eslint-disable-next-line\n                // @ts-ignore FIXME?\n                this._updateProperties(_object[property], start, end, value);\n            }\n            else {\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                end = this._handleRelativeValue(start, end);\n                // Protect against non numeric properties.\n                if (typeof end === 'number') {\n                    // eslint-disable-next-line\n                    // @ts-ignore FIXME?\n                    _object[property] = start + (end - start) * value;\n                }\n            }\n        }\n    };\n    Tween.prototype._handleRelativeValue = function (start, end) {\n        if (typeof end !== 'string') {\n            return end;\n        }\n        if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n            return start + parseFloat(end);\n        }\n        return parseFloat(end);\n    };\n    Tween.prototype._swapEndStartRepeatValues = function (property) {\n        var tmp = this._valuesStartRepeat[property];\n        var endValue = this._valuesEnd[property];\n        if (typeof endValue === 'string') {\n            this._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(endValue);\n        }\n        else {\n            this._valuesStartRepeat[property] = this._valuesEnd[property];\n        }\n        this._valuesEnd[property] = tmp;\n    };\n    Tween.autoStartOnUpdate = false;\n    return Tween;\n}());\n\nvar VERSION = '25.0.0';\n\n/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\nvar nextId = Sequence.nextId;\n/**\n * Controlling groups of tweens\n *\n * Using the TWEEN singleton to manage your tweens can cause issues in large apps with many components.\n * In these cases, you may want to create your own smaller groups of tweens.\n */\nvar TWEEN = mainGroup;\n// This is the best way to export things in a way that's compatible with both ES\n// Modules and CommonJS, without build hacks, and so as not to break the\n// existing API.\n// https://github.com/rollup/rollup/issues/1961#issuecomment-423037881\n/**\n * @deprecated The global TWEEN Group will be removed in a following major\n * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n * group.\n *\n * Old code:\n *\n * ```js\n * import * as TWEEN from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new TWEEN.Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   TWEEN.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n *\n * New code:\n *\n * ```js\n * import {Tween, Group} from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * const group = new Group()\n * group.add(tween)\n * group.add(tween2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   group.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n */\nvar getAll = TWEEN.getAll.bind(TWEEN);\n/**\n * @deprecated The global TWEEN Group will be removed in a following major\n * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n * group.\n *\n * Old code:\n *\n * ```js\n * import * as TWEEN from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new TWEEN.Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   TWEEN.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n *\n * New code:\n *\n * ```js\n * import {Tween, Group} from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * const group = new Group()\n * group.add(tween)\n * group.add(tween2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   group.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n */\nvar removeAll = TWEEN.removeAll.bind(TWEEN);\n/**\n * @deprecated The global TWEEN Group will be removed in a following major\n * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n * group.\n *\n * Old code:\n *\n * ```js\n * import * as TWEEN from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new TWEEN.Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   TWEEN.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n *\n * New code:\n *\n * ```js\n * import {Tween, Group} from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * const group = new Group()\n * group.add(tween)\n * group.add(tween2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   group.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n */\nvar add = TWEEN.add.bind(TWEEN);\n/**\n * @deprecated The global TWEEN Group will be removed in a following major\n * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n * group.\n *\n * Old code:\n *\n * ```js\n * import * as TWEEN from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new TWEEN.Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   TWEEN.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n *\n * New code:\n *\n * ```js\n * import {Tween, Group} from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * const group = new Group()\n * group.add(tween)\n * group.add(tween2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   group.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n */\nvar remove = TWEEN.remove.bind(TWEEN);\n/**\n * @deprecated The global TWEEN Group will be removed in a following major\n * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n * group.\n *\n * Old code:\n *\n * ```js\n * import * as TWEEN from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new TWEEN.Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   TWEEN.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n *\n * New code:\n *\n * ```js\n * import {Tween, Group} from '@tweenjs/tween.js'\n *\n * //...\n *\n * const tween = new Tween(obj)\n * const tween2 = new TWEEN.Tween(obj2)\n *\n * //...\n *\n * const group = new Group()\n * group.add(tween)\n * group.add(tween2)\n *\n * //...\n *\n * requestAnimationFrame(function loop(time) {\n *   group.update(time)\n *   requestAnimationFrame(loop)\n * })\n * ```\n */\nvar update = TWEEN.update.bind(TWEEN);\nvar exports = {\n    Easing: Easing,\n    Group: Group,\n    Interpolation: Interpolation,\n    now: now,\n    Sequence: Sequence,\n    nextId: nextId,\n    Tween: Tween,\n    VERSION: VERSION,\n    /**\n     * @deprecated The global TWEEN Group will be removed in a following major\n     * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n     * group.\n     *\n     * Old code:\n     *\n     * ```js\n     * import * as TWEEN from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new TWEEN.Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   TWEEN.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     *\n     * New code:\n     *\n     * ```js\n     * import {Tween, Group} from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * const group = new Group()\n     * group.add(tween)\n     * group.add(tween2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   group.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     */\n    getAll: getAll,\n    /**\n     * @deprecated The global TWEEN Group will be removed in a following major\n     * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n     * group.\n     *\n     * Old code:\n     *\n     * ```js\n     * import * as TWEEN from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new TWEEN.Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   TWEEN.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     *\n     * New code:\n     *\n     * ```js\n     * import {Tween, Group} from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * const group = new Group()\n     * group.add(tween)\n     * group.add(tween2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   group.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     */\n    removeAll: removeAll,\n    /**\n     * @deprecated The global TWEEN Group will be removed in a following major\n     * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n     * group.\n     *\n     * Old code:\n     *\n     * ```js\n     * import * as TWEEN from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new TWEEN.Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   TWEEN.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     *\n     * New code:\n     *\n     * ```js\n     * import {Tween, Group} from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * const group = new Group()\n     * group.add(tween)\n     * group.add(tween2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   group.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     */\n    add: add,\n    /**\n     * @deprecated The global TWEEN Group will be removed in a following major\n     * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n     * group.\n     *\n     * Old code:\n     *\n     * ```js\n     * import * as TWEEN from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new TWEEN.Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   TWEEN.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     *\n     * New code:\n     *\n     * ```js\n     * import {Tween, Group} from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * const group = new Group()\n     * group.add(tween)\n     * group.add(tween2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   group.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     */\n    remove: remove,\n    /**\n     * @deprecated The global TWEEN Group will be removed in a following major\n     * release. To migrate, create a `new Group()` instead of using `TWEEN` as a\n     * group.\n     *\n     * Old code:\n     *\n     * ```js\n     * import * as TWEEN from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new TWEEN.Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   TWEEN.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     *\n     * New code:\n     *\n     * ```js\n     * import {Tween, Group} from '@tweenjs/tween.js'\n     *\n     * //...\n     *\n     * const tween = new Tween(obj)\n     * const tween2 = new TWEEN.Tween(obj2)\n     *\n     * //...\n     *\n     * const group = new Group()\n     * group.add(tween)\n     * group.add(tween2)\n     *\n     * //...\n     *\n     * requestAnimationFrame(function loop(time) {\n     *   group.update(time)\n     *   requestAnimationFrame(loop)\n     * })\n     * ```\n     */\n    update: update,\n};\n\nexport { Easing, Group, Interpolation, Sequence, Tween, VERSION, add, exports as default, getAll, nextId, now, remove, removeAll, update };\n","import {\n\tControls,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3,\n\tPlane,\n\tRay,\n\tMathUtils\n} from 'three';\n\n// OrbitControls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\nconst _ray = new Ray();\nconst _plane = new Plane();\nconst _TILT_LIMIT = Math.cos( 70 * MathUtils.DEG2RAD );\n\nconst _v = new Vector3();\nconst _twoPI = 2 * Math.PI;\n\nconst _STATE = {\n\tNONE: - 1,\n\tROTATE: 0,\n\tDOLLY: 1,\n\tPAN: 2,\n\tTOUCH_ROTATE: 3,\n\tTOUCH_PAN: 4,\n\tTOUCH_DOLLY_PAN: 5,\n\tTOUCH_DOLLY_ROTATE: 6\n};\nconst _EPS = 0.000001;\n\nclass OrbitControls extends Controls {\n\n\tconstructor( object, domElement = null ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.state = _STATE.NONE;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// Sets the 3D cursor (similar to Blender), from which the maxTargetRadius takes effect\n\t\tthis.cursor = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// Limit camera target within a spherical area around the cursor\n\t\tthis.minTargetRadius = 0;\n\t\tthis.maxTargetRadius = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\t\tthis.keyRotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\t\tthis.zoomToCursor = false;\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t// internals\n\n\t\tthis._lastPosition = new Vector3();\n\t\tthis._lastQuaternion = new Quaternion();\n\t\tthis._lastTargetPosition = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tthis._quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tthis._quatInverse = this._quat.clone().invert();\n\n\t\t// current position in spherical coordinates\n\t\tthis._spherical = new Spherical();\n\t\tthis._sphericalDelta = new Spherical();\n\n\t\tthis._scale = 1;\n\t\tthis._panOffset = new Vector3();\n\n\t\tthis._rotateStart = new Vector2();\n\t\tthis._rotateEnd = new Vector2();\n\t\tthis._rotateDelta = new Vector2();\n\n\t\tthis._panStart = new Vector2();\n\t\tthis._panEnd = new Vector2();\n\t\tthis._panDelta = new Vector2();\n\n\t\tthis._dollyStart = new Vector2();\n\t\tthis._dollyEnd = new Vector2();\n\t\tthis._dollyDelta = new Vector2();\n\n\t\tthis._dollyDirection = new Vector3();\n\t\tthis._mouse = new Vector2();\n\t\tthis._performCursorZoom = false;\n\n\t\tthis._pointers = [];\n\t\tthis._pointerPositions = {};\n\n\t\tthis._controlActive = false;\n\n\t\t// event listeners\n\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\t\tthis._onMouseWheel = onMouseWheel.bind( this );\n\t\tthis._onKeyDown = onKeyDown.bind( this );\n\n\t\tthis._onTouchStart = onTouchStart.bind( this );\n\t\tthis._onTouchMove = onTouchMove.bind( this );\n\n\t\tthis._onMouseDown = onMouseDown.bind( this );\n\t\tthis._onMouseMove = onMouseMove.bind( this );\n\n\t\tthis._interceptControlDown = interceptControlDown.bind( this );\n\t\tthis._interceptControlUp = interceptControlUp.bind( this );\n\n\t\t//\n\n\t\tif ( this.domElement !== null ) {\n\n\t\t\tthis.connect();\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\tconnect() {\n\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\t\tthis.domElement.addEventListener( 'wheel', this._onMouseWheel, { passive: false } );\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.addEventListener( 'keydown', this._interceptControlDown, { passive: true, capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\t\tthis.domElement.removeEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.removeEventListener( 'wheel', this._onMouseWheel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.stopListenToKeyEvents();\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.removeEventListener( 'keydown', this._interceptControlDown, { capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'auto';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.disconnect();\n\n\t}\n\n\tgetPolarAngle() {\n\n\t\treturn this._spherical.phi;\n\n\t}\n\n\tgetAzimuthalAngle() {\n\n\t\treturn this._spherical.theta;\n\n\t}\n\n\tgetDistance() {\n\n\t\treturn this.object.position.distanceTo( this.target );\n\n\t}\n\n\tlistenToKeyEvents( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', this._onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t}\n\n\tstopListenToKeyEvents() {\n\n\t\tif ( this._domElementKeyEvents !== null ) {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', this._onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t}\n\n\t}\n\n\tsaveState() {\n\n\t\tthis.target0.copy( this.target );\n\t\tthis.position0.copy( this.object.position );\n\t\tthis.zoom0 = this.object.zoom;\n\n\t}\n\n\treset() {\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t\tthis.update();\n\n\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tupdate( deltaTime = null ) {\n\n\t\tconst position = this.object.position;\n\n\t\t_v.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t_v.applyQuaternion( this._quat );\n\n\t\t// angle from z-axis around y-axis\n\t\tthis._spherical.setFromVector3( _v );\n\n\t\tif ( this.autoRotate && this.state === _STATE.NONE ) {\n\n\t\t\tthis._rotateLeft( this._getAutoRotationAngle( deltaTime ) );\n\n\t\t}\n\n\t\tif ( this.enableDamping ) {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta * this.dampingFactor;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi * this.dampingFactor;\n\n\t\t} else {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi;\n\n\t\t}\n\n\t\t// restrict theta to be between desired limits\n\n\t\tlet min = this.minAzimuthAngle;\n\t\tlet max = this.maxAzimuthAngle;\n\n\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\tif ( min < - Math.PI ) min += _twoPI; else if ( min > Math.PI ) min -= _twoPI;\n\n\t\t\tif ( max < - Math.PI ) max += _twoPI; else if ( max > Math.PI ) max -= _twoPI;\n\n\t\t\tif ( min <= max ) {\n\n\t\t\t\tthis._spherical.theta = Math.max( min, Math.min( max, this._spherical.theta ) );\n\n\t\t\t} else {\n\n\t\t\t\tthis._spherical.theta = ( this._spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\tMath.max( min, this._spherical.theta ) :\n\t\t\t\t\tMath.min( max, this._spherical.theta );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restrict phi to be between desired limits\n\t\tthis._spherical.phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, this._spherical.phi ) );\n\n\t\tthis._spherical.makeSafe();\n\n\n\t\t// move target to panned location\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis.target.addScaledVector( this._panOffset, this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis.target.add( this._panOffset );\n\n\t\t}\n\n\t\t// Limit the target distance from the cursor to create a sphere around the center of interest\n\t\tthis.target.sub( this.cursor );\n\t\tthis.target.clampLength( this.minTargetRadius, this.maxTargetRadius );\n\t\tthis.target.add( this.cursor );\n\n\t\tlet zoomChanged = false;\n\t\t// adjust the camera position based on zoom only if we're not zooming to the cursor or if it's an ortho camera\n\t\t// we adjust zoom later in these cases\n\t\tif ( this.zoomToCursor && this._performCursorZoom || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius );\n\n\t\t} else {\n\n\t\t\tconst prevRadius = this._spherical.radius;\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius * this._scale );\n\t\t\tzoomChanged = prevRadius != this._spherical.radius;\n\n\t\t}\n\n\t\t_v.setFromSpherical( this._spherical );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t_v.applyQuaternion( this._quatInverse );\n\n\t\tposition.copy( this.target ).add( _v );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis._sphericalDelta.theta *= ( 1 - this.dampingFactor );\n\t\t\tthis._sphericalDelta.phi *= ( 1 - this.dampingFactor );\n\n\t\t\tthis._panOffset.multiplyScalar( 1 - this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis._sphericalDelta.set( 0, 0, 0 );\n\n\t\t\tthis._panOffset.set( 0, 0, 0 );\n\n\t\t}\n\n\t\t// adjust camera position\n\t\tif ( this.zoomToCursor && this._performCursorZoom ) {\n\n\t\t\tlet newRadius = null;\n\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t// move the camera down the pointer ray\n\t\t\t\t// this method avoids floating point error\n\t\t\t\tconst prevRadius = _v.length();\n\t\t\t\tnewRadius = this._clampDistance( prevRadius * this._scale );\n\n\t\t\t\tconst radiusDelta = prevRadius - newRadius;\n\t\t\t\tthis.object.position.addScaledVector( this._dollyDirection, radiusDelta );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tzoomChanged = !! radiusDelta;\n\n\t\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t// adjust the ortho camera position based on zoom changes\n\t\t\t\tconst mouseBefore = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseBefore.unproject( this.object );\n\n\t\t\t\tconst prevZoom = this.object.zoom;\n\t\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t\tzoomChanged = prevZoom !== this.object.zoom;\n\n\t\t\t\tconst mouseAfter = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseAfter.unproject( this.object );\n\n\t\t\t\tthis.object.position.sub( mouseAfter ).add( mouseBefore );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tnewRadius = _v.length();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.' );\n\t\t\t\tthis.zoomToCursor = false;\n\n\t\t\t}\n\n\t\t\t// handle the placement of the target\n\t\t\tif ( newRadius !== null ) {\n\n\t\t\t\tif ( this.screenSpacePanning ) {\n\n\t\t\t\t\t// position the orbit target in front of the new camera position\n\t\t\t\t\tthis.target.set( 0, 0, - 1 )\n\t\t\t\t\t\t.transformDirection( this.object.matrix )\n\t\t\t\t\t\t.multiplyScalar( newRadius )\n\t\t\t\t\t\t.add( this.object.position );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// get the ray and translation plane to compute target\n\t\t\t\t\t_ray.origin.copy( this.object.position );\n\t\t\t\t\t_ray.direction.set( 0, 0, - 1 ).transformDirection( this.object.matrix );\n\n\t\t\t\t\t// if the camera is 20 degrees above the horizon then don't adjust the focus target to avoid\n\t\t\t\t\t// extremely large values\n\t\t\t\t\tif ( Math.abs( this.object.up.dot( _ray.direction ) ) < _TILT_LIMIT ) {\n\n\t\t\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( this.object.up, this.target );\n\t\t\t\t\t\t_ray.intersectPlane( _plane, this.target );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\tconst prevZoom = this.object.zoom;\n\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\n\t\t\tif ( prevZoom !== this.object.zoom ) {\n\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._scale = 1;\n\t\tthis._performCursorZoom = false;\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( zoomChanged ||\n\t\t\tthis._lastPosition.distanceToSquared( this.object.position ) > _EPS ||\n\t\t\t8 * ( 1 - this._lastQuaternion.dot( this.object.quaternion ) ) > _EPS ||\n\t\t\tthis._lastTargetPosition.distanceToSquared( this.target ) > _EPS ) {\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\tthis._lastPosition.copy( this.object.position );\n\t\t\tthis._lastQuaternion.copy( this.object.quaternion );\n\t\t\tthis._lastTargetPosition.copy( this.target );\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_getAutoRotationAngle( deltaTime ) {\n\n\t\tif ( deltaTime !== null ) {\n\n\t\t\treturn ( _twoPI / 60 * this.autoRotateSpeed ) * deltaTime;\n\n\t\t} else {\n\n\t\t\treturn _twoPI / 60 / 60 * this.autoRotateSpeed;\n\n\t\t}\n\n\t}\n\n\t_getZoomScale( delta ) {\n\n\t\tconst normalizedDelta = Math.abs( delta * 0.01 );\n\t\treturn Math.pow( 0.95, this.zoomSpeed * normalizedDelta );\n\n\t}\n\n\t_rotateLeft( angle ) {\n\n\t\tthis._sphericalDelta.theta -= angle;\n\n\t}\n\n\t_rotateUp( angle ) {\n\n\t\tthis._sphericalDelta.phi -= angle;\n\n\t}\n\n\t_panLeft( distance, objectMatrix ) {\n\n\t\t_v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t_v.multiplyScalar( - distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t_panUp( distance, objectMatrix ) {\n\n\t\tif ( this.screenSpacePanning === true ) {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t} else {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t_v.crossVectors( this.object.up, _v );\n\n\t\t}\n\n\t\t_v.multiplyScalar( distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\t_pan( deltaX, deltaY ) {\n\n\t\tconst element = this.domElement;\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t// perspective\n\t\t\tconst position = this.object.position;\n\t\t\t_v.copy( position ).sub( this.target );\n\t\t\tlet targetDistance = _v.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\tthis._panLeft( 2 * deltaX * targetDistance / element.clientHeight, this.object.matrix );\n\t\t\tthis._panUp( 2 * deltaY * targetDistance / element.clientHeight, this.object.matrix );\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t// orthographic\n\t\t\tthis._panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / element.clientWidth, this.object.matrix );\n\t\t\tthis._panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / element.clientHeight, this.object.matrix );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic nor perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\tthis.enablePan = false;\n\n\t\t}\n\n\t}\n\n\t_dollyOut( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale /= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_dollyIn( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale *= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_updateZoomParameters( x, y ) {\n\n\t\tif ( ! this.zoomToCursor ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._performCursorZoom = true;\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\t\tconst dx = x - rect.left;\n\t\tconst dy = y - rect.top;\n\t\tconst w = rect.width;\n\t\tconst h = rect.height;\n\n\t\tthis._mouse.x = ( dx / w ) * 2 - 1;\n\t\tthis._mouse.y = - ( dy / h ) * 2 + 1;\n\n\t\tthis._dollyDirection.set( this._mouse.x, this._mouse.y, 1 ).unproject( this.object ).sub( this.object.position ).normalize();\n\n\t}\n\n\t_clampDistance( dist ) {\n\n\t\treturn Math.max( this.minDistance, Math.min( this.maxDistance, dist ) );\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\t_handleMouseDownRotate( event ) {\n\n\t\tthis._rotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownDolly( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientX );\n\t\tthis._dollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownPan( event ) {\n\n\t\tthis._panStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseMoveRotate( event ) {\n\n\t\tthis._rotateEnd.set( event.clientX, event.clientY );\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMoveDolly( event ) {\n\n\t\tthis._dollyEnd.set( event.clientX, event.clientY );\n\n\t\tthis._dollyDelta.subVectors( this._dollyEnd, this._dollyStart );\n\n\t\tif ( this._dollyDelta.y > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t} else if ( this._dollyDelta.y < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t}\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMovePan( event ) {\n\n\t\tthis._panEnd.set( event.clientX, event.clientY );\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseWheel( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientY );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( event.deltaY ) );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( event.deltaY ) );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\t_handleKeyDown( event ) {\n\n\t\tlet needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase this.keys.UP:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.BOTTOM:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, - this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.RIGHT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( - _twoPI * this.keyRotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( - this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.update();\n\n\t\t}\n\n\n\t}\n\n\t_handleTouchStartRotate( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._rotateStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartPan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyStart.set( 0, distance );\n\n\t}\n\n\t_handleTouchStartDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchStartPan( event );\n\n\t}\n\n\t_handleTouchStartDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchStartRotate( event );\n\n\t}\n\n\t_handleTouchMoveRotate( event ) {\n\n\t\tif ( this._pointers.length == 1 ) {\n\n\t\t\tthis._rotateEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t}\n\n\t_handleTouchMovePan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t}\n\n\t_handleTouchMoveDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyEnd.set( 0, distance );\n\n\t\tthis._dollyDelta.set( 0, Math.pow( this._dollyEnd.y / this._dollyStart.y, this.zoomSpeed ) );\n\n\t\tthis._dollyOut( this._dollyDelta.y );\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tconst centerX = ( event.pageX + position.x ) * 0.5;\n\t\tconst centerY = ( event.pageY + position.y ) * 0.5;\n\n\t\tthis._updateZoomParameters( centerX, centerY );\n\n\t}\n\n\t_handleTouchMoveDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchMovePan( event );\n\n\t}\n\n\t_handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchMoveRotate( event );\n\n\t}\n\n\t// pointers\n\n\t_addPointer( event ) {\n\n\t\tthis._pointers.push( event.pointerId );\n\n\t}\n\n\t_removePointer( event ) {\n\n\t\tdelete this._pointerPositions[ event.pointerId ];\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) {\n\n\t\t\t\tthis._pointers.splice( i, 1 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_isTrackingPointer( event ) {\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_trackPointer( event ) {\n\n\t\tlet position = this._pointerPositions[ event.pointerId ];\n\n\t\tif ( position === undefined ) {\n\n\t\t\tposition = new Vector2();\n\t\t\tthis._pointerPositions[ event.pointerId ] = position;\n\n\t\t}\n\n\t\tposition.set( event.pageX, event.pageY );\n\n\t}\n\n\t_getSecondPointerPosition( event ) {\n\n\t\tconst pointerId = ( event.pointerId === this._pointers[ 0 ] ) ? this._pointers[ 1 ] : this._pointers[ 0 ];\n\n\t\treturn this._pointerPositions[ pointerId ];\n\n\t}\n\n\t//\n\n\t_customWheelEvent( event ) {\n\n\t\tconst mode = event.deltaMode;\n\n\t\t// minimal wheel event altered to meet delta-zoom demand\n\t\tconst newEvent = {\n\t\t\tclientX: event.clientX,\n\t\t\tclientY: event.clientY,\n\t\t\tdeltaY: event.deltaY,\n\t\t};\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 1: // LINE_MODE\n\t\t\t\tnewEvent.deltaY *= 16;\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // PAGE_MODE\n\t\t\t\tnewEvent.deltaY *= 100;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// detect if event was triggered by pinching\n\t\tif ( event.ctrlKey && ! this._controlActive ) {\n\n\t\t\tnewEvent.deltaY *= 10;\n\n\t\t}\n\n\t\treturn newEvent;\n\n\t}\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( this._pointers.length === 0 ) {\n\n\t\tthis.domElement.setPointerCapture( event.pointerId );\n\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerUp );\n\n\t}\n\n\t//\n\n\tif ( this._isTrackingPointer( event ) ) return;\n\n\t//\n\n\tthis._addPointer( event );\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchStart( event );\n\n\t} else {\n\n\t\tthis._onMouseDown( event );\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchMove( event );\n\n\t} else {\n\n\t\tthis._onMouseMove( event );\n\n\t}\n\n}\n\nfunction onPointerUp( event ) {\n\n\tthis._removePointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 0:\n\n\t\t\tthis.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tconst pointerId = this._pointers[ 0 ];\n\t\t\tconst position = this._pointerPositions[ pointerId ];\n\n\t\t\t// minimal placeholder event - allows state correction on pointer-up\n\t\t\tthis._onTouchStart( { pointerId: pointerId, pageX: position.x, pageY: position.y } );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseDown( event ) {\n\n\tlet mouseAction;\n\n\tswitch ( event.button ) {\n\n\t\tcase 0:\n\n\t\t\tmouseAction = this.mouseButtons.LEFT;\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tmouseAction = this.mouseButtons.MIDDLE;\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tmouseAction = this.mouseButtons.RIGHT;\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tmouseAction = - 1;\n\n\t}\n\n\tswitch ( mouseAction ) {\n\n\t\tcase MOUSE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseDownDolly( event );\n\n\t\t\tthis.state = _STATE.DOLLY;\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.ROTATE:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.PAN:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onMouseMove( event ) {\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleMouseMoveRotate( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseMoveDolly( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleMouseMovePan( event );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseWheel( event ) {\n\n\tif ( this.enabled === false || this.enableZoom === false || this.state !== _STATE.NONE ) return;\n\n\tevent.preventDefault();\n\n\tthis.dispatchEvent( _startEvent );\n\n\tthis._handleMouseWheel( this._customWheelEvent( event ) );\n\n\tthis.dispatchEvent( _endEvent );\n\n}\n\nfunction onKeyDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tthis._handleKeyDown( event );\n\n}\n\nfunction onTouchStart( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 1:\n\n\t\t\tswitch ( this.touches.ONE ) {\n\n\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tswitch ( this.touches.TWO ) {\n\n\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onTouchMove( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.TOUCH_ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMovePan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_PAN:\n\n\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyPan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tevent.preventDefault();\n\n}\n\nfunction interceptControlDown( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = true;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.addEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nfunction interceptControlUp( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = false;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.removeEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nexport { OrbitControls };\n","import { MOUSE, TOUCH } from 'three';\n\nimport { OrbitControls } from './OrbitControls.js';\n\n// MapControls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons = { LEFT: MOUSE.PAN, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.ROTATE };\n\n\t\tthis.touches = { ONE: TOUCH.PAN, TWO: TOUCH.DOLLY_ROTATE };\n\n\t}\n\n}\n\nexport { MapControls };\n","/** @module NodeConstants **/\n\n/**\n * Possible shader stages.\n *\n * @property {string} VERTEX The vertex shader stage.\n * @property {string} FRAGMENT The fragment shader stage.\n */\nexport const NodeShaderStage = {\n\tVERTEX: 'vertex',\n\tFRAGMENT: 'fragment'\n};\n\n/**\n * Update types of a node.\n *\n * @property {string} NONE The update method is not executed.\n * @property {string} FRAME The update method is executed per frame.\n * @property {string} RENDER The update method is executed per render. A frame might be produced by multiple render calls so this value allows more detailed updates than FRAME.\n * @property {string} OBJECT The update method is executed per {@link Object3D} that uses the node for rendering.\n */\nexport const NodeUpdateType = {\n\tNONE: 'none',\n\tFRAME: 'frame',\n\tRENDER: 'render',\n\tOBJECT: 'object'\n};\n\n/**\n * Data types of a node.\n *\n * @property {string} BOOLEAN Boolean type.\n * @property {string} INTEGER Integer type.\n * @property {string} FLOAT Float type.\n * @property {string} VECTOR2 Two-dimensional vector type.\n * @property {string} VECTOR3 Three-dimensional vector type.\n * @property {string} VECTOR4 Four-dimensional vector type.\n * @property {string} MATRIX2 2x2 matrix type.\n * @property {string} MATRIX3 3x3 matrix type.\n * @property {string} MATRIX4 4x4 matrix type.\n */\nexport const NodeType = {\n\tBOOLEAN: 'bool',\n\tINTEGER: 'int',\n\tFLOAT: 'float',\n\tVECTOR2: 'vec2',\n\tVECTOR3: 'vec3',\n\tVECTOR4: 'vec4',\n\tMATRIX2: 'mat2',\n\tMATRIX3: 'mat3',\n\tMATRIX4: 'mat4'\n};\n\n/**\n * Access types of a node. These are relevant for compute and storage usage.\n *\n * @property {string} READ_ONLY Read-only access\n * @property {string} WRITE_ONLY Write-only access.\n * @property {string} READ_WRITE Read and write access.\n */\nexport const NodeAccess = {\n\tREAD_ONLY: 'readOnly',\n\tWRITE_ONLY: 'writeOnly',\n\tREAD_WRITE: 'readWrite',\n};\n\nexport const defaultShaderStages = [ 'fragment', 'vertex' ];\nexport const defaultBuildStages = [ 'setup', 'analyze', 'generate' ];\nexport const shaderStages = [ ...defaultShaderStages, 'compute' ];\nexport const vectorComponents = [ 'x', 'y', 'z', 'w' ];\n","const _lut = [ '00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '0a', '0b', '0c', '0d', '0e', '0f', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '1a', '1b', '1c', '1d', '1e', '1f', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '2a', '2b', '2c', '2d', '2e', '2f', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '3a', '3b', '3c', '3d', '3e', '3f', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '4a', '4b', '4c', '4d', '4e', '4f', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '5a', '5b', '5c', '5d', '5e', '5f', '60', '61', '62', '63', '64', '65', '66', '67', '68', '69', '6a', '6b', '6c', '6d', '6e', '6f', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '7a', '7b', '7c', '7d', '7e', '7f', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '8a', '8b', '8c', '8d', '8e', '8f', '90', '91', '92', '93', '94', '95', '96', '97', '98', '99', '9a', '9b', '9c', '9d', '9e', '9f', 'a0', 'a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a7', 'a8', 'a9', 'aa', 'ab', 'ac', 'ad', 'ae', 'af', 'b0', 'b1', 'b2', 'b3', 'b4', 'b5', 'b6', 'b7', 'b8', 'b9', 'ba', 'bb', 'bc', 'bd', 'be', 'bf', 'c0', 'c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'ca', 'cb', 'cc', 'cd', 'ce', 'cf', 'd0', 'd1', 'd2', 'd3', 'd4', 'd5', 'd6', 'd7', 'd8', 'd9', 'da', 'db', 'dc', 'dd', 'de', 'df', 'e0', 'e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7', 'e8', 'e9', 'ea', 'eb', 'ec', 'ed', 'ee', 'ef', 'f0', 'f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7', 'f8', 'f9', 'fa', 'fb', 'fc', 'fd', 'fe', 'ff' ];\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toLowerCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toLowerCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidean modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t} else {\n\n\t\treturn 0;\n\n\t}\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s;\n\n\t// Mulberry32 generator\n\n\tlet t = _seed += 0x6D2B79F5;\n\n\tt = Math.imul( t ^ t >>> 15, t | 1 );\n\n\tt ^= t + Math.imul( t ^ t >>> 7, t | 61 );\n\n\treturn ( ( t ^ t >>> 14 ) >>> 0 ) / 4294967296;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nfunction denormalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint32Array:\n\n\t\t\treturn value / 4294967295.0;\n\n\t\tcase Uint16Array:\n\n\t\t\treturn value / 65535.0;\n\n\t\tcase Uint8Array:\n\n\t\t\treturn value / 255.0;\n\n\t\tcase Int32Array:\n\n\t\t\treturn Math.max( value / 2147483647.0, - 1.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.max( value / 32767.0, - 1.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.max( value / 127.0, - 1.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nfunction normalize( value, array ) {\n\n\tswitch ( array.constructor ) {\n\n\t\tcase Float32Array:\n\n\t\t\treturn value;\n\n\t\tcase Uint32Array:\n\n\t\t\treturn Math.round( value * 4294967295.0 );\n\n\t\tcase Uint16Array:\n\n\t\t\treturn Math.round( value * 65535.0 );\n\n\t\tcase Uint8Array:\n\n\t\t\treturn Math.round( value * 255.0 );\n\n\t\tcase Int32Array:\n\n\t\t\treturn Math.round( value * 2147483647.0 );\n\n\t\tcase Int16Array:\n\n\t\t\treturn Math.round( value * 32767.0 );\n\n\t\tcase Int8Array:\n\n\t\t\treturn Math.round( value * 127.0 );\n\n\t\tdefault:\n\n\t\t\tthrow new Error( 'Invalid component type.' );\n\n\t}\n\n}\n\nconst MathUtils = {\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\tnormalize: normalize,\n\tdenormalize: denormalize\n};\n\nexport {\n\tDEG2RAD,\n\tRAD2DEG,\n\tgenerateUUID,\n\tclamp,\n\teuclideanModulo,\n\tmapLinear,\n\tinverseLerp,\n\tlerp,\n\tdamp,\n\tpingpong,\n\tsmoothstep,\n\tsmootherstep,\n\trandInt,\n\trandFloat,\n\trandFloatSpread,\n\tseededRandom,\n\tdegToRad,\n\tradToDeg,\n\tisPowerOfTwo,\n\tceilPowerOfTwo,\n\tfloorPowerOfTwo,\n\tsetQuaternionFromProperEuler,\n\tnormalize,\n\tdenormalize,\n\tMathUtils\n};\n","export const REVISION = '172';\n\nexport const MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nexport const TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nexport const CullFaceNone = 0;\nexport const CullFaceBack = 1;\nexport const CullFaceFront = 2;\nexport const CullFaceFrontBack = 3;\nexport const BasicShadowMap = 0;\nexport const PCFShadowMap = 1;\nexport const PCFSoftShadowMap = 2;\nexport const VSMShadowMap = 3;\nexport const FrontSide = 0;\nexport const BackSide = 1;\nexport const DoubleSide = 2;\nexport const NoBlending = 0;\nexport const NormalBlending = 1;\nexport const AdditiveBlending = 2;\nexport const SubtractiveBlending = 3;\nexport const MultiplyBlending = 4;\nexport const CustomBlending = 5;\nexport const AddEquation = 100;\nexport const SubtractEquation = 101;\nexport const ReverseSubtractEquation = 102;\nexport const MinEquation = 103;\nexport const MaxEquation = 104;\nexport const ZeroFactor = 200;\nexport const OneFactor = 201;\nexport const SrcColorFactor = 202;\nexport const OneMinusSrcColorFactor = 203;\nexport const SrcAlphaFactor = 204;\nexport const OneMinusSrcAlphaFactor = 205;\nexport const DstAlphaFactor = 206;\nexport const OneMinusDstAlphaFactor = 207;\nexport const DstColorFactor = 208;\nexport const OneMinusDstColorFactor = 209;\nexport const SrcAlphaSaturateFactor = 210;\nexport const ConstantColorFactor = 211;\nexport const OneMinusConstantColorFactor = 212;\nexport const ConstantAlphaFactor = 213;\nexport const OneMinusConstantAlphaFactor = 214;\nexport const NeverDepth = 0;\nexport const AlwaysDepth = 1;\nexport const LessDepth = 2;\nexport const LessEqualDepth = 3;\nexport const EqualDepth = 4;\nexport const GreaterEqualDepth = 5;\nexport const GreaterDepth = 6;\nexport const NotEqualDepth = 7;\nexport const MultiplyOperation = 0;\nexport const MixOperation = 1;\nexport const AddOperation = 2;\nexport const NoToneMapping = 0;\nexport const LinearToneMapping = 1;\nexport const ReinhardToneMapping = 2;\nexport const CineonToneMapping = 3;\nexport const ACESFilmicToneMapping = 4;\nexport const CustomToneMapping = 5;\nexport const AgXToneMapping = 6;\nexport const NeutralToneMapping = 7;\nexport const AttachedBindMode = 'attached';\nexport const DetachedBindMode = 'detached';\n\nexport const UVMapping = 300;\nexport const CubeReflectionMapping = 301;\nexport const CubeRefractionMapping = 302;\nexport const EquirectangularReflectionMapping = 303;\nexport const EquirectangularRefractionMapping = 304;\nexport const CubeUVReflectionMapping = 306;\nexport const RepeatWrapping = 1000;\nexport const ClampToEdgeWrapping = 1001;\nexport const MirroredRepeatWrapping = 1002;\nexport const NearestFilter = 1003;\nexport const NearestMipmapNearestFilter = 1004;\nexport const NearestMipMapNearestFilter = 1004;\nexport const NearestMipmapLinearFilter = 1005;\nexport const NearestMipMapLinearFilter = 1005;\nexport const LinearFilter = 1006;\nexport const LinearMipmapNearestFilter = 1007;\nexport const LinearMipMapNearestFilter = 1007;\nexport const LinearMipmapLinearFilter = 1008;\nexport const LinearMipMapLinearFilter = 1008;\nexport const UnsignedByteType = 1009;\nexport const ByteType = 1010;\nexport const ShortType = 1011;\nexport const UnsignedShortType = 1012;\nexport const IntType = 1013;\nexport const UnsignedIntType = 1014;\nexport const FloatType = 1015;\nexport const HalfFloatType = 1016;\nexport const UnsignedShort4444Type = 1017;\nexport const UnsignedShort5551Type = 1018;\nexport const UnsignedInt248Type = 1020;\nexport const UnsignedInt5999Type = 35902;\nexport const AlphaFormat = 1021;\nexport const RGBFormat = 1022;\nexport const RGBAFormat = 1023;\nexport const LuminanceFormat = 1024;\nexport const LuminanceAlphaFormat = 1025;\nexport const DepthFormat = 1026;\nexport const DepthStencilFormat = 1027;\nexport const RedFormat = 1028;\nexport const RedIntegerFormat = 1029;\nexport const RGFormat = 1030;\nexport const RGIntegerFormat = 1031;\nexport const RGBIntegerFormat = 1032;\nexport const RGBAIntegerFormat = 1033;\n\nexport const RGB_S3TC_DXT1_Format = 33776;\nexport const RGBA_S3TC_DXT1_Format = 33777;\nexport const RGBA_S3TC_DXT3_Format = 33778;\nexport const RGBA_S3TC_DXT5_Format = 33779;\nexport const RGB_PVRTC_4BPPV1_Format = 35840;\nexport const RGB_PVRTC_2BPPV1_Format = 35841;\nexport const RGBA_PVRTC_4BPPV1_Format = 35842;\nexport const RGBA_PVRTC_2BPPV1_Format = 35843;\nexport const RGB_ETC1_Format = 36196;\nexport const RGB_ETC2_Format = 37492;\nexport const RGBA_ETC2_EAC_Format = 37496;\nexport const RGBA_ASTC_4x4_Format = 37808;\nexport const RGBA_ASTC_5x4_Format = 37809;\nexport const RGBA_ASTC_5x5_Format = 37810;\nexport const RGBA_ASTC_6x5_Format = 37811;\nexport const RGBA_ASTC_6x6_Format = 37812;\nexport const RGBA_ASTC_8x5_Format = 37813;\nexport const RGBA_ASTC_8x6_Format = 37814;\nexport const RGBA_ASTC_8x8_Format = 37815;\nexport const RGBA_ASTC_10x5_Format = 37816;\nexport const RGBA_ASTC_10x6_Format = 37817;\nexport const RGBA_ASTC_10x8_Format = 37818;\nexport const RGBA_ASTC_10x10_Format = 37819;\nexport const RGBA_ASTC_12x10_Format = 37820;\nexport const RGBA_ASTC_12x12_Format = 37821;\nexport const RGBA_BPTC_Format = 36492;\nexport const RGB_BPTC_SIGNED_Format = 36494;\nexport const RGB_BPTC_UNSIGNED_Format = 36495;\nexport const RED_RGTC1_Format = 36283;\nexport const SIGNED_RED_RGTC1_Format = 36284;\nexport const RED_GREEN_RGTC2_Format = 36285;\nexport const SIGNED_RED_GREEN_RGTC2_Format = 36286;\nexport const LoopOnce = 2200;\nexport const LoopRepeat = 2201;\nexport const LoopPingPong = 2202;\nexport const InterpolateDiscrete = 2300;\nexport const InterpolateLinear = 2301;\nexport const InterpolateSmooth = 2302;\nexport const ZeroCurvatureEnding = 2400;\nexport const ZeroSlopeEnding = 2401;\nexport const WrapAroundEnding = 2402;\nexport const NormalAnimationBlendMode = 2500;\nexport const AdditiveAnimationBlendMode = 2501;\nexport const TrianglesDrawMode = 0;\nexport const TriangleStripDrawMode = 1;\nexport const TriangleFanDrawMode = 2;\nexport const BasicDepthPacking = 3200;\nexport const RGBADepthPacking = 3201;\nexport const RGBDepthPacking = 3202;\nexport const RGDepthPacking = 3203;\nexport const TangentSpaceNormalMap = 0;\nexport const ObjectSpaceNormalMap = 1;\n\n// Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\nexport const NoColorSpace = '';\nexport const SRGBColorSpace = 'srgb';\nexport const LinearSRGBColorSpace = 'srgb-linear';\n\nexport const LinearTransfer = 'linear';\nexport const SRGBTransfer = 'srgb';\n\nexport const ZeroStencilOp = 0;\nexport const KeepStencilOp = 7680;\nexport const ReplaceStencilOp = 7681;\nexport const IncrementStencilOp = 7682;\nexport const DecrementStencilOp = 7683;\nexport const IncrementWrapStencilOp = 34055;\nexport const DecrementWrapStencilOp = 34056;\nexport const InvertStencilOp = 5386;\n\nexport const NeverStencilFunc = 512;\nexport const LessStencilFunc = 513;\nexport const EqualStencilFunc = 514;\nexport const LessEqualStencilFunc = 515;\nexport const GreaterStencilFunc = 516;\nexport const NotEqualStencilFunc = 517;\nexport const GreaterEqualStencilFunc = 518;\nexport const AlwaysStencilFunc = 519;\n\nexport const NeverCompare = 512;\nexport const LessCompare = 513;\nexport const EqualCompare = 514;\nexport const LessEqualCompare = 515;\nexport const GreaterCompare = 516;\nexport const NotEqualCompare = 517;\nexport const GreaterEqualCompare = 518;\nexport const AlwaysCompare = 519;\n\nexport const StaticDrawUsage = 35044;\nexport const DynamicDrawUsage = 35048;\nexport const StreamDrawUsage = 35040;\nexport const StaticReadUsage = 35045;\nexport const DynamicReadUsage = 35049;\nexport const StreamReadUsage = 35041;\nexport const StaticCopyUsage = 35046;\nexport const DynamicCopyUsage = 35050;\nexport const StreamCopyUsage = 35042;\n\nexport const GLSL1 = '100';\nexport const GLSL3 = '300 es';\n\nexport const WebGLCoordinateSystem = 2000;\nexport const WebGPUCoordinateSystem = 2001;\n","class Matrix3 {\n\n\tconstructor( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tMatrix3.prototype.isMatrix3 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( n11 !== undefined ) {\n\n\t\t\tthis.set( n11, n12, n13, n21, n22, n23, n31, n32, n33 );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tscale( sx, sy ) {\n\n\t\tthis.premultiply( _m3.makeScale( sx, sy ) );\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tthis.premultiply( _m3.makeRotation( - theta ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tthis.premultiply( _m3.makeTranslation( tx, ty ) );\n\n\t\treturn this;\n\n\t}\n\n\t// for 2D Transforms\n\n\tmakeTranslation( x, y ) {\n\n\t\tif ( x.isVector2 ) {\n\n\t\t\tthis.set(\n\n\t\t\t\t1, 0, x.x,\n\t\t\t\t0, 1, x.y,\n\t\t\t\t0, 0, 1\n\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tthis.set(\n\n\t\t\t\t1, 0, x,\n\t\t\t\t0, 1, y,\n\t\t\t\t0, 0, 1\n\n\t\t\t);\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotation( theta ) {\n\n\t\t// counterclockwise\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0,\n\t\t\ts, c, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0,\n\t\t\t0, y, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\t//\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nconst _m3 = /*@__PURE__*/ new Matrix3();\n\nexport { Matrix3 };\n","import { SRGBColorSpace, LinearSRGBColorSpace, SRGBTransfer, LinearTransfer, NoColorSpace } from '../constants.js';\nimport { Matrix3 } from './Matrix3.js';\n\nconst LINEAR_REC709_TO_XYZ = /*@__PURE__*/ new Matrix3().set(\n\t0.4123908, 0.3575843, 0.1804808,\n\t0.2126390, 0.7151687, 0.0721923,\n\t0.0193308, 0.1191948, 0.9505322\n);\n\nconst XYZ_TO_LINEAR_REC709 = /*@__PURE__*/ new Matrix3().set(\n\t3.2409699, - 1.5373832, - 0.4986108,\n\t- 0.9692436, 1.8759675, 0.0415551,\n\t0.0556301, - 0.2039770, 1.0569715\n);\n\nfunction createColorManagement() {\n\n\tconst ColorManagement = {\n\n\t\tenabled: true,\n\n\t\tworkingColorSpace: LinearSRGBColorSpace,\n\n\t\t/**\n\t\t * Implementations of supported color spaces.\n\t\t *\n\t\t * Required:\n\t\t *\t- primaries: chromaticity coordinates [ rx ry gx gy bx by ]\n\t\t *\t- whitePoint: reference white [ x y ]\n\t\t *\t- transfer: transfer function (pre-defined)\n\t\t *\t- toXYZ: Matrix3 RGB to XYZ transform\n\t\t *\t- fromXYZ: Matrix3 XYZ to RGB transform\n\t\t *\t- luminanceCoefficients: RGB luminance coefficients\n\t\t *\n\t\t * Optional:\n\t\t *  - outputColorSpaceConfig: { drawingBufferColorSpace: ColorSpace }\n\t\t *  - workingColorSpaceConfig: { unpackColorSpace: ColorSpace }\n\t\t *\n\t\t * Reference:\n\t\t * - https://www.russellcottrell.com/photo/matrixCalculator.htm\n\t\t */\n\t\tspaces: {},\n\n\t\tconvert: function ( color, sourceColorSpace, targetColorSpace ) {\n\n\t\t\tif ( this.enabled === false || sourceColorSpace === targetColorSpace || ! sourceColorSpace || ! targetColorSpace ) {\n\n\t\t\t\treturn color;\n\n\t\t\t}\n\n\t\t\tif ( this.spaces[ sourceColorSpace ].transfer === SRGBTransfer ) {\n\n\t\t\t\tcolor.r = SRGBToLinear( color.r );\n\t\t\t\tcolor.g = SRGBToLinear( color.g );\n\t\t\t\tcolor.b = SRGBToLinear( color.b );\n\n\t\t\t}\n\n\t\t\tif ( this.spaces[ sourceColorSpace ].primaries !== this.spaces[ targetColorSpace ].primaries ) {\n\n\t\t\t\tcolor.applyMatrix3( this.spaces[ sourceColorSpace ].toXYZ );\n\t\t\t\tcolor.applyMatrix3( this.spaces[ targetColorSpace ].fromXYZ );\n\n\t\t\t}\n\n\t\t\tif ( this.spaces[ targetColorSpace ].transfer === SRGBTransfer ) {\n\n\t\t\t\tcolor.r = LinearToSRGB( color.r );\n\t\t\t\tcolor.g = LinearToSRGB( color.g );\n\t\t\t\tcolor.b = LinearToSRGB( color.b );\n\n\t\t\t}\n\n\t\t\treturn color;\n\n\t\t},\n\n\t\tfromWorkingColorSpace: function ( color, targetColorSpace ) {\n\n\t\t\treturn this.convert( color, this.workingColorSpace, targetColorSpace );\n\n\t\t},\n\n\t\ttoWorkingColorSpace: function ( color, sourceColorSpace ) {\n\n\t\t\treturn this.convert( color, sourceColorSpace, this.workingColorSpace );\n\n\t\t},\n\n\t\tgetPrimaries: function ( colorSpace ) {\n\n\t\t\treturn this.spaces[ colorSpace ].primaries;\n\n\t\t},\n\n\t\tgetTransfer: function ( colorSpace ) {\n\n\t\t\tif ( colorSpace === NoColorSpace ) return LinearTransfer;\n\n\t\t\treturn this.spaces[ colorSpace ].transfer;\n\n\t\t},\n\n\t\tgetLuminanceCoefficients: function ( target, colorSpace = this.workingColorSpace ) {\n\n\t\t\treturn target.fromArray( this.spaces[ colorSpace ].luminanceCoefficients );\n\n\t\t},\n\n\t\tdefine: function ( colorSpaces ) {\n\n\t\t\tObject.assign( this.spaces, colorSpaces );\n\n\t\t},\n\n\t\t// Internal APIs\n\n\t\t_getMatrix: function ( targetMatrix, sourceColorSpace, targetColorSpace ) {\n\n\t\t\treturn targetMatrix\n\t\t\t\t.copy( this.spaces[ sourceColorSpace ].toXYZ )\n\t\t\t\t.multiply( this.spaces[ targetColorSpace ].fromXYZ );\n\n\t\t},\n\n\t\t_getDrawingBufferColorSpace: function ( colorSpace ) {\n\n\t\t\treturn this.spaces[ colorSpace ].outputColorSpaceConfig.drawingBufferColorSpace;\n\n\t\t},\n\n\t\t_getUnpackColorSpace: function ( colorSpace = this.workingColorSpace ) {\n\n\t\t\treturn this.spaces[ colorSpace ].workingColorSpaceConfig.unpackColorSpace;\n\n\t\t}\n\n\t};\n\n\t/******************************************************************************\n\t * sRGB definitions\n\t */\n\n\tconst REC709_PRIMARIES = [ 0.640, 0.330, 0.300, 0.600, 0.150, 0.060 ];\n\tconst REC709_LUMINANCE_COEFFICIENTS = [ 0.2126, 0.7152, 0.0722 ];\n\tconst D65 = [ 0.3127, 0.3290 ];\n\n\tColorManagement.define( {\n\n\t\t[ LinearSRGBColorSpace ]: {\n\t\t\tprimaries: REC709_PRIMARIES,\n\t\t\twhitePoint: D65,\n\t\t\ttransfer: LinearTransfer,\n\t\t\ttoXYZ: LINEAR_REC709_TO_XYZ,\n\t\t\tfromXYZ: XYZ_TO_LINEAR_REC709,\n\t\t\tluminanceCoefficients: REC709_LUMINANCE_COEFFICIENTS,\n\t\t\tworkingColorSpaceConfig: { unpackColorSpace: SRGBColorSpace },\n\t\t\toutputColorSpaceConfig: { drawingBufferColorSpace: SRGBColorSpace }\n\t\t},\n\n\t\t[ SRGBColorSpace ]: {\n\t\t\tprimaries: REC709_PRIMARIES,\n\t\t\twhitePoint: D65,\n\t\t\ttransfer: SRGBTransfer,\n\t\t\ttoXYZ: LINEAR_REC709_TO_XYZ,\n\t\t\tfromXYZ: XYZ_TO_LINEAR_REC709,\n\t\t\tluminanceCoefficients: REC709_LUMINANCE_COEFFICIENTS,\n\t\t\toutputColorSpaceConfig: { drawingBufferColorSpace: SRGBColorSpace }\n\t\t},\n\n\t} );\n\n\treturn ColorManagement;\n\n}\n\nexport const ColorManagement = /*@__PURE__*/ createColorManagement();\n\nexport function SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nexport function LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n","import { clamp, euclideanModulo, lerp } from './MathUtils.js';\nimport { ColorManagement, SRGBToLinear, LinearToSRGB } from './ColorManagement.js';\nimport { SRGBColorSpace } from '../constants.js';\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tthis.isColor = true;\n\n\t\tthis.r = 1;\n\t\tthis.g = 1;\n\t\tthis.b = 1;\n\n\t\treturn this.set( r, g, b );\n\n\t}\n\n\tset( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\n\t\t\tconst value = r;\n\n\t\t\tif ( value && value.isColor ) {\n\n\t\t\t\tthis.copy( value );\n\n\t\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\t\tthis.setHex( value );\n\n\t\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\t\tthis.setStyle( value );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.setRGB( r, g, b );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex, colorSpace = SRGBColorSpace ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\tColorManagement.toWorkingColorSpace( this, colorSpace );\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style, colorSpace = SRGBColorSpace ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^(\\w+)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setRGB(\n\t\t\t\t\t\t\tMath.min( 255, parseInt( color[ 1 ], 10 ) ) / 255,\n\t\t\t\t\t\t\tMath.min( 255, parseInt( color[ 2 ], 10 ) ) / 255,\n\t\t\t\t\t\t\tMath.min( 255, parseInt( color[ 3 ], 10 ) ) / 255,\n\t\t\t\t\t\t\tcolorSpace\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setRGB(\n\t\t\t\t\t\t\tMath.min( 100, parseInt( color[ 1 ], 10 ) ) / 100,\n\t\t\t\t\t\t\tMath.min( 100, parseInt( color[ 2 ], 10 ) ) / 100,\n\t\t\t\t\t\t\tMath.min( 100, parseInt( color[ 3 ], 10 ) ) / 100,\n\t\t\t\t\t\t\tcolorSpace\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*,\\s*(\\d*\\.?\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL(\n\t\t\t\t\t\t\tparseFloat( color[ 1 ] ) / 360,\n\t\t\t\t\t\t\tparseFloat( color[ 2 ] ) / 100,\n\t\t\t\t\t\t\tparseFloat( color[ 3 ] ) / 100,\n\t\t\t\t\t\t\tcolorSpace\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tconsole.warn( 'THREE.Color: Unknown color model ' + style );\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\treturn this.setRGB(\n\t\t\t\t\tparseInt( hex.charAt( 0 ), 16 ) / 15,\n\t\t\t\t\tparseInt( hex.charAt( 1 ), 16 ) / 15,\n\t\t\t\t\tparseInt( hex.charAt( 2 ), 16 ) / 15,\n\t\t\t\t\tcolorSpace\n\t\t\t\t);\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\treturn this.setHex( parseInt( hex, 16 ), colorSpace );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Invalid hex color ' + style );\n\n\t\t\t}\n\n\t\t} else if ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style, colorSpace );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style, colorSpace = SRGBColorSpace ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex, colorSpace );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\treturn Math.round( clamp( _color.r * 255, 0, 255 ) ) * 65536 + Math.round( clamp( _color.g * 255, 0, 255 ) ) * 256 + Math.round( clamp( _color.b * 255, 0, 255 ) );\n\n\t}\n\n\tgetHexString( colorSpace = SRGBColorSpace ) {\n\n\t\treturn ( '000000' + this.getHex( colorSpace ).toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\tconst r = _color.r, g = _color.g, b = _color.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetRGB( target, colorSpace = ColorManagement.workingColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\ttarget.r = _color.r;\n\t\ttarget.g = _color.g;\n\t\ttarget.b = _color.b;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle( colorSpace = SRGBColorSpace ) {\n\n\t\tColorManagement.fromWorkingColorSpace( _color.copy( this ), colorSpace );\n\n\t\tconst r = _color.r, g = _color.g, b = _color.b;\n\n\t\tif ( colorSpace !== SRGBColorSpace ) {\n\n\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\treturn `color(${ colorSpace } ${ r.toFixed( 3 ) } ${ g.toFixed( 3 ) } ${ b.toFixed( 3 ) })`;\n\n\t\t}\n\n\t\treturn `rgb(${ Math.round( r * 255 ) },${ Math.round( g * 255 ) },${ Math.round( b * 255 ) })`;\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\treturn this.setHSL( _hslA.h + h, _hslA.s + s, _hslA.l + l );\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\tthis.r = v.x;\n\t\tthis.g = v.y;\n\t\tthis.b = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\t\tconst e = m.elements;\n\n\t\tthis.r = e[ 0 ] * r + e[ 3 ] * g + e[ 6 ] * b;\n\t\tthis.g = e[ 1 ] * r + e[ 4 ] * g + e[ 7 ] * b;\n\t\tthis.b = e[ 2 ] * r + e[ 5 ] * g + e[ 8 ] * b;\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.r;\n\t\tyield this.g;\n\t\tyield this.b;\n\n\t}\n\n}\n\nconst _color = /*@__PURE__*/ new Color();\n\nColor.NAMES = _colorKeywords;\n\nexport { Color };\n","import { clamp } from './MathUtils.js';\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.isQuaternion = true;\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update = true ) {\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize(); // normalize calls _onChangeCallback()\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\treturn this.copy( qa ).slerp( qb, t );\n\n\t}\n\n\trandom() {\n\n\t\t// sets this quaternion to a uniform random unit quaternnion\n\n\t\t// Ken Shoemake\n\t\t// Uniform random rotations\n\t\t// D. Kirk, editor, Graphics Gems III, pages 124-132. Academic Press, New York, 1992.\n\n\t\tconst theta1 = 2 * Math.PI * Math.random();\n\t\tconst theta2 = 2 * Math.PI * Math.random();\n\n\t\tconst x0 = Math.random();\n\t\tconst r1 = Math.sqrt( 1 - x0 );\n\t\tconst r2 = Math.sqrt( x0 );\n\n\t\treturn this.set(\n\t\t\tr1 * Math.sin( theta1 ),\n\t\t\tr1 * Math.cos( theta1 ),\n\t\t\tr2 * Math.sin( theta2 ),\n\t\t\tr2 * Math.cos( theta2 ),\n\t\t);\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.toArray();\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this._x;\n\t\tyield this._y;\n\t\tyield this._z;\n\t\tyield this._w;\n\n\t}\n\n}\n\nexport { Quaternion };\n","import { clamp } from './MathUtils.js';\nimport { Quaternion } from './Quaternion.js';\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tVector3.prototype.isVector3 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t// quaternion q is assumed to have unit length\n\n\t\tconst vx = this.x, vy = this.y, vz = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// t = 2 * cross( q.xyz, v );\n\t\tconst tx = 2 * ( qy * vz - qz * vy );\n\t\tconst ty = 2 * ( qz * vx - qx * vz );\n\t\tconst tz = 2 * ( qx * vy - qy * vx );\n\n\t\t// v + q.w * t + cross( q.xyz, t );\n\t\tthis.x = vx + qw * tx + qy * tz - qz * ty;\n\t\tthis.y = vy + qw * ty + qz * tx - qx * tz;\n\t\tthis.z = vz + qw * tz + qx * ty - qy * tx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = clamp( this.x, min.x, max.x );\n\t\tthis.y = clamp( this.y, min.y, max.y );\n\t\tthis.z = clamp( this.z, min.z, max.z );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = clamp( this.x, minVal, maxVal );\n\t\tthis.y = clamp( this.y, minVal, maxVal );\n\t\tthis.z = clamp( this.z, minVal, maxVal );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( clamp( length, min, max ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = Math.trunc( this.x );\n\t\tthis.y = Math.trunc( this.y );\n\t\tthis.z = Math.trunc( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tsetFromEuler( e ) {\n\n\t\tthis.x = e._x;\n\t\tthis.y = e._y;\n\t\tthis.z = e._z;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromColor( c ) {\n\n\t\tthis.x = c.r;\n\t\tthis.y = c.g;\n\t\tthis.z = c.b;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\trandomDirection() {\n\n\t\t// https://mathworld.wolfram.com/SpherePointPicking.html\n\n\t\tconst theta = Math.random() * Math.PI * 2;\n\t\tconst u = Math.random() * 2 - 1;\n\t\tconst c = Math.sqrt( 1 - u * u );\n\n\t\tthis.x = c * Math.cos( theta );\n\t\tthis.y = u;\n\t\tthis.z = c * Math.sin( theta );\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nexport { Vector3 };\n","import { WebGLCoordinateSystem, WebGPUCoordinateSystem } from '../constants.js';\nimport { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n\n\tconstructor( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tMatrix4.prototype.isMatrix4 = true;\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( n11 !== undefined ) {\n\n\t\t\tthis.set( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tthis.set(\n\n\t\t\t\t1, 0, 0, x.x,\n\t\t\t\t0, 1, 0, x.y,\n\t\t\t\t0, 0, 1, x.z,\n\t\t\t\t0, 0, 0, 1\n\n\t\t\t);\n\n\t\t} else {\n\n\t\t\tthis.set(\n\n\t\t\t\t1, 0, 0, x,\n\t\t\t\t0, 1, 0, y,\n\t\t\t\t0, 0, 1, z,\n\t\t\t\t0, 0, 0, 1\n\n\t\t\t);\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far, coordinateSystem = WebGLCoordinateSystem ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\n\t\tlet c, d;\n\n\t\tif ( coordinateSystem === WebGLCoordinateSystem ) {\n\n\t\t\tc = - ( far + near ) / ( far - near );\n\t\t\td = ( - 2 * far * near ) / ( far - near );\n\n\t\t} else if ( coordinateSystem === WebGPUCoordinateSystem ) {\n\n\t\t\tc = - far / ( far - near );\n\t\t\td = ( - far * near ) / ( far - near );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.Matrix4.makePerspective(): Invalid coordinate system: ' + coordinateSystem );\n\n\t\t}\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a; \tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b; \tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c; \tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far, coordinateSystem = WebGLCoordinateSystem ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\n\t\tlet z, zInv;\n\n\t\tif ( coordinateSystem === WebGLCoordinateSystem ) {\n\n\t\t\tz = ( far + near ) * p;\n\t\t\tzInv = - 2 * p;\n\n\t\t} else if ( coordinateSystem === WebGPUCoordinateSystem ) {\n\n\t\t\tz = near * p;\n\t\t\tzInv = - 1 * p;\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'THREE.Matrix4.makeOrthographic(): Invalid coordinate system: ' + coordinateSystem );\n\n\t\t}\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\t\tte[ 8 ] = 0; \t\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0; \t\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0; \t\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0; \t\tte[ 6 ] = 0;\t\tte[ 10 ] = zInv;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0; \t\tte[ 7 ] = 0;\t\tte[ 11 ] = 0;\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nexport { Matrix4 };\n","import { clamp } from './MathUtils.js';\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tVector2.prototype.isVector2 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = clamp( this.x, min.x, max.x );\n\t\tthis.y = clamp( this.y, min.y, max.y );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = clamp( this.x, minVal, maxVal );\n\t\tthis.y = clamp( this.y, minVal, maxVal );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( clamp( length, min, max ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = Math.trunc( this.x );\n\t\tthis.y = Math.trunc( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\n\t}\n\n}\n\nexport { Vector2 };\n","import { clamp } from './MathUtils.js';\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tVector4.prototype.isVector4 = true;\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v ) {\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v ) {\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\t\tthis.w /= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\t\tthis.w = e[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = clamp( this.x, min.x, max.x );\n\t\tthis.y = clamp( this.y, min.y, max.y );\n\t\tthis.z = clamp( this.z, min.z, max.z );\n\t\tthis.w = clamp( this.w, min.w, max.w );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = clamp( this.x, minVal, maxVal );\n\t\tthis.y = clamp( this.y, minVal, maxVal );\n\t\tthis.z = clamp( this.z, minVal, maxVal );\n\t\tthis.w = clamp( this.w, minVal, maxVal );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( clamp( length, min, max ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = Math.trunc( this.x );\n\t\tthis.y = Math.trunc( this.y );\n\t\tthis.z = Math.trunc( this.z );\n\t\tthis.w = Math.trunc( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n\t*[ Symbol.iterator ]() {\n\n\t\tyield this.x;\n\t\tyield this.y;\n\t\tyield this.z;\n\t\tyield this.w;\n\n\t}\n\n}\n\nexport { Vector4 };\n","import { Color } from '../../math/Color.js';\nimport { Matrix3 } from '../../math/Matrix3.js';\nimport { Matrix4 } from '../../math/Matrix4.js';\nimport { Vector2 } from '../../math/Vector2.js';\nimport { Vector3 } from '../../math/Vector3.js';\nimport { Vector4 } from '../../math/Vector4.js';\n\n/** @module NodeUtils **/\n\n// cyrb53 (c) 2018 bryc (github.com/bryc). License: Public domain. Attribution appreciated.\n// A fast and simple 64-bit (or 53-bit) string hash function with decent collision resistance.\n// Largely inspired by MurmurHash2/3, but with a focus on speed/simplicity.\n// See https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript/52171480#52171480\n// https://github.com/bryc/code/blob/master/jshash/experimental/cyrb53.js\nfunction cyrb53( value, seed = 0 ) {\n\n\tlet h1 = 0xdeadbeef ^ seed, h2 = 0x41c6ce57 ^ seed;\n\n\tif ( value instanceof Array ) {\n\n\t\tfor ( let i = 0, val; i < value.length; i ++ ) {\n\n\t\t\tval = value[ i ];\n\t\t\th1 = Math.imul( h1 ^ val, 2654435761 );\n\t\t\th2 = Math.imul( h2 ^ val, 1597334677 );\n\n\t\t}\n\n\t} else {\n\n\t\tfor ( let i = 0, ch; i < value.length; i ++ ) {\n\n\t\t\tch = value.charCodeAt( i );\n\t\t\th1 = Math.imul( h1 ^ ch, 2654435761 );\n\t\t\th2 = Math.imul( h2 ^ ch, 1597334677 );\n\n\t\t}\n\n\t}\n\n\th1 = Math.imul( h1 ^ ( h1 >>> 16 ), 2246822507 );\n\th1 ^= Math.imul( h2 ^ ( h2 >>> 13 ), 3266489909 );\n\th2 = Math.imul( h2 ^ ( h2 >>> 16 ), 2246822507 );\n\th2 ^= Math.imul( h1 ^ ( h1 >>> 13 ), 3266489909 );\n\n\treturn 4294967296 * ( 2097151 & h2 ) + ( h1 >>> 0 );\n\n}\n\n/**\n * Computes a hash for the given string.\n *\n * @method\n * @param {String} str - The string to be hashed.\n * @return {Number} The hash.\n */\nexport const hashString = ( str ) => cyrb53( str );\n\n/**\n * Computes a hash for the given array.\n *\n * @method\n * @param {Array<Number>} array - The array to be hashed.\n * @return {Number} The hash.\n */\nexport const hashArray = ( array ) => cyrb53( array );\n\n/**\n * Computes a hash for the given list of parameters.\n *\n * @method\n * @param {...Number} params - A list of parameters.\n * @return {Number} The hash.\n */\nexport const hash = ( ...params ) => cyrb53( params );\n\n/**\n * Computes a cache key for the given node.\n *\n * @method\n * @param {Object} object - The object to be hashed.\n * @param {Boolean} [force=false] - Whether to force a cache key computation or not.\n * @return {Number} The hash.\n */\nexport function getCacheKey( object, force = false ) {\n\n\tconst values = [];\n\n\tif ( object.isNode === true ) {\n\n\t\tvalues.push( object.id );\n\t\tobject = object.getSelf();\n\n\t}\n\n\tfor ( const { property, childNode } of getNodeChildren( object ) ) {\n\n\t\tvalues.push( values, cyrb53( property.slice( 0, - 4 ) ), childNode.getCacheKey( force ) );\n\n\t}\n\n\treturn cyrb53( values );\n\n}\n\n/**\n * This generator function can be used to iterate over the node children\n * of the given object.\n *\n * @generator\n * @param {Object} node - The object to be hashed.\n * @param {Boolean} [toJSON=false] - Whether to return JSON or not.\n * @yields {Object} A result node holding the property, index (if available) and the child node.\n */\nexport function* getNodeChildren( node, toJSON = false ) {\n\n\tfor ( const property in node ) {\n\n\t\t// Ignore private properties.\n\t\tif ( property.startsWith( '_' ) === true ) continue;\n\n\t\tconst object = node[ property ];\n\n\t\tif ( Array.isArray( object ) === true ) {\n\n\t\t\tfor ( let i = 0; i < object.length; i ++ ) {\n\n\t\t\t\tconst child = object[ i ];\n\n\t\t\t\tif ( child && ( child.isNode === true || toJSON && typeof child.toJSON === 'function' ) ) {\n\n\t\t\t\t\tyield { property, index: i, childNode: child };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( object && object.isNode === true ) {\n\n\t\t\tyield { property, childNode: object };\n\n\t\t} else if ( typeof object === 'object' ) {\n\n\t\t\tfor ( const subProperty in object ) {\n\n\t\t\t\tconst child = object[ subProperty ];\n\n\t\t\t\tif ( child && ( child.isNode === true || toJSON && typeof child.toJSON === 'function' ) ) {\n\n\t\t\t\t\tyield { property, index: subProperty, childNode: child };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nconst typeFromLength = /*@__PURE__*/ new Map( [\n\t[ 1, 'float' ],\n\t[ 2, 'vec2' ],\n\t[ 3, 'vec3' ],\n\t[ 4, 'vec4' ],\n\t[ 9, 'mat3' ],\n\t[ 16, 'mat4' ]\n] );\n\nconst dataFromObject = /*@__PURE__*/ new WeakMap();\n\n/**\n * Returns the data type for the given the length.\n *\n * @method\n * @param {Number} length - The length.\n * @return {String} The data type.\n */\nexport function getTypeFromLength( length ) {\n\n\treturn typeFromLength.get( length );\n\n}\n\n/**\n * Returns the typed array for the given data type.\n *\n * @method\n * @param {String} type - The data type.\n * @return {TypedArray} The typed array.\n */\nexport function getTypedArrayFromType( type ) {\n\n\t// Handle component type for vectors and matrices\n\tif ( /[iu]?vec\\d/.test( type ) ) {\n\n\t\t// Handle int vectors\n\t\tif ( type.startsWith( 'ivec' ) ) return Int32Array;\n\t\t// Handle uint vectors\n\t\tif ( type.startsWith( 'uvec' ) ) return Uint32Array;\n\t\t// Default to float vectors\n\t\treturn Float32Array;\n\n\t}\n\n\t// Handle matrices (always float)\n\tif ( /mat\\d/.test( type ) ) return Float32Array;\n\n\t// Basic types\n\tif ( /float/.test( type ) ) return Float32Array;\n\tif ( /uint/.test( type ) ) return Uint32Array;\n\tif ( /int/.test( type ) ) return Int32Array;\n\n\tthrow new Error( `THREE.NodeUtils: Unsupported type: ${type}` );\n\n}\n\n/**\n * Returns the length for the given data type.\n *\n * @method\n * @param {String} type - The data type.\n * @return {Number} The length.\n */\nexport function getLengthFromType( type ) {\n\n\tif ( /float|int|uint/.test( type ) ) return 1;\n\tif ( /vec2/.test( type ) ) return 2;\n\tif ( /vec3/.test( type ) ) return 3;\n\tif ( /vec4/.test( type ) ) return 4;\n\tif ( /mat3/.test( type ) ) return 9;\n\tif ( /mat4/.test( type ) ) return 16;\n\n\tconsole.error( 'THREE.TSL: Unsupported type:', type );\n\n}\n\n/**\n * Returns the data type for the given value.\n *\n * @method\n * @param {Any} value - The value.\n * @return {String?} The data type.\n */\nexport function getValueType( value ) {\n\n\tif ( value === undefined || value === null ) return null;\n\n\tconst typeOf = typeof value;\n\n\tif ( value.isNode === true ) {\n\n\t\treturn 'node';\n\n\t} else if ( typeOf === 'number' ) {\n\n\t\treturn 'float';\n\n\t} else if ( typeOf === 'boolean' ) {\n\n\t\treturn 'bool';\n\n\t} else if ( typeOf === 'string' ) {\n\n\t\treturn 'string';\n\n\t} else if ( typeOf === 'function' ) {\n\n\t\treturn 'shader';\n\n\t} else if ( value.isVector2 === true ) {\n\n\t\treturn 'vec2';\n\n\t} else if ( value.isVector3 === true ) {\n\n\t\treturn 'vec3';\n\n\t} else if ( value.isVector4 === true ) {\n\n\t\treturn 'vec4';\n\n\t} else if ( value.isMatrix3 === true ) {\n\n\t\treturn 'mat3';\n\n\t} else if ( value.isMatrix4 === true ) {\n\n\t\treturn 'mat4';\n\n\t} else if ( value.isColor === true ) {\n\n\t\treturn 'color';\n\n\t} else if ( value instanceof ArrayBuffer ) {\n\n\t\treturn 'ArrayBuffer';\n\n\t}\n\n\treturn null;\n\n}\n\n/**\n * Returns the value/object for the given data type and parameters.\n *\n * @method\n * @param {String} type - The given type.\n * @param {...Any} params - A parameter list.\n * @return {Any} The value/object.\n */\nexport function getValueFromType( type, ...params ) {\n\n\tconst last4 = type ? type.slice( - 4 ) : undefined;\n\n\tif ( params.length === 1 ) { // ensure same behaviour as in NodeBuilder.format()\n\n\t\tif ( last4 === 'vec2' ) params = [ params[ 0 ], params[ 0 ] ];\n\t\telse if ( last4 === 'vec3' ) params = [ params[ 0 ], params[ 0 ], params[ 0 ] ];\n\t\telse if ( last4 === 'vec4' ) params = [ params[ 0 ], params[ 0 ], params[ 0 ], params[ 0 ] ];\n\n\t}\n\n\tif ( type === 'color' ) {\n\n\t\treturn new Color( ...params );\n\n\t} else if ( last4 === 'vec2' ) {\n\n\t\treturn new Vector2( ...params );\n\n\t} else if ( last4 === 'vec3' ) {\n\n\t\treturn new Vector3( ...params );\n\n\t} else if ( last4 === 'vec4' ) {\n\n\t\treturn new Vector4( ...params );\n\n\t} else if ( last4 === 'mat3' ) {\n\n\t\treturn new Matrix3( ...params );\n\n\t} else if ( last4 === 'mat4' ) {\n\n\t\treturn new Matrix4( ...params );\n\n\t} else if ( type === 'bool' ) {\n\n\t\treturn params[ 0 ] || false;\n\n\t} else if ( ( type === 'float' ) || ( type === 'int' ) || ( type === 'uint' ) ) {\n\n\t\treturn params[ 0 ] || 0;\n\n\t} else if ( type === 'string' ) {\n\n\t\treturn params[ 0 ] || '';\n\n\t} else if ( type === 'ArrayBuffer' ) {\n\n\t\treturn base64ToArrayBuffer( params[ 0 ] );\n\n\t}\n\n\treturn null;\n\n}\n\n/**\n * Gets the object data that can be shared between different rendering steps.\n *\n * @param {Object} object - The object to get the data for.\n * @return {Object} The object data.\n */\nexport function getDataFromObject( object ) {\n\n\tlet data = dataFromObject.get( object );\n\n\tif ( data === undefined ) {\n\n\t\tdata = {};\n\t\tdataFromObject.set( object, data );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * Converts the given array buffer to a Base64 string.\n *\n * @method\n * @param {ArrayBuffer} arrayBuffer - The array buffer.\n * @return {String} The Base64 string.\n */\nexport function arrayBufferToBase64( arrayBuffer ) {\n\n\tlet chars = '';\n\n\tconst array = new Uint8Array( arrayBuffer );\n\n\tfor ( let i = 0; i < array.length; i ++ ) {\n\n\t\tchars += String.fromCharCode( array[ i ] );\n\n\t}\n\n\treturn btoa( chars );\n\n}\n\n/**\n * Converts the given Base64 string to an array buffer.\n *\n * @method\n * @param {String} base64 - The Base64 string.\n * @return {ArrayBuffer} The array buffer.\n */\nexport function base64ToArrayBuffer( base64 ) {\n\n\treturn Uint8Array.from( atob( base64 ), c => c.charCodeAt( 0 ) ).buffer;\n\n}\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { EventDispatcher };\n","import { NodeUpdateType } from './constants.js';\nimport { getNodeChildren, getCacheKey, hash } from './NodeUtils.js';\n\nimport { EventDispatcher } from '../../core/EventDispatcher.js';\nimport { MathUtils } from '../../math/MathUtils.js';\n\nlet _nodeId = 0;\n\n/**\n * Base class for all nodes.\n *\n * @augments EventDispatcher\n */\nclass Node extends EventDispatcher {\n\n\tstatic get type() {\n\n\t\treturn 'Node';\n\n\t}\n\n\t/**\n\t * Constructs a new node.\n\t *\n\t * @param {String?} nodeType - The node type.\n\t */\n\tconstructor( nodeType = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node type. This represents the result type of the node (e.g. `float` or `vec3`).\n\t\t *\n\t\t * @type {String?}\n\t\t * @default null\n\t\t */\n\t\tthis.nodeType = nodeType;\n\n\t\t/**\n\t\t * The update type of the node's {@link Node#update} method. Possible values are listed in {@link NodeUpdateType}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'none'\n\t\t */\n\t\tthis.updateType = NodeUpdateType.NONE;\n\n\t\t/**\n\t\t * The update type of the node's {@link Node#updateBefore} method. Possible values are listed in {@link NodeUpdateType}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'none'\n\t\t */\n\t\tthis.updateBeforeType = NodeUpdateType.NONE;\n\n\t\t/**\n\t\t * The update type of the node's {@link Node#updateAfter} method. Possible values are listed in {@link NodeUpdateType}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'none'\n\t\t */\n\t\tthis.updateAfterType = NodeUpdateType.NONE;\n\n\t\t/**\n\t\t * The UUID of the node.\n\t\t *\n\t\t * @type {String}\n\t\t * @readonly\n\t\t */\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\t/**\n\t\t * The version of the node. The version automatically is increased when {@link Node#needsUpdate} is set to `true`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @readonly\n\t\t * @default 0\n\t\t */\n\t\tthis.version = 0;\n\n\t\t/**\n\t\t * Whether this node is global or not. This property is relevant for the internal\n\t\t * node caching system. All nodes which should be declared just once should\n\t\t * set this flag to `true` (a typical example is {@link AttributeNode}).\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.global = false;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isNode = true;\n\n\t\t// private\n\n\t\t/**\n\t\t * The cache key of this node.\n\t\t *\n\t\t * @private\n\t\t * @type {Number?}\n\t\t * @default null\n\t\t */\n\t\tthis._cacheKey = null;\n\n\t\t/**\n\t\t * The cache key 's version.\n\t\t *\n\t\t * @private\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._cacheKeyVersion = 0;\n\n\t\tObject.defineProperty( this, 'id', { value: _nodeId ++ } );\n\n\t}\n\n\t/**\n\t * Set this property to `true` when the node should be regenerated.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @param {boolean} value\n\t */\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * The type of the class. The value is usually the constructor name.\n\t *\n\t * @type {String}\n \t * @readonly\n\t */\n\tget type() {\n\n\t\treturn this.constructor.type;\n\n\t}\n\n\t/**\n\t * Convenient method for defining {@link Node#update}.\n\t *\n\t * @param {Function} callback - The update method.\n\t * @param {String} updateType - The update type.\n\t * @return {Node} A reference to this node.\n\t */\n\tonUpdate( callback, updateType ) {\n\n\t\tthis.updateType = updateType;\n\t\tthis.update = callback.bind( this.getSelf() );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Convenient method for defining {@link Node#update}. Similar to {@link Node#onUpdate}, but\n\t * this method automatically sets the update type to `FRAME`.\n\t *\n\t * @param {Function} callback - The update method.\n\t * @return {Node} A reference to this node.\n\t */\n\tonFrameUpdate( callback ) {\n\n\t\treturn this.onUpdate( callback, NodeUpdateType.FRAME );\n\n\t}\n\n\t/**\n\t * Convenient method for defining {@link Node#update}. Similar to {@link Node#onUpdate}, but\n\t * this method automatically sets the update type to `RENDER`.\n\t *\n\t * @param {Function} callback - The update method.\n\t * @return {Node} A reference to this node.\n\t */\n\tonRenderUpdate( callback ) {\n\n\t\treturn this.onUpdate( callback, NodeUpdateType.RENDER );\n\n\t}\n\n\t/**\n\t * Convenient method for defining {@link Node#update}. Similar to {@link Node#onUpdate}, but\n\t * this method automatically sets the update type to `OBJECT`.\n\t *\n\t * @param {Function} callback - The update method.\n\t * @return {Node} A reference to this node.\n\t */\n\tonObjectUpdate( callback ) {\n\n\t\treturn this.onUpdate( callback, NodeUpdateType.OBJECT );\n\n\t}\n\n\t/**\n\t * Convenient method for defining {@link Node#updateReference}.\n\t *\n\t * @param {Function} callback - The update method.\n\t * @return {Node} A reference to this node.\n\t */\n\tonReference( callback ) {\n\n\t\tthis.updateReference = callback.bind( this.getSelf() );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * The `this` reference might point to a Proxy so this method can be used\n\t * to get the reference to the actual node instance.\n\t *\n\t * @return {Node} A reference to the node.\n\t */\n\tgetSelf() {\n\n\t\t// Returns non-node object.\n\n\t\treturn this.self || this;\n\n\t}\n\n\t/**\n\t * Nodes might refer to other objects like materials. This method allows to dynamically update the reference\n\t * to such objects based on a given state (e.g. the current node frame or builder).\n\t *\n\t * @param {Any} state - This method can be invocated in different contexts so `state` can refer to any object type.\n\t * @return {Any} The updated reference.\n\t */\n\tupdateReference( /*state*/ ) {\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * By default this method returns the value of the {@link Node#global} flag. This method\n\t * can be overwritten in derived classes if an analytical way is required to determine the\n\t * global status.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Boolean} Whether this node is global or not.\n\t */\n\tisGlobal( /*builder*/ ) {\n\n\t\treturn this.global;\n\n\t}\n\n\t/**\n\t * Generator function that can be used to iterate over the child nodes.\n\t *\n\t * @generator\n\t * @yields {Node} A child node.\n\t */\n\t* getChildren() {\n\n\t\tfor ( const { childNode } of getNodeChildren( this ) ) {\n\n\t\t\tyield childNode;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Calling this method dispatches the `dispose` event. This event can be used\n\t * to register event listeners for clean up tasks.\n\t */\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\t/**\n\t * Callback for {@link Node#traverse}.\n\t *\n\t * @callback traverseCallback\n\t * @param {Node} node - The current node.\n\t */\n\n\t/**\n\t * Can be used to traverse through the node's hierarchy.\n\t *\n\t * @param {traverseCallback} callback - A callback that is executed per node.\n\t */\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tfor ( const childNode of this.getChildren() ) {\n\n\t\t\tchildNode.traverse( callback );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Returns the cache key for this node.\n\t *\n\t * @param {Boolean} [force=false] - When set to `true`, a recomputation of the cache key is forced.\n\t * @return {Number} The cache key of the node.\n\t */\n\tgetCacheKey( force = false ) {\n\n\t\tforce = force || this.version !== this._cacheKeyVersion;\n\n\t\tif ( force === true || this._cacheKey === null ) {\n\n\t\t\tthis._cacheKey = hash( getCacheKey( this, force ), this.customCacheKey() );\n\t\t\tthis._cacheKeyVersion = this.version;\n\n\t\t}\n\n\t\treturn this._cacheKey;\n\n\t}\n\n\t/**\n\t * Generate a custom cache key for this node.\n\t *\n\t * @return {Number} The cache key of the node.\n\t */\n\tcustomCacheKey() {\n\n\t\treturn 0;\n\n\t}\n\n\t/**\n\t * Returns the references to this node which is by default `this`.\n\t *\n\t * @return {Node} A reference to this node.\n\t */\n\tgetScope() {\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns the hash of the node which is used to identify the node. By default it's\n\t * the {@link Node#uuid} however derived node classes might have to overwrite this method\n\t * depending on their implementation.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The hash.\n\t */\n\tgetHash( /*builder*/ ) {\n\n\t\treturn this.uuid;\n\n\t}\n\n\t/**\n\t * Returns the update type of {@link Node#update}.\n\t *\n\t * @return {NodeUpdateType} The update type.\n\t */\n\tgetUpdateType() {\n\n\t\treturn this.updateType;\n\n\t}\n\n\t/**\n\t * Returns the update type of {@link Node#updateBefore}.\n\t *\n\t * @return {NodeUpdateType} The update type.\n\t */\n\tgetUpdateBeforeType() {\n\n\t\treturn this.updateBeforeType;\n\n\t}\n\n\t/**\n\t * Returns the update type of {@link Node#updateAfter}.\n\t *\n\t * @return {NodeUpdateType} The update type.\n\t */\n\tgetUpdateAfterType() {\n\n\t\treturn this.updateAfterType;\n\n\t}\n\n\t/**\n\t * Certain types are composed of multiple elements. For example a `vec3`\n\t * is composed of three `float` values. This method returns the type of\n\t * these elements.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The type of the node.\n\t */\n\tgetElementType( builder ) {\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst elementType = builder.getElementType( type );\n\n\t\treturn elementType;\n\n\t}\n\n\t/**\n\t * Returns the node's type.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The type of the node.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tconst nodeProperties = builder.getNodeProperties( this );\n\n\t\tif ( nodeProperties.outputNode ) {\n\n\t\t\treturn nodeProperties.outputNode.getNodeType( builder );\n\n\t\t}\n\n\t\treturn this.nodeType;\n\n\t}\n\n\t/**\n\t * This method is used during the build process of a node and ensures\n\t * equal nodes are not built multiple times but just once. For example if\n\t * `attribute( 'uv' )` is used multiple times by the user, the build\n\t * process makes sure to process just the first node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Node} The shared node if possible. Otherwise `this` is returned.\n\t */\n\tgetShared( builder ) {\n\n\t\tconst hash = this.getHash( builder );\n\t\tconst nodeFromHash = builder.getNodeFromHash( hash );\n\n\t\treturn nodeFromHash || this;\n\n\t}\n\n\t/**\n\t * Represents the setup stage which is the first step of the build process, see {@link Node#build} method.\n\t * This method is often overwritten in derived modules to prepare the node which is used as the output/result.\n\t * The output node must be returned in the `return` statement.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Node?} The output node.\n\t */\n\tsetup( builder ) {\n\n\t\tconst nodeProperties = builder.getNodeProperties( this );\n\n\t\tlet index = 0;\n\n\t\tfor ( const childNode of this.getChildren() ) {\n\n\t\t\tnodeProperties[ 'node' + index ++ ] = childNode;\n\n\t\t}\n\n\t\t// return a outputNode if exists or null\n\n\t\treturn nodeProperties.outputNode || null;\n\n\t}\n\n\t/**\n\t * Represents the analyze stage which is the second step of the build process, see {@link Node#build} method.\n\t * This stage analyzes the node hierarchy and ensures descendent nodes are built.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t */\n\tanalyze( builder ) {\n\n\t\tconst usageCount = builder.increaseUsage( this );\n\n\t\tif ( usageCount === 1 ) {\n\n\t\t\t// node flow children\n\n\t\t\tconst nodeProperties = builder.getNodeProperties( this );\n\n\t\t\tfor ( const childNode of Object.values( nodeProperties ) ) {\n\n\t\t\t\tif ( childNode && childNode.isNode === true ) {\n\n\t\t\t\t\tchildNode.build( builder );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Represents the generate stage which is the third step of the build process, see {@link Node#build} method.\n\t * This state builds the output node and returns the resulting shader string.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @param {String?} output - Can be used to define the output type.\n\t * @return {String?} The generated shader string.\n\t */\n\tgenerate( builder, output ) {\n\n\t\tconst { outputNode } = builder.getNodeProperties( this );\n\n\t\tif ( outputNode && outputNode.isNode === true ) {\n\n\t\t\treturn outputNode.build( builder, output );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * The method can be implemented to update the node's internal state before it is used to render an object.\n\t * The {@link Node#updateBeforeType} property defines how often the update is executed.\n\t *\n\t * @abstract\n\t * @param {NodeFrame} frame - A reference to the current node frame.\n\t * @return {Boolean?} An optional bool that indicates whether the implementation actually performed an update or not (e.g. due to caching).\n\t */\n\tupdateBefore( /*frame*/ ) {\n\n\t\tconsole.warn( 'Abstract function.' );\n\n\t}\n\n\t/**\n\t * The method can be implemented to update the node's internal state after it was used to render an object.\n\t * The {@link Node#updateAfterType} property defines how often the update is executed.\n\t *\n\t * @abstract\n\t * @param {NodeFrame} frame - A reference to the current node frame.\n\t * @return {Boolean?} An optional bool that indicates whether the implementation actually performed an update or not (e.g. due to caching).\n\t */\n\tupdateAfter( /*frame*/ ) {\n\n\t\tconsole.warn( 'Abstract function.' );\n\n\t}\n\n\t/**\n\t * The method can be implemented to update the node's internal state when it is used to render an object.\n\t * The {@link Node#updateType} property defines how often the update is executed.\n\t *\n\t * @abstract\n\t * @param {NodeFrame} frame - A reference to the current node frame.\n\t * @return {Boolean?} An optional bool that indicates whether the implementation actually performed an update or not (e.g. due to caching).\n\t */\n\tupdate( /*frame*/ ) {\n\n\t\tconsole.warn( 'Abstract function.' );\n\n\t}\n\n\t/**\n\t * This method performs the build of a node. The behavior of this method as well as its return value depend\n\t * on the current build stage (setup, analyze or generate).\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @param {String?} output - Can be used to define the output type.\n\t * @return {String?} When this method is executed in the setup or analyze stage, `null` is returned. In the generate stage, the generated shader string.\n\t */\n\tbuild( builder, output = null ) {\n\n\t\tconst refNode = this.getShared( builder );\n\n\t\tif ( this !== refNode ) {\n\n\t\t\treturn refNode.build( builder, output );\n\n\t\t}\n\n\t\tbuilder.addNode( this );\n\t\tbuilder.addChain( this );\n\n\t\t/* Build stages expected results:\n\t\t\t- \"setup\"\t\t-> Node\n\t\t\t- \"analyze\"\t\t-> null\n\t\t\t- \"generate\"\t-> String\n\t\t*/\n\t\tlet result = null;\n\n\t\tconst buildStage = builder.getBuildStage();\n\n\t\tif ( buildStage === 'setup' ) {\n\n\t\t\tthis.updateReference( builder );\n\n\t\t\tconst properties = builder.getNodeProperties( this );\n\n\t\t\tif ( properties.initialized !== true ) {\n\n\t\t\t\t//const stackNodesBeforeSetup = builder.stack.nodes.length;\n\n\t\t\t\tproperties.initialized = true;\n\n\t\t\t\tconst outputNode = this.setup( builder ); // return a node or null\n\t\t\t\tconst isNodeOutput = outputNode && outputNode.isNode === true;\n\n\t\t\t\t/*if ( isNodeOutput && builder.stack.nodes.length !== stackNodesBeforeSetup ) {\n\n\t\t\t\t\t// !! no outputNode !!\n\t\t\t\t\t//outputNode = builder.stack;\n\n\t\t\t\t}*/\n\n\t\t\t\tfor ( const childNode of Object.values( properties ) ) {\n\n\t\t\t\t\tif ( childNode && childNode.isNode === true ) {\n\n\t\t\t\t\t\tchildNode.build( builder );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( isNodeOutput ) {\n\n\t\t\t\t\toutputNode.build( builder );\n\n\t\t\t\t}\n\n\t\t\t\tproperties.outputNode = outputNode;\n\n\t\t\t}\n\n\t\t} else if ( buildStage === 'analyze' ) {\n\n\t\t\tthis.analyze( builder );\n\n\t\t} else if ( buildStage === 'generate' ) {\n\n\t\t\tconst isGenerateOnce = this.generate.length === 1;\n\n\t\t\tif ( isGenerateOnce ) {\n\n\t\t\t\tconst type = this.getNodeType( builder );\n\t\t\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\t\t\tresult = nodeData.snippet;\n\n\t\t\t\tif ( result === undefined ) {\n\n\t\t\t\t\tresult = this.generate( builder ) || '';\n\n\t\t\t\t\tnodeData.snippet = result;\n\n\t\t\t\t} else if ( nodeData.flowCodes !== undefined && builder.context.nodeBlock !== undefined ) {\n\n\t\t\t\t\tbuilder.addFlowCodeHierarchy( this, builder.context.nodeBlock );\n\n\t\t\t\t}\n\n\t\t\t\tresult = builder.format( result, type, output );\n\n\t\t\t} else {\n\n\t\t\t\tresult = this.generate( builder, output ) || '';\n\n\t\t\t}\n\n\t\t}\n\n\t\tbuilder.removeChain( this );\n\t\tbuilder.addSequentialNode( this );\n\n\t\treturn result;\n\n\t}\n\n\t/**\n\t * Returns the child nodes as a JSON object.\n\t *\n\t * @return {Object} The serialized child objects as JSON.\n\t */\n\tgetSerializeChildren() {\n\n\t\treturn getNodeChildren( this );\n\n\t}\n\n\t/**\n\t * Serializes the node to JSON.\n\t *\n\t * @param {Object} json - The output JSON object.\n\t */\n\tserialize( json ) {\n\n\t\tconst nodeChildren = this.getSerializeChildren();\n\n\t\tconst inputNodes = {};\n\n\t\tfor ( const { property, index, childNode } of nodeChildren ) {\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tif ( inputNodes[ property ] === undefined ) {\n\n\t\t\t\t\tinputNodes[ property ] = Number.isInteger( index ) ? [] : {};\n\n\t\t\t\t}\n\n\t\t\t\tinputNodes[ property ][ index ] = childNode.toJSON( json.meta ).uuid;\n\n\t\t\t} else {\n\n\t\t\t\tinputNodes[ property ] = childNode.toJSON( json.meta ).uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( inputNodes ).length > 0 ) {\n\n\t\t\tjson.inputNodes = inputNodes;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Deserializes the node from the given JSON.\n\t *\n\t * @param {Object} json - The JSON object.\n\t */\n\tdeserialize( json ) {\n\n\t\tif ( json.inputNodes !== undefined ) {\n\n\t\t\tconst nodes = json.meta.nodes;\n\n\t\t\tfor ( const property in json.inputNodes ) {\n\n\t\t\t\tif ( Array.isArray( json.inputNodes[ property ] ) ) {\n\n\t\t\t\t\tconst inputArray = [];\n\n\t\t\t\t\tfor ( const uuid of json.inputNodes[ property ] ) {\n\n\t\t\t\t\t\tinputArray.push( nodes[ uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis[ property ] = inputArray;\n\n\t\t\t\t} else if ( typeof json.inputNodes[ property ] === 'object' ) {\n\n\t\t\t\t\tconst inputObject = {};\n\n\t\t\t\t\tfor ( const subProperty in json.inputNodes[ property ] ) {\n\n\t\t\t\t\t\tconst uuid = json.inputNodes[ property ][ subProperty ];\n\n\t\t\t\t\t\tinputObject[ subProperty ] = nodes[ uuid ];\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis[ property ] = inputObject;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst uuid = json.inputNodes[ property ];\n\n\t\t\t\t\tthis[ property ] = nodes[ uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Serializes the node into the three.js JSON Object/Scene format.\n\t *\n\t * @param {Object?} meta - An optional JSON object that already holds serialized data from other scene objects.\n\t * @return {Object} The serialized node.\n\t */\n\ttoJSON( meta ) {\n\n\t\tconst { uuid, type } = this;\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t}\n\n\t\t// serialize\n\n\t\tlet data = meta.nodes[ uuid ];\n\n\t\tif ( data === undefined ) {\n\n\t\t\tdata = {\n\t\t\t\tuuid,\n\t\t\t\ttype,\n\t\t\t\tmeta,\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.6,\n\t\t\t\t\ttype: 'Node',\n\t\t\t\t\tgenerator: 'Node.toJSON'\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( isRoot !== true ) meta.nodes[ data.uuid ] = data;\n\n\t\t\tthis.serialize( data );\n\n\t\t\tdelete data.meta;\n\n\t\t}\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\t\t\tif ( nodes.length > 0 ) data.nodes = nodes;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n}\n\nexport default Node;\n","import Node from '../core/Node.js';\n\n/**\n * Base class for representing element access on an array-like\n * node data structures.\n *\n * @augments Node\n */\nclass ArrayElementNode extends Node { // @TODO: If extending from TempNode it breaks webgpu_compute\n\n\tstatic get type() {\n\n\t\treturn 'ArrayElementNode';\n\n\t}\n\n\t/**\n\t * Constructs an array element node.\n\t *\n\t * @param {Node} node - The array-like node.\n\t * @param {Node} indexNode - The index node that defines the element access.\n\t */\n\tconstructor( node, indexNode ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The array-like node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The index node that defines the element access.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.indexNode = indexNode;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isArrayElementNode = true;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from the array-like node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\treturn this.node.getElementType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst nodeSnippet = this.node.build( builder );\n\t\tconst indexSnippet = this.indexNode.build( builder, 'uint' );\n\n\t\treturn `${nodeSnippet}[ ${indexSnippet} ]`;\n\n\t}\n\n}\n\nexport default ArrayElementNode;\n","import Node from '../core/Node.js';\n\n/**\n * This module is part of the TSL core and usually not used in app level code.\n * It represents a convert operation during the shader generation process\n * meaning it converts the data type of a node to a target data type.\n *\n * @augments Node\n */\nclass ConvertNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ConvertNode';\n\n\t}\n\n\t/**\n\t * Constructs a new convert node.\n\t *\n\t * @param {Node} node - The node which type should be converted.\n\t * @param {String} convertTo - The target node type. Multiple types can be defined by separating them with a `|` sign.\n\t */\n\tconstructor( node, convertTo ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node which type should be converted.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The target node type. Multiple types can be defined by separating them with a `|` sign.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.convertTo = convertTo;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the implementation tries to infer the best\n\t * matching type from the {@link ConvertNode#convertTo} property.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tconst requestType = this.node.getNodeType( builder );\n\n\t\tlet convertTo = null;\n\n\t\tfor ( const overloadingType of this.convertTo.split( '|' ) ) {\n\n\t\t\tif ( convertTo === null || builder.getTypeLength( requestType ) === builder.getTypeLength( overloadingType ) ) {\n\n\t\t\t\tconvertTo = overloadingType;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn convertTo;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.convertTo = this.convertTo;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.convertTo = data.convertTo;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst node = this.node;\n\t\tconst type = this.getNodeType( builder );\n\n\t\tconst snippet = node.build( builder, type );\n\n\t\treturn builder.format( snippet, type, output );\n\n\t}\n\n}\n\nexport default ConvertNode;\n","import Node from './Node.js';\n\n/**\n * This module uses cache management to create temporary variables\n * if the node is used more than once to prevent duplicate calculations.\n *\n * The class acts as a base class for many other nodes types.\n *\n * @augments Node\n */\nclass TempNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'TempNode';\n\n\t}\n\n\t/**\n\t * Constructs a temp node.\n\t *\n\t * @param {String?} nodeType - The node type.\n\t */\n\tconstructor( nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isTempNode = true;\n\n\t}\n\n\t/**\n\t * Whether this node is used more than once in context of other nodes.\n\t *\n\t * @param {NodeBuilder} builder - The node builder.\n\t * @return {Boolean} A flag that indicates if there is more than one dependency to other nodes.\n\t */\n\thasDependencies( builder ) {\n\n\t\treturn builder.getDataFromNode( this ).usageCount > 1;\n\n\t}\n\n\tbuild( builder, output ) {\n\n\t\tconst buildStage = builder.getBuildStage();\n\n\t\tif ( buildStage === 'generate' ) {\n\n\t\t\tconst type = builder.getVectorType( this.getNodeType( builder, output ) );\n\t\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\t\tif ( nodeData.propertyName !== undefined ) {\n\n\t\t\t\treturn builder.format( nodeData.propertyName, type, output );\n\n\t\t\t} else if ( type !== 'void' && output !== 'void' && this.hasDependencies( builder ) ) {\n\n\t\t\t\tconst snippet = super.build( builder, type );\n\n\t\t\t\tconst nodeVar = builder.getVarFromNode( this, null, type );\n\t\t\t\tconst propertyName = builder.getPropertyName( nodeVar );\n\n\t\t\t\tbuilder.addLineFlowCode( `${propertyName} = ${snippet}`, this );\n\n\t\t\t\tnodeData.snippet = snippet;\n\t\t\t\tnodeData.propertyName = propertyName;\n\n\t\t\t\treturn builder.format( nodeData.propertyName, type, output );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn super.build( builder, output );\n\n\t}\n\n}\n\nexport default TempNode;\n","import TempNode from '../core/TempNode.js';\n\n/**\n * This module is part of the TSL core and usually not used in app level code.\n * It represents a join operation during the shader generation process.\n * For example in can compose/join two single floats into a `vec2` type.\n *\n * @augments TempNode\n */\nclass JoinNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'JoinNode';\n\n\t}\n\n\t/**\n\t * Constructs a new join node.\n\t *\n\t * @param {Array<Node>} nodes - An array of nodes that should be joined.\n\t * @param {String?} [nodeType=null] - The node type.\n\t */\n\tconstructor( nodes = [], nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\t/**\n\t\t * An array of nodes that should be joined.\n\t\t *\n\t\t * @type {Array<Node>}\n\t\t */\n\t\tthis.nodes = nodes;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type must be inferred from the\n\t * joined data length if not explicitly defined.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tif ( this.nodeType !== null ) {\n\n\t\t\treturn builder.getVectorType( this.nodeType );\n\n\t\t}\n\n\t\treturn builder.getTypeFromLength( this.nodes.reduce( ( count, cur ) => count + builder.getTypeLength( cur.getNodeType( builder ) ), 0 ) );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst nodes = this.nodes;\n\n\t\tconst primitiveType = builder.getComponentType( type );\n\n\t\tconst snippetValues = [];\n\n\t\tfor ( const input of nodes ) {\n\n\t\t\tlet inputSnippet = input.build( builder );\n\n\t\t\tconst inputPrimitiveType = builder.getComponentType( input.getNodeType( builder ) );\n\n\t\t\tif ( inputPrimitiveType !== primitiveType ) {\n\n\t\t\t\tinputSnippet = builder.format( inputSnippet, inputPrimitiveType, primitiveType );\n\n\t\t\t}\n\n\t\t\tsnippetValues.push( inputSnippet );\n\n\t\t}\n\n\t\tconst snippet = `${ builder.getType( type ) }( ${ snippetValues.join( ', ' ) } )`;\n\n\t\treturn builder.format( snippet, type, output );\n\n\t}\n\n}\n\nexport default JoinNode;\n","import Node from '../core/Node.js';\nimport { vectorComponents } from '../core/constants.js';\n\nconst _stringVectorComponents = vectorComponents.join( '' );\n\n/**\n * This module is part of the TSL core and usually not used in app level code.\n * `SplitNode` represents a property access operation which means it is\n * used to implement any `.xyzw`, `.rgba` and `stpq` usage on node objects.\n * For example:\n * ```js\n * const redValue = color.r;\n * ```\n *\n * @augments Node\n */\nclass SplitNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'SplitNode';\n\n\t}\n\n\t/**\n\t * Constructs a new split node.\n\t *\n\t * @param {Node} node - The node that should be accessed.\n\t * @param {String} [components='x'] - The components that should be accessed.\n\t */\n\tconstructor( node, components = 'x' ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node that should be accessed.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The components that should be accessed.\n\t\t *\n\t\t * @type {string}\n\t\t */\n\t\tthis.components = components;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isSplitNode = true;\n\n\t}\n\n\t/**\n\t * Returns the vector length which is computed based on the requested components.\n\t *\n\t * @return {Number} The vector length.\n\t */\n\tgetVectorLength() {\n\n\t\tlet vectorLength = this.components.length;\n\n\t\tfor ( const c of this.components ) {\n\n\t\t\tvectorLength = Math.max( vectorComponents.indexOf( c ) + 1, vectorLength );\n\n\t\t}\n\n\t\treturn vectorLength;\n\n\t}\n\n\t/**\n\t * Returns the component type of the node's type.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The component type.\n\t */\n\tgetComponentType( builder ) {\n\n\t\treturn builder.getComponentType( this.node.getNodeType( builder ) );\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from requested components.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\treturn builder.getTypeFromLength( this.components.length, this.getComponentType( builder ) );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst node = this.node;\n\t\tconst nodeTypeLength = builder.getTypeLength( node.getNodeType( builder ) );\n\n\t\tlet snippet = null;\n\n\t\tif ( nodeTypeLength > 1 ) {\n\n\t\t\tlet type = null;\n\n\t\t\tconst componentsLength = this.getVectorLength();\n\n\t\t\tif ( componentsLength >= nodeTypeLength ) {\n\n\t\t\t\t// needed expand the input node\n\n\t\t\t\ttype = builder.getTypeFromLength( this.getVectorLength(), this.getComponentType( builder ) );\n\n\t\t\t}\n\n\t\t\tconst nodeSnippet = node.build( builder, type );\n\n\t\t\tif ( this.components.length === nodeTypeLength && this.components === _stringVectorComponents.slice( 0, this.components.length ) ) {\n\n\t\t\t\t// unnecessary swizzle\n\n\t\t\t\tsnippet = builder.format( nodeSnippet, type, output );\n\n\t\t\t} else {\n\n\t\t\t\tsnippet = builder.format( `${nodeSnippet}.${this.components}`, this.getNodeType( builder ), output );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// ignore .components if .node returns float/integer\n\n\t\t\tsnippet = node.build( builder, output );\n\n\t\t}\n\n\t\treturn snippet;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.components = this.components;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.components = data.components;\n\n\t}\n\n}\n\nexport default SplitNode;\n","import TempNode from '../core/TempNode.js';\nimport { vectorComponents } from '../core/constants.js';\n\n/**\n * This module is part of the TSL core and usually not used in app level code.\n * `SetNode` represents a set operation which means it is used to implement any\n * `setXYZW()`, `setRGBA()` and `setSTPQ()` method invocations on node objects.\n * For example:\n * ```js\n * materialLine.colorNode = color( 0, 0, 0 ).setR( float( 1 ) );\n * ```\n *\n * @augments TempNode\n */\nclass SetNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'SetNode';\n\n\t}\n\n\t/**\n\t * Constructs a new set node.\n\t *\n\t * @param {Node} sourceNode - The node that should be updated.\n\t * @param {String} components - The components that should be updated.\n\t * @param {Node} targetNode - The value node.\n\t */\n\tconstructor( sourceNode, components, targetNode ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node that should be updated.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.sourceNode = sourceNode;\n\n\t\t/**\n\t\t * The components that should be updated.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.components = components;\n\n\t\t/**\n\t\t * The value node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.targetNode = targetNode;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from {@link SetNode#sourceNode}.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\treturn this.sourceNode.getNodeType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst { sourceNode, components, targetNode } = this;\n\n\t\tconst sourceType = this.getNodeType( builder );\n\n\t\tconst componentType = builder.getComponentType( targetNode.getNodeType( builder ) );\n\t\tconst targetType = builder.getTypeFromLength( components.length, componentType );\n\n\t\tconst targetSnippet = targetNode.build( builder, targetType );\n\t\tconst sourceSnippet = sourceNode.build( builder, sourceType );\n\n\t\tconst length = builder.getTypeLength( sourceType );\n\t\tconst snippetValues = [];\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst component = vectorComponents[ i ];\n\n\t\t\tif ( component === components[ 0 ] ) {\n\n\t\t\t\tsnippetValues.push( targetSnippet );\n\n\t\t\t\ti += components.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tsnippetValues.push( sourceSnippet + '.' + component );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn `${ builder.getType( sourceType ) }( ${ snippetValues.join( ', ' ) } )`;\n\n\t}\n\n}\n\nexport default SetNode;\n","import TempNode from '../core/TempNode.js';\nimport { vectorComponents } from '../core/constants.js';\n\n/**\n * This module is part of the TSL core and usually not used in app level code.\n * It represents a flip operation during the shader generation process\n * meaning it flips normalized values with the following formula:\n * ```\n * x = 1 - x;\n * ```\n * `FlipNode` is internally used to implement any `flipXYZW()`, `flipRGBA()` and\n * `flipSTPQ()` method invocations on node objects. For example:\n * ```js\n * uvNode = uvNode.flipY();\n * ```\n *\n * @augments TempNode\n */\nclass FlipNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'FlipNode';\n\n\t}\n\n\t/**\n\t * Constructs a new flip node.\n\t *\n\t * @param {Node} sourceNode - The node which component(s) should be flipped.\n\t * @param {String} components - The components that should be flipped e.g. `'x'` or `'xy'`.\n\t */\n\tconstructor( sourceNode, components ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node which component(s) should be flipped.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.sourceNode = sourceNode;\n\n\t\t/**\n\t\t * The components that should be flipped e.g. `'x'` or `'xy'`.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.components = components;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from the source node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\treturn this.sourceNode.getNodeType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst { components, sourceNode } = this;\n\n\t\tconst sourceType = this.getNodeType( builder );\n\t\tconst sourceSnippet = sourceNode.build( builder );\n\n\t\tconst sourceCache = builder.getVarFromNode( this );\n\t\tconst sourceProperty = builder.getPropertyName( sourceCache );\n\n\t\tbuilder.addLineFlowCode( sourceProperty + ' = ' + sourceSnippet, this );\n\n\t\tconst length = builder.getTypeLength( sourceType );\n\t\tconst snippetValues = [];\n\n\t\tlet componentIndex = 0;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst component = vectorComponents[ i ];\n\n\t\t\tif ( component === components[ componentIndex ] ) {\n\n\t\t\t\tsnippetValues.push( '1.0 - ' + ( sourceProperty + '.' + component ) );\n\n\t\t\t\tcomponentIndex ++;\n\n\t\t\t} else {\n\n\t\t\t\tsnippetValues.push( sourceProperty + '.' + component );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn `${ builder.getType( sourceType ) }( ${ snippetValues.join( ', ' ) } )`;\n\n\t}\n\n}\n\nexport default FlipNode;\n","import Node from './Node.js';\nimport { getValueType, getValueFromType, arrayBufferToBase64 } from './NodeUtils.js';\n\n/**\n * Base class for representing data input nodes.\n *\n * @augments Node\n */\nclass InputNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'InputNode';\n\n\t}\n\n\t/**\n\t * Constructs a new input node.\n\t *\n\t * @param {Any} value - The value of this node. This can be a any JS primitive, functions, array buffers or even three.js objects (vector, matrices, colors).\n\t * @param {String?} nodeType - The node type. If no explicit type is defined, the node tries to derive the type from its value.\n\t */\n\tconstructor( value, nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isInputNode = true;\n\n\t\t/**\n\t\t * The value of this node. This can be a any JS primitive, functions, array buffers or even three.js objects (vector, matrices, colors).\n\t\t *\n\t\t * @type {Any}\n\t\t */\n\t\tthis.value = value;\n\n\t\t/**\n\t\t * The precision of the value in the shader.\n\t\t *\n\t\t * @type {('low'|'medium'|'high')?}\n\t\t * @default null\n\t\t */\n\t\tthis.precision = null;\n\n\t}\n\n\tgetNodeType( /*builder*/ ) {\n\n\t\tif ( this.nodeType === null ) {\n\n\t\t\treturn getValueType( this.value );\n\n\t\t}\n\n\t\treturn this.nodeType;\n\n\t}\n\n\t/**\n\t * Returns the input type of the node which is by default the node type. Derived modules\n\t * might overwrite this method and use a fixed type or compute one analytically.\n\t *\n\t * A typical example for different input and node types are textures. The input type of a\n\t * normal RGBA texture is `texture` whereas its node type is `vec4`.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The input type.\n\t */\n\tgetInputType( builder ) {\n\n\t\treturn this.getNodeType( builder );\n\n\t}\n\n\t/**\n\t * Sets the precision to the given value. The method can be\n\t * overwritten in derived classes if the final precision must be computed\n\t * analytically.\n\t *\n\t * @param {('low'|'medium'|'high')} precision - The precision of the input value in the shader.\n\t * @return {InputNode} A reference to this node.\n\t */\n\tsetPrecision( precision ) {\n\n\t\tthis.precision = precision;\n\n\t\treturn this;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.value = this.value;\n\n\t\tif ( this.value && this.value.toArray ) data.value = this.value.toArray();\n\n\t\tdata.valueType = getValueType( this.value );\n\t\tdata.nodeType = this.nodeType;\n\n\t\tif ( data.valueType === 'ArrayBuffer' ) data.value = arrayBufferToBase64( data.value );\n\n\t\tdata.precision = this.precision;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.nodeType = data.nodeType;\n\t\tthis.value = Array.isArray( data.value ) ? getValueFromType( data.valueType, ...data.value ) : data.value;\n\n\t\tthis.precision = data.precision || null;\n\n\t\tif ( this.value && this.value.fromArray ) this.value = this.value.fromArray( data.value );\n\n\t}\n\n\tgenerate( /*builder, output*/ ) {\n\n\t\tconsole.warn( 'Abstract function.' );\n\n\t}\n\n}\n\nexport default InputNode;\n","import InputNode from './InputNode.js';\n\n/**\n * Class for representing a constant value in the shader.\n *\n * @augments InputNode\n */\nclass ConstNode extends InputNode {\n\n\tstatic get type() {\n\n\t\treturn 'ConstNode';\n\n\t}\n\n\t/**\n\t * Constructs a new input node.\n\t *\n\t * @param {Any} value - The value of this node. Usually a JS primitive or three.js object (vector, matrix, color).\n\t * @param {String?} nodeType - The node type. If no explicit type is defined, the node tries to derive the type from its value.\n\t */\n\tconstructor( value, nodeType = null ) {\n\n\t\tsuper( value, nodeType );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isConstNode = true;\n\n\t}\n\n\t/**\n\t * Generates the shader string of the value with the current node builder.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The generated value as a shader string.\n\t */\n\tgenerateConst( builder ) {\n\n\t\treturn builder.generateConst( this.getNodeType( builder ), this.value );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\n\t\treturn builder.format( this.generateConst( builder ), type, output );\n\n\t}\n\n}\n\nexport default ConstNode;\n","import Node from '../core/Node.js';\nimport ArrayElementNode from '../utils/ArrayElementNode.js';\nimport ConvertNode from '../utils/ConvertNode.js';\nimport JoinNode from '../utils/JoinNode.js';\nimport SplitNode from '../utils/SplitNode.js';\nimport SetNode from '../utils/SetNode.js';\nimport FlipNode from '../utils/FlipNode.js';\nimport ConstNode from '../core/ConstNode.js';\nimport { getValueFromType, getValueType } from '../core/NodeUtils.js';\n\n//\n\nlet currentStack = null;\n\nconst NodeElements = new Map();\n\nexport function addMethodChaining( name, nodeElement ) {\n\n\tif ( NodeElements.has( name ) ) {\n\n\t\tconsole.warn( `Redefinition of method chaining ${ name }` );\n\t\treturn;\n\n\t}\n\n\tif ( typeof nodeElement !== 'function' ) throw new Error( `Node element ${ name } is not a function` );\n\n\tNodeElements.set( name, nodeElement );\n\n}\n\nconst parseSwizzle = ( props ) => props.replace( /r|s/g, 'x' ).replace( /g|t/g, 'y' ).replace( /b|p/g, 'z' ).replace( /a|q/g, 'w' );\nconst parseSwizzleAndSort = ( props ) => parseSwizzle( props ).split( '' ).sort().join( '' );\n\nconst shaderNodeHandler = {\n\n\tsetup( NodeClosure, params ) {\n\n\t\tconst inputs = params.shift();\n\n\t\treturn NodeClosure( nodeObjects( inputs ), ...params );\n\n\t},\n\n\tget( node, prop, nodeObj ) {\n\n\t\tif ( typeof prop === 'string' && node[ prop ] === undefined ) {\n\n\t\t\tif ( node.isStackNode !== true && prop === 'assign' ) {\n\n\t\t\t\treturn ( ...params ) => {\n\n\t\t\t\t\tcurrentStack.assign( nodeObj, ...params );\n\n\t\t\t\t\treturn nodeObj;\n\n\t\t\t\t};\n\n\t\t\t} else if ( NodeElements.has( prop ) ) {\n\n\t\t\t\tconst nodeElement = NodeElements.get( prop );\n\n\t\t\t\treturn node.isStackNode ? ( ...params ) => nodeObj.add( nodeElement( ...params ) ) : ( ...params ) => nodeElement( nodeObj, ...params );\n\n\t\t\t} else if ( prop === 'self' ) {\n\n\t\t\t\treturn node;\n\n\t\t\t} else if ( prop.endsWith( 'Assign' ) && NodeElements.has( prop.slice( 0, prop.length - 'Assign'.length ) ) ) {\n\n\t\t\t\tconst nodeElement = NodeElements.get( prop.slice( 0, prop.length - 'Assign'.length ) );\n\n\t\t\t\treturn node.isStackNode ? ( ...params ) => nodeObj.assign( params[ 0 ], nodeElement( ...params ) ) : ( ...params ) => nodeObj.assign( nodeElement( nodeObj, ...params ) );\n\n\t\t\t} else if ( /^[xyzwrgbastpq]{1,4}$/.test( prop ) === true ) {\n\n\t\t\t\t// accessing properties ( swizzle )\n\n\t\t\t\tprop = parseSwizzle( prop );\n\n\t\t\t\treturn nodeObject( new SplitNode( nodeObj, prop ) );\n\n\t\t\t} else if ( /^set[XYZWRGBASTPQ]{1,4}$/.test( prop ) === true ) {\n\n\t\t\t\t// set properties ( swizzle ) and sort to xyzw sequence\n\n\t\t\t\tprop = parseSwizzleAndSort( prop.slice( 3 ).toLowerCase() );\n\n\t\t\t\treturn ( value ) => nodeObject( new SetNode( node, prop, value ) );\n\n\t\t\t} else if ( /^flip[XYZWRGBASTPQ]{1,4}$/.test( prop ) === true ) {\n\n\t\t\t\t// set properties ( swizzle ) and sort to xyzw sequence\n\n\t\t\t\tprop = parseSwizzleAndSort( prop.slice( 4 ).toLowerCase() );\n\n\t\t\t\treturn () => nodeObject( new FlipNode( nodeObject( node ), prop ) );\n\n\t\t\t} else if ( prop === 'width' || prop === 'height' || prop === 'depth' ) {\n\n\t\t\t\t// accessing property\n\n\t\t\t\tif ( prop === 'width' ) prop = 'x';\n\t\t\t\telse if ( prop === 'height' ) prop = 'y';\n\t\t\t\telse if ( prop === 'depth' ) prop = 'z';\n\n\t\t\t\treturn nodeObject( new SplitNode( node, prop ) );\n\n\t\t\t} else if ( /^\\d+$/.test( prop ) === true ) {\n\n\t\t\t\t// accessing array\n\n\t\t\t\treturn nodeObject( new ArrayElementNode( nodeObj, new ConstNode( Number( prop ), 'uint' ) ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Reflect.get( node, prop, nodeObj );\n\n\t},\n\n\tset( node, prop, value, nodeObj ) {\n\n\t\tif ( typeof prop === 'string' && node[ prop ] === undefined ) {\n\n\t\t\t// setting properties\n\n\t\t\tif ( /^[xyzwrgbastpq]{1,4}$/.test( prop ) === true || prop === 'width' || prop === 'height' || prop === 'depth' || /^\\d+$/.test( prop ) === true ) {\n\n\t\t\t\tnodeObj[ prop ].assign( value );\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Reflect.set( node, prop, value, nodeObj );\n\n\t}\n\n};\n\nconst nodeObjectsCacheMap = new WeakMap();\nconst nodeBuilderFunctionsCacheMap = new WeakMap();\n\nconst ShaderNodeObject = function ( obj, altType = null ) {\n\n\tconst type = getValueType( obj );\n\n\tif ( type === 'node' ) {\n\n\t\tlet nodeObject = nodeObjectsCacheMap.get( obj );\n\n\t\tif ( nodeObject === undefined ) {\n\n\t\t\tnodeObject = new Proxy( obj, shaderNodeHandler );\n\n\t\t\tnodeObjectsCacheMap.set( obj, nodeObject );\n\t\t\tnodeObjectsCacheMap.set( nodeObject, nodeObject );\n\n\t\t}\n\n\t\treturn nodeObject;\n\n\t} else if ( ( altType === null && ( type === 'float' || type === 'boolean' ) ) || ( type && type !== 'shader' && type !== 'string' ) ) {\n\n\t\treturn nodeObject( getConstNode( obj, altType ) );\n\n\t} else if ( type === 'shader' ) {\n\n\t\treturn Fn( obj );\n\n\t}\n\n\treturn obj;\n\n};\n\nconst ShaderNodeObjects = function ( objects, altType = null ) {\n\n\tfor ( const name in objects ) {\n\n\t\tobjects[ name ] = nodeObject( objects[ name ], altType );\n\n\t}\n\n\treturn objects;\n\n};\n\nconst ShaderNodeArray = function ( array, altType = null ) {\n\n\tconst len = array.length;\n\n\tfor ( let i = 0; i < len; i ++ ) {\n\n\t\tarray[ i ] = nodeObject( array[ i ], altType );\n\n\t}\n\n\treturn array;\n\n};\n\nconst ShaderNodeProxy = function ( NodeClass, scope = null, factor = null, settings = null ) {\n\n\tconst assignNode = ( node ) => nodeObject( settings !== null ? Object.assign( node, settings ) : node );\n\n\tif ( scope === null ) {\n\n\t\treturn ( ...params ) => {\n\n\t\t\treturn assignNode( new NodeClass( ...nodeArray( params ) ) );\n\n\t\t};\n\n\t} else if ( factor !== null ) {\n\n\t\tfactor = nodeObject( factor );\n\n\t\treturn ( ...params ) => {\n\n\t\t\treturn assignNode( new NodeClass( scope, ...nodeArray( params ), factor ) );\n\n\t\t};\n\n\t} else {\n\n\t\treturn ( ...params ) => {\n\n\t\t\treturn assignNode( new NodeClass( scope, ...nodeArray( params ) ) );\n\n\t\t};\n\n\t}\n\n};\n\nconst ShaderNodeImmutable = function ( NodeClass, ...params ) {\n\n\treturn nodeObject( new NodeClass( ...nodeArray( params ) ) );\n\n};\n\nclass ShaderCallNodeInternal extends Node {\n\n\tconstructor( shaderNode, inputNodes ) {\n\n\t\tsuper();\n\n\t\tthis.shaderNode = shaderNode;\n\t\tthis.inputNodes = inputNodes;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.shaderNode.nodeType || this.getOutputNode( builder ).getNodeType( builder );\n\n\t}\n\n\tcall( builder ) {\n\n\t\tconst { shaderNode, inputNodes } = this;\n\n\t\tconst properties = builder.getNodeProperties( shaderNode );\n\t\tif ( properties.onceOutput ) return properties.onceOutput;\n\n\t\t//\n\n\t\tlet result = null;\n\n\t\tif ( shaderNode.layout ) {\n\n\t\t\tlet functionNodesCacheMap = nodeBuilderFunctionsCacheMap.get( builder.constructor );\n\n\t\t\tif ( functionNodesCacheMap === undefined ) {\n\n\t\t\t\tfunctionNodesCacheMap = new WeakMap();\n\n\t\t\t\tnodeBuilderFunctionsCacheMap.set( builder.constructor, functionNodesCacheMap );\n\n\t\t\t}\n\n\t\t\tlet functionNode = functionNodesCacheMap.get( shaderNode );\n\n\t\t\tif ( functionNode === undefined ) {\n\n\t\t\t\tfunctionNode = nodeObject( builder.buildFunctionNode( shaderNode ) );\n\n\t\t\t\tfunctionNodesCacheMap.set( shaderNode, functionNode );\n\n\t\t\t}\n\n\t\t\tif ( builder.currentFunctionNode !== null ) {\n\n\t\t\t\tbuilder.currentFunctionNode.includes.push( functionNode );\n\n\t\t\t}\n\n\t\t\tresult = nodeObject( functionNode.call( inputNodes ) );\n\n\t\t} else {\n\n\t\t\tconst jsFunc = shaderNode.jsFunc;\n\t\t\tconst outputNode = inputNodes !== null ? jsFunc( inputNodes, builder ) : jsFunc( builder );\n\n\t\t\tresult = nodeObject( outputNode );\n\n\t\t}\n\n\t\tif ( shaderNode.once ) {\n\n\t\t\tproperties.onceOutput = result;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tgetOutputNode( builder ) {\n\n\t\tconst properties = builder.getNodeProperties( this );\n\n\t\tif ( properties.outputNode === null ) {\n\n\t\t\tproperties.outputNode = this.setupOutput( builder );\n\n\t\t}\n\n\t\treturn properties.outputNode;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\treturn this.getOutputNode( builder );\n\n\t}\n\n\tsetupOutput( builder ) {\n\n\t\tbuilder.addStack();\n\n\t\tbuilder.stack.outputNode = this.call( builder );\n\n\t\treturn builder.removeStack();\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst outputNode = this.getOutputNode( builder );\n\n\t\treturn outputNode.build( builder, output );\n\n\t}\n\n}\n\nclass ShaderNodeInternal extends Node {\n\n\tconstructor( jsFunc, nodeType ) {\n\n\t\tsuper( nodeType );\n\n\t\tthis.jsFunc = jsFunc;\n\t\tthis.layout = null;\n\n\t\tthis.global = true;\n\n\t\tthis.once = false;\n\n\t}\n\n\tsetLayout( layout ) {\n\n\t\tthis.layout = layout;\n\n\t\treturn this;\n\n\t}\n\n\tcall( inputs = null ) {\n\n\t\tnodeObjects( inputs );\n\n\t\treturn nodeObject( new ShaderCallNodeInternal( this, inputs ) );\n\n\t}\n\n\tsetup() {\n\n\t\treturn this.call();\n\n\t}\n\n}\n\nconst bools = [ false, true ];\nconst uints = [ 0, 1, 2, 3 ];\nconst ints = [ - 1, - 2 ];\nconst floats = [ 0.5, 1.5, 1 / 3, 1e-6, 1e6, Math.PI, Math.PI * 2, 1 / Math.PI, 2 / Math.PI, 1 / ( Math.PI * 2 ), Math.PI / 2 ];\n\nconst boolsCacheMap = new Map();\nfor ( const bool of bools ) boolsCacheMap.set( bool, new ConstNode( bool ) );\n\nconst uintsCacheMap = new Map();\nfor ( const uint of uints ) uintsCacheMap.set( uint, new ConstNode( uint, 'uint' ) );\n\nconst intsCacheMap = new Map( [ ...uintsCacheMap ].map( el => new ConstNode( el.value, 'int' ) ) );\nfor ( const int of ints ) intsCacheMap.set( int, new ConstNode( int, 'int' ) );\n\nconst floatsCacheMap = new Map( [ ...intsCacheMap ].map( el => new ConstNode( el.value ) ) );\nfor ( const float of floats ) floatsCacheMap.set( float, new ConstNode( float ) );\nfor ( const float of floats ) floatsCacheMap.set( - float, new ConstNode( - float ) );\n\nconst cacheMaps = { bool: boolsCacheMap, uint: uintsCacheMap, ints: intsCacheMap, float: floatsCacheMap };\n\nconst constNodesCacheMap = new Map( [ ...boolsCacheMap, ...floatsCacheMap ] );\n\nconst getConstNode = ( value, type ) => {\n\n\tif ( constNodesCacheMap.has( value ) ) {\n\n\t\treturn constNodesCacheMap.get( value );\n\n\t} else if ( value.isNode === true ) {\n\n\t\treturn value;\n\n\t} else {\n\n\t\treturn new ConstNode( value, type );\n\n\t}\n\n};\n\nconst safeGetNodeType = ( node ) => {\n\n\ttry {\n\n\t\treturn node.getNodeType();\n\n\t} catch ( _ ) {\n\n\t\treturn undefined;\n\n\t}\n\n};\n\nconst ConvertType = function ( type, cacheMap = null ) {\n\n\treturn ( ...params ) => {\n\n\t\tif ( params.length === 0 || ( ! [ 'bool', 'float', 'int', 'uint' ].includes( type ) && params.every( param => typeof param !== 'object' ) ) ) {\n\n\t\t\tparams = [ getValueFromType( type, ...params ) ];\n\n\t\t}\n\n\t\tif ( params.length === 1 && cacheMap !== null && cacheMap.has( params[ 0 ] ) ) {\n\n\t\t\treturn nodeObject( cacheMap.get( params[ 0 ] ) );\n\n\t\t}\n\n\t\tif ( params.length === 1 ) {\n\n\t\t\tconst node = getConstNode( params[ 0 ], type );\n\t\t\tif ( safeGetNodeType( node ) === type ) return nodeObject( node );\n\t\t\treturn nodeObject( new ConvertNode( node, type ) );\n\n\t\t}\n\n\t\tconst nodes = params.map( param => getConstNode( param ) );\n\t\treturn nodeObject( new JoinNode( nodes, type ) );\n\n\t};\n\n};\n\n// exports\n\nexport const defined = ( v ) => typeof v === 'object' && v !== null ? v.value : v; // TODO: remove boolean conversion and defined function\n\n// utils\n\nexport const getConstNodeType = ( value ) => ( value !== undefined && value !== null ) ? ( value.nodeType || value.convertTo || ( typeof value === 'string' ? value : null ) ) : null;\n\n// shader node base\n\nexport function ShaderNode( jsFunc, nodeType ) {\n\n\treturn new Proxy( new ShaderNodeInternal( jsFunc, nodeType ), shaderNodeHandler );\n\n}\n\nexport const nodeObject = ( val, altType = null ) => /* new */ ShaderNodeObject( val, altType );\nexport const nodeObjects = ( val, altType = null ) => new ShaderNodeObjects( val, altType );\nexport const nodeArray = ( val, altType = null ) => new ShaderNodeArray( val, altType );\nexport const nodeProxy = ( ...params ) => new ShaderNodeProxy( ...params );\nexport const nodeImmutable = ( ...params ) => new ShaderNodeImmutable( ...params );\n\nexport const Fn = ( jsFunc, nodeType ) => {\n\n\tconst shaderNode = new ShaderNode( jsFunc, nodeType );\n\n\tconst fn = ( ...params ) => {\n\n\t\tlet inputs;\n\n\t\tnodeObjects( params );\n\n\t\tif ( params[ 0 ] && params[ 0 ].isNode ) {\n\n\t\t\tinputs = [ ...params ];\n\n\t\t} else {\n\n\t\t\tinputs = params[ 0 ];\n\n\t\t}\n\n\t\treturn shaderNode.call( inputs );\n\n\t};\n\n\tfn.shaderNode = shaderNode;\n\n\tfn.setLayout = ( layout ) => {\n\n\t\tshaderNode.setLayout( layout );\n\n\t\treturn fn;\n\n\t};\n\n\tfn.once = () => {\n\n\t\tshaderNode.once = true;\n\n\t\treturn fn;\n\n\t};\n\n\treturn fn;\n\n};\n\nexport const tslFn = ( ...params ) => { // @deprecated, r168\n\n\tconsole.warn( 'TSL.ShaderNode: tslFn() has been renamed to Fn().' );\n\treturn Fn( ...params );\n\n};\n\n//\n\naddMethodChaining( 'toGlobal', ( node ) => {\n\n\tnode.global = true;\n\n\treturn node;\n\n} );\n\n//\n\nexport const setCurrentStack = ( stack ) => {\n\n\tif ( currentStack === stack ) {\n\n\t\t//throw new Error( 'Stack already defined.' );\n\n\t}\n\n\tcurrentStack = stack;\n\n};\n\nexport const getCurrentStack = () => currentStack;\n\nexport const If = ( ...params ) => currentStack.If( ...params );\n\nexport function append( node ) {\n\n\tif ( currentStack ) currentStack.add( node );\n\n\treturn node;\n\n}\n\naddMethodChaining( 'append', append );\n\n// types\n\nexport const color = new ConvertType( 'color' );\n\nexport const float = new ConvertType( 'float', cacheMaps.float );\nexport const int = new ConvertType( 'int', cacheMaps.ints );\nexport const uint = new ConvertType( 'uint', cacheMaps.uint );\nexport const bool = new ConvertType( 'bool', cacheMaps.bool );\n\nexport const vec2 = new ConvertType( 'vec2' );\nexport const ivec2 = new ConvertType( 'ivec2' );\nexport const uvec2 = new ConvertType( 'uvec2' );\nexport const bvec2 = new ConvertType( 'bvec2' );\n\nexport const vec3 = new ConvertType( 'vec3' );\nexport const ivec3 = new ConvertType( 'ivec3' );\nexport const uvec3 = new ConvertType( 'uvec3' );\nexport const bvec3 = new ConvertType( 'bvec3' );\n\nexport const vec4 = new ConvertType( 'vec4' );\nexport const ivec4 = new ConvertType( 'ivec4' );\nexport const uvec4 = new ConvertType( 'uvec4' );\nexport const bvec4 = new ConvertType( 'bvec4' );\n\nexport const mat2 = new ConvertType( 'mat2' );\nexport const mat3 = new ConvertType( 'mat3' );\nexport const mat4 = new ConvertType( 'mat4' );\n\nexport const string = ( value = '' ) => nodeObject( new ConstNode( value, 'string' ) );\nexport const arrayBuffer = ( value ) => nodeObject( new ConstNode( value, 'ArrayBuffer' ) );\n\naddMethodChaining( 'toColor', color );\naddMethodChaining( 'toFloat', float );\naddMethodChaining( 'toInt', int );\naddMethodChaining( 'toUint', uint );\naddMethodChaining( 'toBool', bool );\naddMethodChaining( 'toVec2', vec2 );\naddMethodChaining( 'toIVec2', ivec2 );\naddMethodChaining( 'toUVec2', uvec2 );\naddMethodChaining( 'toBVec2', bvec2 );\naddMethodChaining( 'toVec3', vec3 );\naddMethodChaining( 'toIVec3', ivec3 );\naddMethodChaining( 'toUVec3', uvec3 );\naddMethodChaining( 'toBVec3', bvec3 );\naddMethodChaining( 'toVec4', vec4 );\naddMethodChaining( 'toIVec4', ivec4 );\naddMethodChaining( 'toUVec4', uvec4 );\naddMethodChaining( 'toBVec4', bvec4 );\naddMethodChaining( 'toMat2', mat2 );\naddMethodChaining( 'toMat3', mat3 );\naddMethodChaining( 'toMat4', mat4 );\n\n// basic nodes\n\nexport const element = /*@__PURE__*/ nodeProxy( ArrayElementNode );\nexport const convert = ( node, types ) => nodeObject( new ConvertNode( nodeObject( node ), types ) );\nexport const split = ( node, channels ) => nodeObject( new SplitNode( nodeObject( node ), channels ) );\n\naddMethodChaining( 'element', element );\naddMethodChaining( 'convert', convert );\n","import Node from './Node.js';\n\n/** @module UniformGroupNode **/\n\n/**\n * This node can be used to group single instances of {@link UniformNode}\n * and manage them as a uniform buffer.\n *\n * In most cases, the predefined nodes `objectGroup`, `renderGroup` and `frameGroup`\n * will be used when defining the {@link UniformNode#groupNode} property.\n *\n * - `objectGroup`: Uniform buffer per object.\n * - `renderGroup`: Shared uniform buffer, updated once per render call.\n * - `frameGroup`: Shared uniform buffer, updated once per frame.\n *\n * @augments Node\n */\nclass UniformGroupNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'UniformGroupNode';\n\n\t}\n\n\t/**\n\t * Constructs a new uniform group node.\n\t *\n\t * @param {String} name - The name of the uniform group node.\n\t * @param {Boolean} [shared=false] - Whether this uniform group node is shared or not.\n\t * @param {Number} [order=1] - Influences the internal sorting.\n\t */\n\tconstructor( name, shared = false, order = 1 ) {\n\n\t\tsuper( 'string' );\n\n\t\t/**\n\t\t * The name of the uniform group node.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * Whether this uniform group node is shared or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.shared = shared;\n\n\t\t/**\n\t\t * Influences the internal sorting.\n\t\t * TODO: Add details when this property should be changed.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t */\n\t\tthis.order = order;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isUniformGroup = true;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.name = this.name;\n\t\tdata.version = this.version;\n\t\tdata.shared = this.shared;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.name = data.name;\n\t\tthis.version = data.version;\n\t\tthis.shared = data.shared;\n\n\t}\n\n}\n\nexport default UniformGroupNode;\n\n/**\n * TSL function for creating a uniform group node with the given name.\n *\n * @function\n * @param {String} name - The name of the uniform group node.\n * @returns {UniformGroupNode}\n */\nexport const uniformGroup = ( name ) => new UniformGroupNode( name );\n\n/**\n * TSL function for creating a shared uniform group node with the given name and order.\n *\n * @function\n * @param {String} name - The name of the uniform group node.\n * @param {Number} [order=0] - Influences the internal sorting.\n * @returns {UniformGroupNode}\n */\nexport const sharedUniformGroup = ( name, order = 0 ) => new UniformGroupNode( name, true, order );\n\n/**\n * TSL object that represents a shared uniform group node which is updated once per frame.\n *\n * @type {UniformGroupNode}\n */\nexport const frameGroup = /*@__PURE__*/ sharedUniformGroup( 'frame' );\n\n/**\n * TSL object that represents a shared uniform group node which is updated once per render.\n *\n * @type {UniformGroupNode}\n */\nexport const renderGroup = /*@__PURE__*/ sharedUniformGroup( 'render' );\n\n/**\n * TSL object that represents a uniform group node which is updated once per object.\n *\n * @type {UniformGroupNode}\n */\nexport const objectGroup = /*@__PURE__*/ uniformGroup( 'object' );\n","import InputNode from './InputNode.js';\nimport { objectGroup } from './UniformGroupNode.js';\nimport { nodeObject, getConstNodeType } from '../tsl/TSLCore.js';\n\n/** @module UniformNode **/\n\n/**\n * Class for representing a uniform.\n *\n * @augments InputNode\n */\nclass UniformNode extends InputNode {\n\n\tstatic get type() {\n\n\t\treturn 'UniformNode';\n\n\t}\n\n\t/**\n\t * Constructs a new uniform node.\n\t *\n\t * @param {Any} value - The value of this node. Usually a JS primitive or three.js object (vector, matrix, color, texture).\n\t * @param {String?} nodeType - The node type. If no explicit type is defined, the node tries to derive the type from its value.\n\t */\n\tconstructor( value, nodeType = null ) {\n\n\t\tsuper( value, nodeType );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isUniformNode = true;\n\n\t\t/**\n\t\t * The name or label of the uniform.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t */\n\t\tthis.name = '';\n\n\t\t/**\n\t\t * The uniform group of this uniform. By default, uniforms are\n\t\t * managed per object but they might belong to a shared group\n\t\t * which is updated per frame or render call.\n\t\t *\n\t\t * @type {UniformGroupNode}\n\t\t */\n\t\tthis.groupNode = objectGroup;\n\n\t}\n\n\t/**\n\t * Sets the {@link UniformNode#name} property.\n\t *\n\t * @param {String} name - The name of the uniform.\n\t * @return {UniformNode} A reference to this node.\n\t */\n\tlabel( name ) {\n\n\t\tthis.name = name;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the {@link UniformNode#groupNode} property.\n\t *\n\t * @param {UniformGroupNode} group - The uniform group.\n\t * @return {UniformNode} A reference to this node.\n\t */\n\tsetGroup( group ) {\n\n\t\tthis.groupNode = group;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns the {@link UniformNode#groupNode}.\n\t *\n\t * @return {UniformGroupNode} The uniform group.\n\t */\n\tgetGroup() {\n\n\t\treturn this.groupNode;\n\n\t}\n\n\t/**\n\t * By default, this method returns the result of {@link Node#getHash} but derived\n\t * classes might overwrite this method with a different implementation.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The uniform hash.\n\t */\n\tgetUniformHash( builder ) {\n\n\t\treturn this.getHash( builder );\n\n\t}\n\n\tonUpdate( callback, updateType ) {\n\n\t\tconst self = this.getSelf();\n\n\t\tcallback = callback.bind( self );\n\n\t\treturn super.onUpdate( ( frame ) => {\n\n\t\t\tconst value = callback( frame, self );\n\n\t\t\tif ( value !== undefined ) {\n\n\t\t\t\tthis.value = value;\n\n\t\t\t}\n\n\t \t}, updateType );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\n\t\tconst hash = this.getUniformHash( builder );\n\n\t\tlet sharedNode = builder.getNodeFromHash( hash );\n\n\t\tif ( sharedNode === undefined ) {\n\n\t\t\tbuilder.setHashNode( this, hash );\n\n\t\t\tsharedNode = this;\n\n\t\t}\n\n\t\tconst sharedNodeType = sharedNode.getInputType( builder );\n\n\t\tconst nodeUniform = builder.getUniformFromNode( sharedNode, sharedNodeType, builder.shaderStage, this.name || builder.context.label );\n\t\tconst propertyName = builder.getPropertyName( nodeUniform );\n\n\t\tif ( builder.context.label !== undefined ) delete builder.context.label;\n\n\t\treturn builder.format( propertyName, type, output );\n\n\t}\n\n}\n\nexport default UniformNode;\n\n/**\n * TSL function for creating a uniform node.\n *\n * @function\n * @param {Any} arg1 - The value of this node. Usually a JS primitive or three.js object (vector, matrix, color, texture).\n * @param {String?} arg2 - The node type. If no explicit type is defined, the node tries to derive the type from its value.\n * @returns {UniformNode}\n */\nexport const uniform = ( arg1, arg2 ) => {\n\n\tconst nodeType = getConstNodeType( arg2 || arg1 );\n\n\t// @TODO: get ConstNode from .traverse() in the future\n\tconst value = ( arg1 && arg1.isNode === true ) ? ( arg1.node && arg1.node.value ) || arg1.value : arg1;\n\n\treturn nodeObject( new UniformNode( value, nodeType ) );\n\n};\n","import Node from './Node.js';\nimport { nodeImmutable, nodeObject } from '../tsl/TSLCore.js';\n\n/** @module PropertyNode **/\n\n/**\n * This class represents a shader property. It can be used\n * to explicitly define a property and assign a value to it.\n *\n * ```js\n * const threshold = property( 'float', 'threshold' ).assign( THRESHOLD );\n *```\n * `PropertyNode` is used by the engine to predefined common material properties\n * for TSL code.\n *\n * @augments Node\n */\nclass PropertyNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'PropertyNode';\n\n\t}\n\n\t/**\n\t * Constructs a new property node.\n\t *\n\t * @param {String} nodeType - The type of the node.\n\t * @param {String?} [name=null] - The name of the property in the shader.\n\t * @param {Boolean} [varying=false] - Whether this property is a varying or not.\n\t */\n\tconstructor( nodeType, name = null, varying = false ) {\n\n\t\tsuper( nodeType );\n\n\t\t/**\n\t\t * The name of the property in the shader. If no name is defined,\n\t\t * the node system auto-generates one.\n\t\t *\n\t\t * @type {String?}\n\t\t * @default null\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * Whether this property is a varying or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.varying = varying;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isPropertyNode = true;\n\n\t}\n\n\tgetHash( builder ) {\n\n\t\treturn this.name || super.getHash( builder );\n\n\t}\n\n\t/**\n\t * The method is overwritten so it always returns `true`.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Boolean} Whether this node is global or not.\n\t */\n\tisGlobal( /*builder*/ ) {\n\n\t\treturn true;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tlet nodeVar;\n\n\t\tif ( this.varying === true ) {\n\n\t\t\tnodeVar = builder.getVaryingFromNode( this, this.name );\n\t\t\tnodeVar.needsInterpolation = true;\n\n\t\t} else {\n\n\t\t\tnodeVar = builder.getVarFromNode( this, this.name );\n\n\t\t}\n\n\t\treturn builder.getPropertyName( nodeVar );\n\n\t}\n\n}\n\nexport default PropertyNode;\n\n/**\n * TSL function for creating a property node.\n *\n * @function\n * @param {String} type - The type of the node.\n * @param {String?} [name=null] - The name of the property in the shader.\n * @returns {PropertyNode}\n */\nexport const property = ( type, name ) => nodeObject( new PropertyNode( type, name ) );\n\n/**\n * TSL function for creating a varying property node.\n *\n * @function\n * @param {String} type - The type of the node.\n * @param {String?} [name=null] - The name of the varying in the shader.\n * @returns {PropertyNode}\n */\nexport const varyingProperty = ( type, name ) => nodeObject( new PropertyNode( type, name, true ) );\n\n/**\n * TSL object that represents the shader variable `DiffuseColor`.\n *\n * @type {PropertyNode<vec4>}\n */\nexport const diffuseColor = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec4', 'DiffuseColor' );\n\n/**\n * TSL object that represents the shader variable `EmissiveColor`.\n *\n * @type {PropertyNode<vec3>}\n */\nexport const emissive = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec3', 'EmissiveColor' );\n\n/**\n * TSL object that represents the shader variable `Roughness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const roughness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Roughness' );\n\n/**\n * TSL object that represents the shader variable `Metalness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const metalness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Metalness' );\n\n/**\n * TSL object that represents the shader variable `Clearcoat`.\n *\n * @type {PropertyNode<float>}\n */\nexport const clearcoat = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Clearcoat' );\n\n/**\n * TSL object that represents the shader variable `ClearcoatRoughness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const clearcoatRoughness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'ClearcoatRoughness' );\n\n/**\n * TSL object that represents the shader variable `Sheen`.\n *\n * @type {PropertyNode<vec3>}\n */\nexport const sheen = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec3', 'Sheen' );\n\n/**\n * TSL object that represents the shader variable `SheenRoughness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const sheenRoughness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'SheenRoughness' );\n\n/**\n * TSL object that represents the shader variable `Iridescence`.\n *\n * @type {PropertyNode<float>}\n */\nexport const iridescence = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Iridescence' );\n\n/**\n * TSL object that represents the shader variable `IridescenceIOR`.\n *\n * @type {PropertyNode<float>}\n */\nexport const iridescenceIOR = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'IridescenceIOR' );\n\n/**\n * TSL object that represents the shader variable `IridescenceThickness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const iridescenceThickness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'IridescenceThickness' );\n\n/**\n * TSL object that represents the shader variable `AlphaT`.\n *\n * @type {PropertyNode<float>}\n */\nexport const alphaT = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'AlphaT' );\n\n/**\n * TSL object that represents the shader variable `Anisotropy`.\n *\n * @type {PropertyNode<float>}\n */\nexport const anisotropy = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Anisotropy' );\n\n/**\n * TSL object that represents the shader variable `AnisotropyT`.\n *\n * @type {PropertyNode<vec3>}\n */\nexport const anisotropyT = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec3', 'AnisotropyT' );\n\n/**\n * TSL object that represents the shader variable `AnisotropyB`.\n *\n * @type {PropertyNode<vec3>}\n */\nexport const anisotropyB = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec3', 'AnisotropyB' );\n\n/**\n * TSL object that represents the shader variable `SpecularColor`.\n *\n * @type {PropertyNode<color>}\n */\nexport const specularColor = /*@__PURE__*/ nodeImmutable( PropertyNode, 'color', 'SpecularColor' );\n\n/**\n * TSL object that represents the shader variable `SpecularF90`.\n *\n * @type {PropertyNode<float>}\n */\nexport const specularF90 = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'SpecularF90' );\n\n/**\n * TSL object that represents the shader variable `Shininess`.\n *\n * @type {PropertyNode<float>}\n */\nexport const shininess = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Shininess' );\n\n/**\n * TSL object that represents the shader variable `Output`.\n *\n * @type {PropertyNode<vec4>}\n */\nexport const output = /*@__PURE__*/ nodeImmutable( PropertyNode, 'vec4', 'Output' );\n\n/**\n * TSL object that represents the shader variable `dashSize`.\n *\n * @type {PropertyNode<float>}\n */\nexport const dashSize = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'dashSize' );\n\n/**\n * TSL object that represents the shader variable `gapSize`.\n *\n * @type {PropertyNode<float>}\n */\nexport const gapSize = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'gapSize' );\n\n/**\n * TSL object that represents the shader variable `pointWidth`.\n *\n * @type {PropertyNode<float>}\n */\nexport const pointWidth = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'pointWidth' );\n\n/**\n * TSL object that represents the shader variable `IOR`.\n *\n * @type {PropertyNode<float>}\n */\nexport const ior = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'IOR' );\n\n/**\n * TSL object that represents the shader variable `Transmission`.\n *\n * @type {PropertyNode<float>}\n */\nexport const transmission = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Transmission' );\n\n/**\n * TSL object that represents the shader variable `Thickness`.\n *\n * @type {PropertyNode<float>}\n */\nexport const thickness = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Thickness' );\n\n/**\n * TSL object that represents the shader variable `AttenuationDistance`.\n *\n * @type {PropertyNode<float>}\n */\nexport const attenuationDistance = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'AttenuationDistance' );\n\n/**\n * TSL object that represents the shader variable `AttenuationColor`.\n *\n * @type {PropertyNode<color>}\n */\nexport const attenuationColor = /*@__PURE__*/ nodeImmutable( PropertyNode, 'color', 'AttenuationColor' );\n\n/**\n * TSL object that represents the shader variable `Dispersion`.\n *\n * @type {PropertyNode<float>}\n */\nexport const dispersion = /*@__PURE__*/ nodeImmutable( PropertyNode, 'float', 'Dispersion' );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\nimport { vectorComponents } from '../core/constants.js';\n\n/** @module AssignNode **/\n\n/**\n * These node represents an assign operation. Meaning a node is assigned\n * to another node.\n *\n * @augments TempNode\n */\nclass AssignNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'AssignNode';\n\n\t}\n\n\t/**\n\t * Constructs a new assign node.\n\t *\n\t * @param {Node} targetNode - The target node.\n\t * @param {Node} sourceNode - The source type.\n\t */\n\tconstructor( targetNode, sourceNode ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The target node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.targetNode = targetNode;\n\n\t\t/**\n\t\t * The source node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.sourceNode = sourceNode;\n\n\t}\n\n\t/**\n\t * Whether this node is used more than once in context of other nodes. This method\n\t * is overwritten since it always returns `false` (assigns are unique).\n\t *\n\t * @return {Boolean} A flag that indicates if there is more than one dependency to other nodes. Always `false`.\n\t */\n\thasDependencies() {\n\n\t\treturn false;\n\n\t}\n\n\tgetNodeType( builder, output ) {\n\n\t\treturn output !== 'void' ? this.targetNode.getNodeType( builder ) : 'void';\n\n\t}\n\n\t/**\n\t * Whether a split is required when assigning source to target. This can happen when the component length of\n\t * target and source data type does not match.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Boolean} Whether a split is required when assigning source to target.\n\t */\n\tneedsSplitAssign( builder ) {\n\n\t\tconst { targetNode } = this;\n\n\t\tif ( builder.isAvailable( 'swizzleAssign' ) === false && targetNode.isSplitNode && targetNode.components.length > 1 ) {\n\n\t\t\tconst targetLength = builder.getTypeLength( targetNode.node.getNodeType( builder ) );\n\t\t\tconst assignDifferentVector = vectorComponents.join( '' ).slice( 0, targetLength ) !== targetNode.components;\n\n\t\t\treturn assignDifferentVector;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst { targetNode, sourceNode } = this;\n\n\t\tconst needsSplitAssign = this.needsSplitAssign( builder );\n\n\t\tconst targetType = targetNode.getNodeType( builder );\n\n\t\tconst target = targetNode.context( { assign: true } ).build( builder );\n\t\tconst source = sourceNode.build( builder, targetType );\n\n\t\tconst sourceType = sourceNode.getNodeType( builder );\n\n\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\t//\n\n\t\tlet snippet;\n\n\t\tif ( nodeData.initialized === true ) {\n\n\t\t\tif ( output !== 'void' ) {\n\n\t\t\t\tsnippet = target;\n\n\t\t\t}\n\n\t\t} else if ( needsSplitAssign ) {\n\n\t\t\tconst sourceVar = builder.getVarFromNode( this, null, targetType );\n\t\t\tconst sourceProperty = builder.getPropertyName( sourceVar );\n\n\t\t\tbuilder.addLineFlowCode( `${ sourceProperty } = ${ source }`, this );\n\n\t\t\tconst targetRoot = targetNode.node.context( { assign: true } ).build( builder );\n\n\t\t\tfor ( let i = 0; i < targetNode.components.length; i ++ ) {\n\n\t\t\t\tconst component = targetNode.components[ i ];\n\n\t\t\t\tbuilder.addLineFlowCode( `${ targetRoot }.${ component } = ${ sourceProperty }[ ${ i } ]`, this );\n\n\t\t\t}\n\n\t\t\tif ( output !== 'void' ) {\n\n\t\t\t\tsnippet = target;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tsnippet = `${ target } = ${ source }`;\n\n\t\t\tif ( output === 'void' || sourceType === 'void' ) {\n\n\t\t\t\tbuilder.addLineFlowCode( snippet, this );\n\n\t\t\t\tif ( output !== 'void' ) {\n\n\t\t\t\t\tsnippet = target;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tnodeData.initialized = true;\n\n\t\treturn builder.format( snippet, targetType, output );\n\n\t}\n\n}\n\nexport default AssignNode;\n\n/**\n * TSL function for creating an assign node.\n *\n * @function\n * @param {Node} targetNode - The target node.\n * @param {Node} sourceNode - The source type.\n * @returns {AssignNode}\n */\nexport const assign = /*@__PURE__*/ nodeProxy( AssignNode );\n\naddMethodChaining( 'assign', assign );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, nodeArray, nodeObject, nodeObjects } from '../tsl/TSLCore.js';\n\n/**\n * This module represents the call of a {@link FunctionNode}. Developers are usually not confronted\n * with this module since they use the predefined TSL syntax `wgslFn` and `glslFn` which encapsulate\n * this logic.\n *\n * @augments TempNode\n */\nclass FunctionCallNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'FunctionCallNode';\n\n\t}\n\n\t/**\n\t * Constructs a new function call node.\n\t *\n\t * @param {FunctionNode?} functionNode - The function node.\n\t * @param {Object<String, Node>} [parameters={}] - The parameters for the function call.\n\t */\n\tconstructor( functionNode = null, parameters = {} ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The function node.\n\t\t *\n\t\t * @type {FunctionNode}\n\t\t * @default null\n\t\t */\n\t\tthis.functionNode = functionNode;\n\n\t\t/**\n\t\t * The parameters of the function call.\n\t\t *\n\t\t * @type {Object<String, Node>}\n\t\t * @default {}\n\t\t */\n\t\tthis.parameters = parameters;\n\n\t}\n\n\t/**\n\t * Sets the parameters of the function call node.\n\t *\n\t * @param {Object<String, Node>} parameters - The parameters to set.\n\t * @return {FunctionCallNode} A reference to this node.\n\t */\n\tsetParameters( parameters ) {\n\n\t\tthis.parameters = parameters;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns the parameters of the function call node.\n\t *\n\t * @return {Object<String, Node>} The parameters of this node.\n\t */\n\tgetParameters() {\n\n\t\treturn this.parameters;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.functionNode.getNodeType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst params = [];\n\n\t\tconst functionNode = this.functionNode;\n\n\t\tconst inputs = functionNode.getInputs( builder );\n\t\tconst parameters = this.parameters;\n\n\t\tconst generateInput = ( node, inputNode ) => {\n\n\t\t\tconst type = inputNode.type;\n\t\t\tconst pointer = type === 'pointer';\n\n\t\t\tlet output;\n\n\t\t\tif ( pointer ) output = '&' + node.build( builder );\n\t\t\telse output = node.build( builder, type );\n\n\t\t\treturn output;\n\n\t\t};\n\n\t\tif ( Array.isArray( parameters ) ) {\n\n\t\t\tfor ( let i = 0; i < parameters.length; i ++ ) {\n\n\t\t\t\tparams.push( generateInput( parameters[ i ], inputs[ i ] ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tfor ( const inputNode of inputs ) {\n\n\t\t\t\tconst node = parameters[ inputNode.name ];\n\n\t\t\t\tif ( node !== undefined ) {\n\n\t\t\t\t\tparams.push( generateInput( node, inputNode ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( `FunctionCallNode: Input '${inputNode.name}' not found in FunctionNode.` );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst functionName = functionNode.build( builder, 'property' );\n\n\t\treturn `${functionName}( ${params.join( ', ' )} )`;\n\n\t}\n\n}\n\nexport default FunctionCallNode;\n\nexport const call = ( func, ...params ) => {\n\n\tparams = params.length > 1 || ( params[ 0 ] && params[ 0 ].isNode === true ) ? nodeArray( params ) : nodeObjects( params[ 0 ] );\n\n\treturn nodeObject( new FunctionCallNode( nodeObject( func ), params ) );\n\n};\n\naddMethodChaining( 'call', call );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module OperatorNode **/\n\n/**\n * This node represents basic mathematical and logical operations like addition,\n * subtraction or comparisons (e.g. `equal()`).\n *\n * @augments TempNode\n */\nclass OperatorNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'OperatorNode';\n\n\t}\n\n\t/**\n\t * Constructs a new operator node.\n\t *\n\t * @param {String} op - The operator.\n\t * @param {Node} aNode - The first input.\n\t * @param {Node} bNode - The second input.\n\t * @param {...Node} params - Additional input parameters.\n\t */\n\tconstructor( op, aNode, bNode, ...params ) {\n\n\t\tsuper();\n\n\t\tif ( params.length > 0 ) {\n\n\t\t\tlet finalOp = new OperatorNode( op, aNode, bNode );\n\n\t\t\tfor ( let i = 0; i < params.length - 1; i ++ ) {\n\n\t\t\t\tfinalOp = new OperatorNode( op, finalOp, params[ i ] );\n\n\t\t\t}\n\n\t\t\taNode = finalOp;\n\t\t\tbNode = params[ params.length - 1 ];\n\n\t\t}\n\n\t\t/**\n\t\t * The operator.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.op = op;\n\n\t\t/**\n\t\t * The first input.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.aNode = aNode;\n\n\t\t/**\n\t\t * The second input.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.bNode = bNode;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from the operator\n\t * and the input node types.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @param {String} output - The current output string.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder, output ) {\n\n\t\tconst op = this.op;\n\n\t\tconst aNode = this.aNode;\n\t\tconst bNode = this.bNode;\n\n\t\tconst typeA = aNode.getNodeType( builder );\n\t\tconst typeB = typeof bNode !== 'undefined' ? bNode.getNodeType( builder ) : null;\n\n\t\tif ( typeA === 'void' || typeB === 'void' ) {\n\n\t\t\treturn 'void';\n\n\t\t} else if ( op === '%' ) {\n\n\t\t\treturn typeA;\n\n\t\t} else if ( op === '~' || op === '&' || op === '|' || op === '^' || op === '>>' || op === '<<' ) {\n\n\t\t\treturn builder.getIntegerType( typeA );\n\n\t\t} else if ( op === '!' || op === '==' || op === '&&' || op === '||' || op === '^^' ) {\n\n\t\t\treturn 'bool';\n\n\t\t} else if ( op === '<' || op === '>' || op === '<=' || op === '>=' ) {\n\n\t\t\tconst typeLength = output ? builder.getTypeLength( output ) : Math.max( builder.getTypeLength( typeA ), builder.getTypeLength( typeB ) );\n\n\t\t\treturn typeLength > 1 ? `bvec${ typeLength }` : 'bool';\n\n\t\t} else {\n\n\t\t\tif ( typeA === 'float' && builder.isMatrix( typeB ) ) {\n\n\t\t\t\treturn typeB;\n\n\t\t\t} else if ( builder.isMatrix( typeA ) && builder.isVector( typeB ) ) {\n\n\t\t\t\t// matrix x vector\n\n\t\t\t\treturn builder.getVectorFromMatrix( typeA );\n\n\t\t\t} else if ( builder.isVector( typeA ) && builder.isMatrix( typeB ) ) {\n\n\t\t\t\t// vector x matrix\n\n\t\t\t\treturn builder.getVectorFromMatrix( typeB );\n\n\t\t\t} else if ( builder.getTypeLength( typeB ) > builder.getTypeLength( typeA ) ) {\n\n\t\t\t\t// anytype x anytype: use the greater length vector\n\n\t\t\t\treturn typeB;\n\n\t\t\t}\n\n\t\t\treturn typeA;\n\n\t\t}\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst op = this.op;\n\n\t\tconst aNode = this.aNode;\n\t\tconst bNode = this.bNode;\n\n\t\tconst type = this.getNodeType( builder, output );\n\n\t\tlet typeA = null;\n\t\tlet typeB = null;\n\n\t\tif ( type !== 'void' ) {\n\n\t\t\ttypeA = aNode.getNodeType( builder );\n\t\t\ttypeB = typeof bNode !== 'undefined' ? bNode.getNodeType( builder ) : null;\n\n\t\t\tif ( op === '<' || op === '>' || op === '<=' || op === '>=' || op === '==' ) {\n\n\t\t\t\tif ( builder.isVector( typeA ) ) {\n\n\t\t\t\t\ttypeB = typeA;\n\n\t\t\t\t} else if ( typeA !== typeB ) {\n\n\t\t\t\t\ttypeA = typeB = 'float';\n\n\t\t\t\t}\n\n\t\t\t} else if ( op === '>>' || op === '<<' ) {\n\n\t\t\t\ttypeA = type;\n\t\t\t\ttypeB = builder.changeComponentType( typeB, 'uint' );\n\n\t\t\t} else if ( builder.isMatrix( typeA ) && builder.isVector( typeB ) ) {\n\n\t\t\t\t// matrix x vector\n\n\t\t\t\ttypeB = builder.getVectorFromMatrix( typeA );\n\n\t\t\t} else if ( builder.isVector( typeA ) && builder.isMatrix( typeB ) ) {\n\n\t\t\t\t// vector x matrix\n\n\t\t\t\ttypeA = builder.getVectorFromMatrix( typeB );\n\n\t\t\t} else {\n\n\t\t\t\t// anytype x anytype\n\n\t\t\t\ttypeA = typeB = type;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\ttypeA = typeB = type;\n\n\t\t}\n\n\t\tconst a = aNode.build( builder, typeA );\n\t\tconst b = typeof bNode !== 'undefined' ? bNode.build( builder, typeB ) : null;\n\n\t\tconst outputLength = builder.getTypeLength( output );\n\t\tconst fnOpSnippet = builder.getFunctionOperator( op );\n\n\t\tif ( output !== 'void' ) {\n\n\t\t\tif ( op === '<' && outputLength > 1 ) {\n\n\t\t\t\tif ( builder.useComparisonMethod ) {\n\n\t\t\t\t\treturn builder.format( `${ builder.getMethod( 'lessThan', output ) }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn builder.format( `( ${ a } < ${ b } )`, type, output );\n\n\t\t\t\t}\n\n\t\t\t} else if ( op === '<=' && outputLength > 1 ) {\n\n\t\t\t\tif ( builder.useComparisonMethod ) {\n\n\t\t\t\t\treturn builder.format( `${ builder.getMethod( 'lessThanEqual', output ) }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn builder.format( `( ${ a } <= ${ b } )`, type, output );\n\n\t\t\t\t}\n\n\t\t\t} else if ( op === '>' && outputLength > 1 ) {\n\n\t\t\t\tif ( builder.useComparisonMethod ) {\n\n\t\t\t\t\treturn builder.format( `${ builder.getMethod( 'greaterThan', output ) }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn builder.format( `( ${ a } > ${ b } )`, type, output );\n\n\t\t\t\t}\n\n\t\t\t} else if ( op === '>=' && outputLength > 1 ) {\n\n\t\t\t\tif ( builder.useComparisonMethod ) {\n\n\t\t\t\t\treturn builder.format( `${ builder.getMethod( 'greaterThanEqual', output ) }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn builder.format( `( ${ a } >= ${ b } )`, type, output );\n\n\t\t\t\t}\n\n\t\t\t} else if ( op === '!' || op === '~' ) {\n\n\t\t\t\treturn builder.format( `(${op}${a})`, typeA, output );\n\n\t\t\t} else if ( fnOpSnippet ) {\n\n\t\t\t\treturn builder.format( `${ fnOpSnippet }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t} else {\n\n\t\t\t\treturn builder.format( `( ${ a } ${ op } ${ b } )`, type, output );\n\n\t\t\t}\n\n\t\t} else if ( typeA !== 'void' ) {\n\n\t\t\tif ( fnOpSnippet ) {\n\n\t\t\t\treturn builder.format( `${ fnOpSnippet }( ${ a }, ${ b } )`, type, output );\n\n\t\t\t} else {\n\n\t\t\t\treturn builder.format( `${ a } ${ op } ${ b }`, type, output );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.op = this.op;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.op = data.op;\n\n\t}\n\n}\n\nexport default OperatorNode;\n\n/**\n * Returns the addition of two or more value.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @param {...Node} params - Additional input parameters.\n * @returns {OperatorNode}\n */\nexport const add = /*@__PURE__*/ nodeProxy( OperatorNode, '+' );\n\n/**\n * Returns the subtraction of two or more value.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @param {...Node} params - Additional input parameters.\n * @returns {OperatorNode}\n */\nexport const sub = /*@__PURE__*/ nodeProxy( OperatorNode, '-' );\n\n/**\n * Returns the multiplication of two or more value.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @param {...Node} params - Additional input parameters.\n * @returns {OperatorNode}\n */\nexport const mul = /*@__PURE__*/ nodeProxy( OperatorNode, '*' );\n\n/**\n * Returns the division of two or more value.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @param {...Node} params - Additional input parameters.\n * @returns {OperatorNode}\n */\nexport const div = /*@__PURE__*/ nodeProxy( OperatorNode, '/' );\n\n/**\n * Computes the remainder of dividing the first node by the second, for integer values.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const modInt = /*@__PURE__*/ nodeProxy( OperatorNode, '%' );\n\n/**\n * Checks if two nodes are equal.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const equal = /*@__PURE__*/ nodeProxy( OperatorNode, '==' );\n\n/**\n * Checks if two nodes are not equal.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const notEqual = /*@__PURE__*/ nodeProxy( OperatorNode, '!=' );\n\n/**\n * Checks if the first node is less than the second.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const lessThan = /*@__PURE__*/ nodeProxy( OperatorNode, '<' );\n\n/**\n * Checks if the first node is greater than the second.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const greaterThan = /*@__PURE__*/ nodeProxy( OperatorNode, '>' );\n\n/**\n * Checks if the first node is less than or equal to the second.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const lessThanEqual = /*@__PURE__*/ nodeProxy( OperatorNode, '<=' );\n\n/**\n * Checks if the first node is greater than or equal to the second.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const greaterThanEqual = /*@__PURE__*/ nodeProxy( OperatorNode, '>=' );\n\n/**\n * Performs logical AND on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const and = /*@__PURE__*/ nodeProxy( OperatorNode, '&&' );\n\n/**\n * Performs logical OR on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const or = /*@__PURE__*/ nodeProxy( OperatorNode, '||' );\n\n/**\n * Performs logical NOT on a node.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const not = /*@__PURE__*/ nodeProxy( OperatorNode, '!' );\n\n/**\n * Performs logical XOR on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const xor = /*@__PURE__*/ nodeProxy( OperatorNode, '^^' );\n\n/**\n * Performs bitwise AND on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const bitAnd = /*@__PURE__*/ nodeProxy( OperatorNode, '&' );\n\n/**\n * Performs bitwise NOT on a node.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const bitNot = /*@__PURE__*/ nodeProxy( OperatorNode, '~' );\n\n/**\n * Performs bitwise OR on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const bitOr = /*@__PURE__*/ nodeProxy( OperatorNode, '|' );\n\n/**\n * Performs bitwise XOR on two nodes.\n *\n * @function\n * @param {Node} aNode - The first input.\n * @param {Node} bNode - The second input.\n * @returns {OperatorNode}\n */\nexport const bitXor = /*@__PURE__*/ nodeProxy( OperatorNode, '^' );\n\n/**\n * Shifts a node to the left.\n *\n * @function\n * @param {Node} aNode - The node to shift.\n * @param {Node} bNode - The value to shift.\n * @returns {OperatorNode}\n */\nexport const shiftLeft = /*@__PURE__*/ nodeProxy( OperatorNode, '<<' );\n\n/**\n * Shifts a node to the right.\n *\n * @function\n * @param {Node} aNode - The node to shift.\n * @param {Node} bNode - The value to shift.\n * @returns {OperatorNode}\n */\nexport const shiftRight = /*@__PURE__*/ nodeProxy( OperatorNode, '>>' );\n\naddMethodChaining( 'add', add );\naddMethodChaining( 'sub', sub );\naddMethodChaining( 'mul', mul );\naddMethodChaining( 'div', div );\naddMethodChaining( 'modInt', modInt );\naddMethodChaining( 'equal', equal );\naddMethodChaining( 'notEqual', notEqual );\naddMethodChaining( 'lessThan', lessThan );\naddMethodChaining( 'greaterThan', greaterThan );\naddMethodChaining( 'lessThanEqual', lessThanEqual );\naddMethodChaining( 'greaterThanEqual', greaterThanEqual );\naddMethodChaining( 'and', and );\naddMethodChaining( 'or', or );\naddMethodChaining( 'not', not );\naddMethodChaining( 'xor', xor );\naddMethodChaining( 'bitAnd', bitAnd );\naddMethodChaining( 'bitNot', bitNot );\naddMethodChaining( 'bitOr', bitOr );\naddMethodChaining( 'bitXor', bitXor );\naddMethodChaining( 'shiftLeft', shiftLeft );\naddMethodChaining( 'shiftRight', shiftRight );\n\n\nexport const remainder = ( ...params ) => { // @deprecated, r168\n\n\tconsole.warn( 'TSL.OperatorNode: .remainder() has been renamed to .modInt().' );\n\treturn modInt( ...params );\n\n};\n\naddMethodChaining( 'remainder', remainder );\n","import TempNode from '../core/TempNode.js';\nimport { sub, mul, div } from './OperatorNode.js';\nimport { addMethodChaining, nodeObject, nodeProxy, float, vec2, vec3, vec4, Fn } from '../tsl/TSLCore.js';\nimport { WebGLCoordinateSystem, WebGPUCoordinateSystem } from '../../constants.js';\n\n/** @module MathNode **/\n\n/**\n * This node represents a variety of mathematical methods available in shaders.\n * They are divided into three categories:\n *\n * - Methods with one input like `sin`, `cos` or `normalize`.\n * - Methods with two inputs like `dot`, `cross` or `pow`.\n * - Methods with three inputs like `mix`, `clamp` or `smoothstep`.\n *\n * @augments TempNode\n */\nclass MathNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'MathNode';\n\n\t}\n\n\t/**\n\t * Constructs a new math node.\n\t *\n\t * @param {String} method - The method name.\n\t * @param {Node} aNode - The first input.\n\t * @param {Node?} [bNode=null] - The second input.\n\t * @param {Node?} [cNode=null] - The third input.\n\t */\n\tconstructor( method, aNode, bNode = null, cNode = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The method name.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.method = method;\n\n\t\t/**\n\t\t * The first input.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.aNode = aNode;\n\n\t\t/**\n\t\t * The second input.\n\t\t *\n\t\t * @type {Node?}\n\t\t * @default null\n\t\t */\n\t\tthis.bNode = bNode;\n\n\t\t/**\n\t\t * The third input.\n\t\t *\n\t\t * @type {Node?}\n\t\t * @default null\n\t\t */\n\t\tthis.cNode = cNode;\n\n\t}\n\n\t/**\n\t * The input type is inferred from the node types of the input nodes.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The input type.\n\t */\n\tgetInputType( builder ) {\n\n\t\tconst aType = this.aNode.getNodeType( builder );\n\t\tconst bType = this.bNode ? this.bNode.getNodeType( builder ) : null;\n\t\tconst cType = this.cNode ? this.cNode.getNodeType( builder ) : null;\n\n\t\tconst aLen = builder.isMatrix( aType ) ? 0 : builder.getTypeLength( aType );\n\t\tconst bLen = builder.isMatrix( bType ) ? 0 : builder.getTypeLength( bType );\n\t\tconst cLen = builder.isMatrix( cType ) ? 0 : builder.getTypeLength( cType );\n\n\t\tif ( aLen > bLen && aLen > cLen ) {\n\n\t\t\treturn aType;\n\n\t\t} else if ( bLen > cLen ) {\n\n\t\t\treturn bType;\n\n\t\t} else if ( cLen > aLen ) {\n\n\t\t\treturn cType;\n\n\t\t}\n\n\t\treturn aType;\n\n\t}\n\n\t/**\n\t * The selected method as well as the input type determine the node type of this node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tconst method = this.method;\n\n\t\tif ( method === MathNode.LENGTH || method === MathNode.DISTANCE || method === MathNode.DOT ) {\n\n\t\t\treturn 'float';\n\n\t\t} else if ( method === MathNode.CROSS ) {\n\n\t\t\treturn 'vec3';\n\n\t\t} else if ( method === MathNode.ALL ) {\n\n\t\t\treturn 'bool';\n\n\t\t} else if ( method === MathNode.EQUALS ) {\n\n\t\t\treturn builder.changeComponentType( this.aNode.getNodeType( builder ), 'bool' );\n\n\t\t} else if ( method === MathNode.MOD ) {\n\n\t\t\treturn this.aNode.getNodeType( builder );\n\n\t\t} else {\n\n\t\t\treturn this.getInputType( builder );\n\n\t\t}\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tlet method = this.method;\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst inputType = this.getInputType( builder );\n\n\t\tconst a = this.aNode;\n\t\tconst b = this.bNode;\n\t\tconst c = this.cNode;\n\n\t\tconst coordinateSystem = builder.renderer.coordinateSystem;\n\n\t\tif ( method === MathNode.TRANSFORM_DIRECTION ) {\n\n\t\t\t// dir can be either a direction vector or a normal vector\n\t\t\t// upper-left 3x3 of matrix is assumed to be orthogonal\n\n\t\t\tlet tA = a;\n\t\t\tlet tB = b;\n\n\t\t\tif ( builder.isMatrix( tA.getNodeType( builder ) ) ) {\n\n\t\t\t\ttB = vec4( vec3( tB ), 0.0 );\n\n\t\t\t} else {\n\n\t\t\t\ttA = vec4( vec3( tA ), 0.0 );\n\n\t\t\t}\n\n\t\t\tconst mulNode = mul( tA, tB ).xyz;\n\n\t\t\treturn normalize( mulNode ).build( builder, output );\n\n\t\t} else if ( method === MathNode.NEGATE ) {\n\n\t\t\treturn builder.format( '( - ' + a.build( builder, inputType ) + ' )', type, output );\n\n\t\t} else if ( method === MathNode.ONE_MINUS ) {\n\n\t\t\treturn sub( 1.0, a ).build( builder, output );\n\n\t\t} else if ( method === MathNode.RECIPROCAL ) {\n\n\t\t\treturn div( 1.0, a ).build( builder, output );\n\n\t\t} else if ( method === MathNode.DIFFERENCE ) {\n\n\t\t\treturn abs( sub( a, b ) ).build( builder, output );\n\n\t\t} else {\n\n\t\t\tconst params = [];\n\n\t\t\tif ( method === MathNode.CROSS || method === MathNode.MOD ) {\n\n\t\t\t\tparams.push(\n\t\t\t\t\ta.build( builder, type ),\n\t\t\t\t\tb.build( builder, type )\n\t\t\t\t);\n\n\t\t\t} else if ( coordinateSystem === WebGLCoordinateSystem && method === MathNode.STEP ) {\n\n\t\t\t\tparams.push(\n\t\t\t\t\ta.build( builder, builder.getTypeLength( a.getNodeType( builder ) ) === 1 ? 'float' : inputType ),\n\t\t\t\t\tb.build( builder, inputType )\n\t\t\t\t);\n\n\t\t\t} else if ( ( coordinateSystem === WebGLCoordinateSystem && ( method === MathNode.MIN || method === MathNode.MAX ) ) || method === MathNode.MOD ) {\n\n\t\t\t\tparams.push(\n\t\t\t\t\ta.build( builder, inputType ),\n\t\t\t\t\tb.build( builder, builder.getTypeLength( b.getNodeType( builder ) ) === 1 ? 'float' : inputType )\n\t\t\t\t);\n\n\t\t\t} else if ( method === MathNode.REFRACT ) {\n\n\t\t\t\tparams.push(\n\t\t\t\t\ta.build( builder, inputType ),\n\t\t\t\t\tb.build( builder, inputType ),\n\t\t\t\t\tc.build( builder, 'float' )\n\t\t\t\t);\n\n\t\t\t} else if ( method === MathNode.MIX ) {\n\n\t\t\t\tparams.push(\n\t\t\t\t\ta.build( builder, inputType ),\n\t\t\t\t\tb.build( builder, inputType ),\n\t\t\t\t\tc.build( builder, builder.getTypeLength( c.getNodeType( builder ) ) === 1 ? 'float' : inputType )\n\t\t\t\t);\n\n\t\t\t} else {\n\n\t\t\t\tif ( coordinateSystem === WebGPUCoordinateSystem && method === MathNode.ATAN && b !== null ) {\n\n\t\t\t\t\tmethod = 'atan2';\n\n\t\t\t\t}\n\n\t\t\t\tparams.push( a.build( builder, inputType ) );\n\t\t\t\tif ( b !== null ) params.push( b.build( builder, inputType ) );\n\t\t\t\tif ( c !== null ) params.push( c.build( builder, inputType ) );\n\n\t\t\t}\n\n\t\t\treturn builder.format( `${ builder.getMethod( method, type ) }( ${params.join( ', ' )} )`, type, output );\n\n\t\t}\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.method = this.method;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.method = data.method;\n\n\t}\n\n}\n\n// 1 input\n\nMathNode.ALL = 'all';\nMathNode.ANY = 'any';\n\nMathNode.RADIANS = 'radians';\nMathNode.DEGREES = 'degrees';\nMathNode.EXP = 'exp';\nMathNode.EXP2 = 'exp2';\nMathNode.LOG = 'log';\nMathNode.LOG2 = 'log2';\nMathNode.SQRT = 'sqrt';\nMathNode.INVERSE_SQRT = 'inversesqrt';\nMathNode.FLOOR = 'floor';\nMathNode.CEIL = 'ceil';\nMathNode.NORMALIZE = 'normalize';\nMathNode.FRACT = 'fract';\nMathNode.SIN = 'sin';\nMathNode.COS = 'cos';\nMathNode.TAN = 'tan';\nMathNode.ASIN = 'asin';\nMathNode.ACOS = 'acos';\nMathNode.ATAN = 'atan';\nMathNode.ABS = 'abs';\nMathNode.SIGN = 'sign';\nMathNode.LENGTH = 'length';\nMathNode.NEGATE = 'negate';\nMathNode.ONE_MINUS = 'oneMinus';\nMathNode.DFDX = 'dFdx';\nMathNode.DFDY = 'dFdy';\nMathNode.ROUND = 'round';\nMathNode.RECIPROCAL = 'reciprocal';\nMathNode.TRUNC = 'trunc';\nMathNode.FWIDTH = 'fwidth';\nMathNode.TRANSPOSE = 'transpose';\n\n// 2 inputs\n\nMathNode.BITCAST = 'bitcast';\nMathNode.EQUALS = 'equals';\nMathNode.MIN = 'min';\nMathNode.MAX = 'max';\nMathNode.MOD = 'mod';\nMathNode.STEP = 'step';\nMathNode.REFLECT = 'reflect';\nMathNode.DISTANCE = 'distance';\nMathNode.DIFFERENCE = 'difference';\nMathNode.DOT = 'dot';\nMathNode.CROSS = 'cross';\nMathNode.POW = 'pow';\nMathNode.TRANSFORM_DIRECTION = 'transformDirection';\n\n// 3 inputs\n\nMathNode.MIX = 'mix';\nMathNode.CLAMP = 'clamp';\nMathNode.REFRACT = 'refract';\nMathNode.SMOOTHSTEP = 'smoothstep';\nMathNode.FACEFORWARD = 'faceforward';\n\nexport default MathNode;\n\n// 1 inputs\n\n/**\n * A small value used to handle floating-point precision errors.\n *\n * @type {Node<float>}\n */\nexport const EPSILON = /*@__PURE__*/ float( 1e-6 );\n\n/**\n * Represents infinity.\n *\n * @type {Node<float>}\n */\nexport const INFINITY = /*@__PURE__*/ float( 1e6 );\n\n/**\n * Represents PI.\n *\n * @type {Node<float>}\n */\nexport const PI = /*@__PURE__*/ float( Math.PI );\n\n/**\n * Represents PI * 2.\n *\n * @type {Node<float>}\n */\nexport const PI2 = /*@__PURE__*/ float( Math.PI * 2 );\n\n/**\n * Returns `true` if all components of `x` are `true`.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node<bool>}\n */\nexport const all = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ALL );\n\n/**\n * Returns `true` if any components of `x` are `true`.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node<bool>}\n */\nexport const any = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ANY );\n\n/**\n * Converts a quantity in degrees to radians.\n *\n * @function\n * @param {Node | Number} x - The input in degrees.\n * @returns {Node}\n */\nexport const radians = /*@__PURE__*/ nodeProxy( MathNode, MathNode.RADIANS );\n\n/**\n * Convert a quantity in radians to degrees.\n *\n * @function\n * @param {Node | Number} x - The input in radians.\n * @returns {Node}\n */\nexport const degrees = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DEGREES );\n\n/**\n * Returns the natural exponentiation of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const exp = /*@__PURE__*/ nodeProxy( MathNode, MathNode.EXP );\n\n/**\n * Returns 2 raised to the power of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const exp2 = /*@__PURE__*/ nodeProxy( MathNode, MathNode.EXP2 );\n\n/**\n * Returns the natural logarithm of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const log = /*@__PURE__*/ nodeProxy( MathNode, MathNode.LOG );\n\n/**\n * Returns the base 2 logarithm of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const log2 = /*@__PURE__*/ nodeProxy( MathNode, MathNode.LOG2 );\n\n/**\n * Returns the square root of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const sqrt = /*@__PURE__*/ nodeProxy( MathNode, MathNode.SQRT );\n\n/**\n * Returns the inverse of the square root of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const inverseSqrt = /*@__PURE__*/ nodeProxy( MathNode, MathNode.INVERSE_SQRT );\n\n/**\n * Finds the nearest integer less than or equal to the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const floor = /*@__PURE__*/ nodeProxy( MathNode, MathNode.FLOOR );\n\n/**\n * Finds the nearest integer that is greater than or equal to the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const ceil = /*@__PURE__*/ nodeProxy( MathNode, MathNode.CEIL );\n\n/**\n * Calculates the unit vector in the same direction as the original vector.\n *\n * @function\n * @param {Node} x - The input vector.\n * @returns {Node}\n */\nexport const normalize = /*@__PURE__*/ nodeProxy( MathNode, MathNode.NORMALIZE );\n\n/**\n * Computes the fractional part of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const fract = /*@__PURE__*/ nodeProxy( MathNode, MathNode.FRACT );\n\n/**\n * Returns the sine of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const sin = /*@__PURE__*/ nodeProxy( MathNode, MathNode.SIN );\n\n/**\n * Returns the cosine of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const cos = /*@__PURE__*/ nodeProxy( MathNode, MathNode.COS );\n\n/**\n * Returns the tangent of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const tan = /*@__PURE__*/ nodeProxy( MathNode, MathNode.TAN );\n\n/**\n * Returns the arcsine of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const asin = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ASIN );\n\n/**\n * Returns the arccosine of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const acos = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ACOS );\n\n/**\n * Returns the arc-tangent of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const atan = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ATAN );\n\n/**\n * Returns the absolute value of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const abs = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ABS );\n\n/**\n * Extracts the sign of the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const sign = /*@__PURE__*/ nodeProxy( MathNode, MathNode.SIGN );\n\n/**\n * Calculates the length of a vector.\n *\n * @function\n * @param {Node} x - The parameter.\n * @returns {Node<float>}\n */\nexport const length = /*@__PURE__*/ nodeProxy( MathNode, MathNode.LENGTH );\n\n/**\n * Negates the value of the parameter (-x).\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const negate = /*@__PURE__*/ nodeProxy( MathNode, MathNode.NEGATE );\n\n/**\n * Return `1` minus the parameter.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const oneMinus = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ONE_MINUS );\n\n/**\n * Returns the partial derivative of the parameter with respect to x.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const dFdx = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DFDX );\n\n/**\n * Returns the partial derivative of the parameter with respect to y.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const dFdy = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DFDY );\n\n/**\n * Rounds the parameter to the nearest integer.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const round = /*@__PURE__*/ nodeProxy( MathNode, MathNode.ROUND );\n\n/**\n * Returns the reciprocal of the parameter `(1/x)`.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const reciprocal = /*@__PURE__*/ nodeProxy( MathNode, MathNode.RECIPROCAL );\n\n/**\n * Truncates the parameter, removing the fractional part.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const trunc = /*@__PURE__*/ nodeProxy( MathNode, MathNode.TRUNC );\n\n/**\n * Returns the sum of the absolute derivatives in x and y.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @returns {Node}\n */\nexport const fwidth = /*@__PURE__*/ nodeProxy( MathNode, MathNode.FWIDTH );\n\n/**\n * Returns the transpose of a matrix.\n *\n * @function\n * @param {Node<mat2|mat3|mat4>} x - The parameter.\n * @returns {Node}\n */\nexport const transpose = /*@__PURE__*/ nodeProxy( MathNode, MathNode.TRANSPOSE );\n\n// 2 inputs\n\n/**\n * Reinterpret the bit representation of a value in one type as a value in another type.\n *\n * @function\n * @param {Node | Number} x - The parameter.\n * @param {String} y - The new type.\n * @returns {Node}\n */\nexport const bitcast = /*@__PURE__*/ nodeProxy( MathNode, MathNode.BITCAST );\n\n/**\n * Returns `true` if `x` equals `y`.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @param {Node | Number} y - The second parameter.\n * @returns {Node<bool>}\n */\nexport const equals = /*@__PURE__*/ nodeProxy( MathNode, MathNode.EQUALS );\n\n/**\n * Returns the lesser of two values.\n *\n * @function\n * @param {Node | Number} x - The y parameter.\n * @param {Node | Number} y - The x parameter.\n * @returns {Node}\n */\nexport const min = /*@__PURE__*/ nodeProxy( MathNode, MathNode.MIN );\n\n/**\n * Returns the greater of two values.\n *\n * @function\n * @param {Node | Number} x - The y parameter.\n * @param {Node | Number} y - The x parameter.\n * @returns {Node}\n */\nexport const max = /*@__PURE__*/ nodeProxy( MathNode, MathNode.MAX );\n\n/**\n * Computes the remainder of dividing the first node by the second one.\n *\n * @function\n * @param {Node | Number} x - The y parameter.\n * @param {Node | Number} y - The x parameter.\n * @returns {Node}\n */\nexport const mod = /*@__PURE__*/ nodeProxy( MathNode, MathNode.MOD );\n\n/**\n * Generate a step function by comparing two values.\n *\n * @function\n * @param {Node | Number} x - The y parameter.\n * @param {Node | Number} y - The x parameter.\n * @returns {Node}\n */\nexport const step = /*@__PURE__*/ nodeProxy( MathNode, MathNode.STEP );\n\n/**\n * Calculates the reflection direction for an incident vector.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} I - The incident vector.\n * @param {Node<vec2|vec3|vec4>} N - The normal vector.\n * @returns {Node<vec2|vec3|vec4>}\n */\nexport const reflect = /*@__PURE__*/ nodeProxy( MathNode, MathNode.REFLECT );\n\n/**\n * Calculates the distance between two points.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} x - The first point.\n * @param {Node<vec2|vec3|vec4>} y - The second point.\n * @returns {Node<float>}\n */\nexport const distance = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DISTANCE );\n\n/**\n * Calculates the absolute difference between two values.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @param {Node | Number} y - The second parameter.\n * @returns {Node}\n */\nexport const difference = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DIFFERENCE );\n\n/**\n * Calculates the dot product of two vectors.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} x - The first vector.\n * @param {Node<vec2|vec3|vec4>} y - The second vector.\n * @returns {Node<float>}\n */\nexport const dot = /*@__PURE__*/ nodeProxy( MathNode, MathNode.DOT );\n\n/**\n * Calculates the cross product of two vectors.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} x - The first vector.\n * @param {Node<vec2|vec3|vec4>} y - The second vector.\n * @returns {Node<vec2|vec3|vec4>}\n */\nexport const cross = /*@__PURE__*/ nodeProxy( MathNode, MathNode.CROSS );\n\n/**\n * Return the value of the first parameter raised to the power of the second one.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @param {Node | Number} y - The second parameter.\n * @returns {Node}\n */\nexport const pow = /*@__PURE__*/ nodeProxy( MathNode, MathNode.POW );\n\n/**\n * Returns the square of the parameter.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @returns {Node}\n */\nexport const pow2 = /*@__PURE__*/ nodeProxy( MathNode, MathNode.POW, 2 );\n\n/**\n * Returns the cube of the parameter.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @returns {Node}\n */\nexport const pow3 = /*@__PURE__*/ nodeProxy( MathNode, MathNode.POW, 3 );\n\n/**\n * Returns the fourth power of the parameter.\n *\n * @function\n * @param {Node | Number} x - The first parameter.\n * @returns {Node}\n */\nexport const pow4 = /*@__PURE__*/ nodeProxy( MathNode, MathNode.POW, 4 );\n\n/**\n * Transforms the direction of a vector by a matrix and then normalizes the result.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} direction - The direction vector.\n * @param {Node<mat2|mat3|mat4>} matrix - The transformation matrix.\n * @returns {Node}\n */\nexport const transformDirection = /*@__PURE__*/ nodeProxy( MathNode, MathNode.TRANSFORM_DIRECTION );\n\n/**\n * Returns the cube root of a number.\n *\n * @function\n * @param {Node | Number} a - The first parameter.\n * @returns {Node}\n */\nexport const cbrt = ( a ) => mul( sign( a ), pow( abs( a ), 1.0 / 3.0 ) );\n\n/**\n * Calculate the squared length of a vector.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} a - The vector.\n * @returns {Node<float>}\n */\nexport const lengthSq = ( a ) => dot( a, a );\n\n/**\n * Linearly interpolates between two values.\n *\n * @function\n * @param {Node | Number} a - The first parameter.\n * @param {Node | Number} b - The second parameter.\n * @param {Node | Number} t - The interpolation value.\n * @returns {Node}\n */\nexport const mix = /*@__PURE__*/ nodeProxy( MathNode, MathNode.MIX );\n\n/**\n * Constrains a value to lie between two further values.\n *\n * @function\n * @param {Node | Number} value - The value to constrain.\n * @param {Node | Number} [low=0] - The lower bound.\n * @param {Node | Number} [high=1] - The upper bound.\n * @returns {Node}\n */\nexport const clamp = ( value, low = 0, high = 1 ) => nodeObject( new MathNode( MathNode.CLAMP, nodeObject( value ), nodeObject( low ), nodeObject( high ) ) );\n\n/**\n * Constrains a value between `0` and `1`.\n *\n * @function\n * @param {Node | Number} value - The value to constrain.\n * @returns {Node}\n */\nexport const saturate = ( value ) => clamp( value );\n\n/**\n * Calculates the refraction direction for an incident vector.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} I - The incident vector.\n * @param {Node<vec2|vec3|vec4>} N - The normal vector.\n * @param {Node<float>} eta - The the ratio of indices of refraction.\n * @returns {Node<vec2|vec3|vec4>}\n */\nexport const refract = /*@__PURE__*/ nodeProxy( MathNode, MathNode.REFRACT );\n\n/**\n * Performs a Hermite interpolation between two values.\n *\n * @function\n * @param {Node | Number} low - The value of the lower edge of the Hermite function.\n * @param {Node | Number} high - The value of the upper edge of the Hermite function.\n * @param {Node | Number} x - The source value for interpolation.\n * @returns {Node}\n */\nexport const smoothstep = /*@__PURE__*/ nodeProxy( MathNode, MathNode.SMOOTHSTEP );\n\n/**\n * Returns a vector pointing in the same direction as another.\n *\n * @function\n * @param {Node<vec2|vec3|vec4>} N - The vector to orient.\n * @param {Node<vec2|vec3|vec4>} I - The incident vector.\n * @param {Node<vec2|vec3|vec4>} Nref - The reference vector.\n * @returns {Node<vec2|vec3|vec4>}\n */\nexport const faceForward = /*@__PURE__*/ nodeProxy( MathNode, MathNode.FACEFORWARD );\n\n/**\n * Returns a random value for the given uv.\n *\n * @function\n * @param {Node<vec2>} uv - The uv node.\n * @returns {Node<float>}\n */\nexport const rand = /*@__PURE__*/ Fn( ( [ uv ] ) => {\n\n\tconst a = 12.9898, b = 78.233, c = 43758.5453;\n\tconst dt = dot( uv.xy, vec2( a, b ) ), sn = mod( dt, PI );\n\n\treturn fract( sin( sn ).mul( c ) );\n\n} );\n\n/**\n * Alias for `mix()` with a different parameter order.\n *\n * @function\n * @param {Node | Number} t - The interpolation value.\n * @param {Node | Number} e1 - The first parameter.\n * @param {Node | Number} e2 - The second parameter.\n * @returns {Node}\n */\nexport const mixElement = ( t, e1, e2 ) => mix( e1, e2, t );\n\n/**\n * Alias for `smoothstep()` with a different parameter order.\n *\n * @function\n * @param {Node | Number} x - The source value for interpolation.\n * @param {Node | Number} low - The value of the lower edge of the Hermite function.\n * @param {Node | Number} high - The value of the upper edge of the Hermite function.\n * @returns {Node}\n */\nexport const smoothstepElement = ( x, low, high ) => smoothstep( low, high, x );\n\n/**\n * Returns the arc-tangent of the quotient of its parameters.\n *\n * @function\n * @param {Node | Number} y - The y parameter.\n * @param {Node | Number} x - The x parameter.\n * @returns {Node}\n */\nexport const atan2 = ( y, x ) => { // @deprecated, r172\n\n\tconsole.warn( 'THREE.TSL: \"atan2\" is overloaded. Use \"atan\" instead.' );\n\treturn atan( y, x );\n\n};\n\n// GLSL alias function\n\nexport const faceforward = faceForward;\nexport const inversesqrt = inverseSqrt;\n\n// Method chaining\n\naddMethodChaining( 'all', all );\naddMethodChaining( 'any', any );\naddMethodChaining( 'equals', equals );\n\naddMethodChaining( 'radians', radians );\naddMethodChaining( 'degrees', degrees );\naddMethodChaining( 'exp', exp );\naddMethodChaining( 'exp2', exp2 );\naddMethodChaining( 'log', log );\naddMethodChaining( 'log2', log2 );\naddMethodChaining( 'sqrt', sqrt );\naddMethodChaining( 'inverseSqrt', inverseSqrt );\naddMethodChaining( 'floor', floor );\naddMethodChaining( 'ceil', ceil );\naddMethodChaining( 'normalize', normalize );\naddMethodChaining( 'fract', fract );\naddMethodChaining( 'sin', sin );\naddMethodChaining( 'cos', cos );\naddMethodChaining( 'tan', tan );\naddMethodChaining( 'asin', asin );\naddMethodChaining( 'acos', acos );\naddMethodChaining( 'atan', atan );\naddMethodChaining( 'abs', abs );\naddMethodChaining( 'sign', sign );\naddMethodChaining( 'length', length );\naddMethodChaining( 'lengthSq', lengthSq );\naddMethodChaining( 'negate', negate );\naddMethodChaining( 'oneMinus', oneMinus );\naddMethodChaining( 'dFdx', dFdx );\naddMethodChaining( 'dFdy', dFdy );\naddMethodChaining( 'round', round );\naddMethodChaining( 'reciprocal', reciprocal );\naddMethodChaining( 'trunc', trunc );\naddMethodChaining( 'fwidth', fwidth );\naddMethodChaining( 'atan2', atan2 );\naddMethodChaining( 'min', min );\naddMethodChaining( 'max', max );\naddMethodChaining( 'mod', mod );\naddMethodChaining( 'step', step );\naddMethodChaining( 'reflect', reflect );\naddMethodChaining( 'distance', distance );\naddMethodChaining( 'dot', dot );\naddMethodChaining( 'cross', cross );\naddMethodChaining( 'pow', pow );\naddMethodChaining( 'pow2', pow2 );\naddMethodChaining( 'pow3', pow3 );\naddMethodChaining( 'pow4', pow4 );\naddMethodChaining( 'transformDirection', transformDirection );\naddMethodChaining( 'mix', mixElement );\naddMethodChaining( 'clamp', clamp );\naddMethodChaining( 'refract', refract );\naddMethodChaining( 'smoothstep', smoothstepElement );\naddMethodChaining( 'faceForward', faceForward );\naddMethodChaining( 'difference', difference );\naddMethodChaining( 'saturate', saturate );\naddMethodChaining( 'cbrt', cbrt );\naddMethodChaining( 'transpose', transpose );\naddMethodChaining( 'rand', rand );\n","import Node from '../core/Node.js';\nimport { property } from '../core/PropertyNode.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module ConditionalNode **/\n\n/**\n * Represents a logical `if/else` statement. Can be used as an alternative\n * to the `If()`/`Else()` syntax.\n *\n * The corresponding TSL `select()` looks like so:\n * ```js\n * velocity = position.greaterThanEqual( limit ).select( velocity.negate(), velocity );\n * ```\n * The `select()` method is called in a chaining fashion on a condition. The parameter nodes of `select()`\n * determine the outcome of the entire statement.\n *\n * @augments Node\n */\nclass ConditionalNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ConditionalNode';\n\n\t}\n\n\t/**\n\t * Constructs a new conditional node.\n\t *\n\t * @param {Node} condNode - The node that defines the condition.\n\t * @param {Node} ifNode - The node that is evaluate when the condition ends up `true`.\n\t * @param {Node?} [elseNode=null] - The node that is evaluate when the condition ends up `false`.\n\t */\n\tconstructor( condNode, ifNode, elseNode = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node that defines the condition.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.condNode = condNode;\n\n\t\t/**\n\t\t * The node that is evaluate when the condition ends up `true`.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.ifNode = ifNode;\n\n\t\t/**\n\t\t * The node that is evaluate when the condition ends up `false`.\n\t\t *\n\t\t * @type {Node?}\n\t\t * @default null\n\t\t */\n\t\tthis.elseNode = elseNode;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from the if/else\n\t * nodes.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tconst { ifNode, elseNode } = builder.getNodeProperties( this );\n\n\t\tif ( ifNode === undefined ) {\n\n\t\t\t// fallback setup\n\n\t\t\tthis.setup( builder );\n\n\t\t\treturn this.getNodeType( builder );\n\n\t\t}\n\n\t\tconst ifType = ifNode.getNodeType( builder );\n\n\t\tif ( elseNode !== null ) {\n\n\t\t\tconst elseType = elseNode.getNodeType( builder );\n\n\t\t\tif ( builder.getTypeLength( elseType ) > builder.getTypeLength( ifType ) ) {\n\n\t\t\t\treturn elseType;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn ifType;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tconst condNode = this.condNode.cache();\n\t\tconst ifNode = this.ifNode.cache();\n\t\tconst elseNode = this.elseNode ? this.elseNode.cache() : null;\n\n\t\t//\n\n\t\tconst currentNodeBlock = builder.context.nodeBlock;\n\n\t\tbuilder.getDataFromNode( ifNode ).parentNodeBlock = currentNodeBlock;\n\t\tif ( elseNode !== null ) builder.getDataFromNode( elseNode ).parentNodeBlock = currentNodeBlock;\n\n\t\t//\n\n\t\tconst properties = builder.getNodeProperties( this );\n\t\tproperties.condNode = condNode;\n\t\tproperties.ifNode = ifNode.context( { nodeBlock: ifNode } );\n\t\tproperties.elseNode = elseNode ? elseNode.context( { nodeBlock: elseNode } ) : null;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\n\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\tif ( nodeData.nodeProperty !== undefined ) {\n\n\t\t\treturn nodeData.nodeProperty;\n\n\t\t}\n\n\t\tconst { condNode, ifNode, elseNode } = builder.getNodeProperties( this );\n\n\t\tconst needsOutput = output !== 'void';\n\t\tconst nodeProperty = needsOutput ? property( type ).build( builder ) : '';\n\n\t\tnodeData.nodeProperty = nodeProperty;\n\n\t\tconst nodeSnippet = condNode.build( builder, 'bool' );\n\n\t\tbuilder.addFlowCode( `\\n${ builder.tab }if ( ${ nodeSnippet } ) {\\n\\n` ).addFlowTab();\n\n\t\tlet ifSnippet = ifNode.build( builder, type );\n\n\t\tif ( ifSnippet ) {\n\n\t\t\tif ( needsOutput ) {\n\n\t\t\t\tifSnippet = nodeProperty + ' = ' + ifSnippet + ';';\n\n\t\t\t} else {\n\n\t\t\t\tifSnippet = 'return ' + ifSnippet + ';';\n\n\t\t\t}\n\n\t\t}\n\n\t\tbuilder.removeFlowTab().addFlowCode( builder.tab + '\\t' + ifSnippet + '\\n\\n' + builder.tab + '}' );\n\n\t\tif ( elseNode !== null ) {\n\n\t\t\tbuilder.addFlowCode( ' else {\\n\\n' ).addFlowTab();\n\n\t\t\tlet elseSnippet = elseNode.build( builder, type );\n\n\t\t\tif ( elseSnippet ) {\n\n\t\t\t\tif ( needsOutput ) {\n\n\t\t\t\t\telseSnippet = nodeProperty + ' = ' + elseSnippet + ';';\n\n\t\t\t\t} else {\n\n\t\t\t\t\telseSnippet = 'return ' + elseSnippet + ';';\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbuilder.removeFlowTab().addFlowCode( builder.tab + '\\t' + elseSnippet + '\\n\\n' + builder.tab + '}\\n\\n' );\n\n\t\t} else {\n\n\t\t\tbuilder.addFlowCode( '\\n\\n' );\n\n\t\t}\n\n\t\treturn builder.format( nodeProperty, type, output );\n\n\t}\n\n}\n\nexport default ConditionalNode;\n\n/**\n * TSL function for creating a conditional node.\n *\n * @function\n * @param {Node} condNode - The node that defines the condition.\n * @param {Node} ifNode - The node that is evaluate when the condition ends up `true`.\n * @param {Node?} [elseNode=null] - The node that is evaluate when the condition ends up `false`.\n * @returns {ConditionalNode}\n */\nexport const select = /*@__PURE__*/ nodeProxy( ConditionalNode );\n\naddMethodChaining( 'select', select );\n\n//\n\nexport const cond = ( ...params ) => { // @deprecated, r168\n\n\tconsole.warn( 'TSL.ConditionalNode: cond() has been renamed to select().' );\n\treturn select( ...params );\n\n};\n\naddMethodChaining( 'cond', cond );\n","import Node from './Node.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module ContextNode **/\n\n/**\n * This node can be used as a context management component for another node.\n * {@link NodeBuilder} performs its node building process in a specific context and\n * this node allows the modify the context. A typical use case is to overwrite `getUV()` e.g.:\n *\n * ```js\n *node.context( { getUV: () => customCoord } );\n *```\n * @augments Node\n */\nclass ContextNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ContextNode';\n\n\t}\n\n\t/**\n\t * Constructs a new context node.\n\t *\n\t * @param {Node} node - The node whose context should be modified.\n\t * @param {Object} [value={}] - The modified context data.\n\t */\n\tconstructor( node, value = {} ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isContextNode = true;\n\n\t\t/**\n\t\t * The node whose context should be modified.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The modified context data.\n\t\t *\n\t\t * @type {Object}\n\t\t * @default {}\n\t\t */\n\t\tthis.value = value;\n\n\t}\n\n\t/**\n\t * This method is overwritten to ensure it returns the reference to {@link module:ContextNode~ContextNode#node}.\n\t *\n\t * @return {Node} A reference to {@link module:ContextNode~ContextNode#node}.\n\t */\n\tgetScope() {\n\n\t\treturn this.node.getScope();\n\n\t}\n\n\t/**\n\t * This method is overwritten to ensure it returns the type of {@link module:ContextNode~ContextNode#node}.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\tanalyze( builder ) {\n\n\t\tthis.node.build( builder );\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tconst previousContext = builder.getContext();\n\n\t\tbuilder.setContext( { ...builder.context, ...this.value } );\n\n\t\tconst node = this.node.build( builder );\n\n\t\tbuilder.setContext( previousContext );\n\n\t\treturn node;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst previousContext = builder.getContext();\n\n\t\tbuilder.setContext( { ...builder.context, ...this.value } );\n\n\t\tconst snippet = this.node.build( builder, output );\n\n\t\tbuilder.setContext( previousContext );\n\n\t\treturn snippet;\n\n\t}\n\n}\n\nexport default ContextNode;\n\n/**\n * TSL function for creating a context node.\n *\n * @function\n * @param {Node} node - The node whose context should be modified.\n * @param {Object} [value={}] - The modified context data.\n * @returns {ContextNode}\n */\nexport const context = /*@__PURE__*/ nodeProxy( ContextNode );\n\n/**\n * TSL function for defining a label context value for a given node.\n *\n * @function\n * @param {Node} node - The node whose context should be modified.\n * @param {String} name - The name/label to set.\n * @returns {ContextNode}\n */\nexport const label = ( node, name ) => context( node, { label: name } );\n\naddMethodChaining( 'context', context );\naddMethodChaining( 'label', label );\n","import Node from './Node.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module VarNode **/\n\n/**\n * Class for representing shader variables as nodes. Variables are created from\n * existing nodes like the following:\n *\n * ```js\n * const depth = sampleDepth( uvNode ).toVar( 'depth' );\n * ```\n *\n * @augments Node\n */\nclass VarNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'VarNode';\n\n\t}\n\n\t/**\n\t * Constructs a new variable node.\n\t *\n\t * @param {Node} node - The node for which a variable should be created.\n\t * @param {String?} name - The name of the variable in the shader.\n\t */\n\tconstructor( node, name = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node for which a variable should be created.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The name of the variable in the shader. If no name is defined,\n\t\t * the node system auto-generates one.\n\t\t *\n\t\t * @type {String?}\n\t\t * @default null\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * `VarNode` sets this property to `true` by default.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.global = true;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isVarNode = true;\n\n\t}\n\n\tgetHash( builder ) {\n\n\t\treturn this.name || super.getHash( builder );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst { node, name } = this;\n\n\t\tconst nodeVar = builder.getVarFromNode( this, name, builder.getVectorType( this.getNodeType( builder ) ) );\n\n\t\tconst propertyName = builder.getPropertyName( nodeVar );\n\n\t\tconst snippet = node.build( builder, nodeVar.type );\n\n\t\tbuilder.addLineFlowCode( `${propertyName} = ${snippet}`, this );\n\n\t\treturn propertyName;\n\n\t}\n\n}\n\nexport default VarNode;\n\n/**\n * TSL function for creating a var node.\n *\n * @function\n * @param {Node} node - The node for which a variable should be created.\n * @param {String?} name - The name of the variable in the shader.\n * @returns {VarNode}\n */\nconst createVar = /*@__PURE__*/ nodeProxy( VarNode );\n\naddMethodChaining( 'toVar', ( ...params ) => createVar( ...params ).append() );\n\n// Deprecated\n\nexport const temp = ( node ) => { // @deprecated, r170\n\n\tconsole.warn( 'TSL: \"temp\" is deprecated. Use \".toVar()\" instead.' );\n\n\treturn createVar( node );\n\n};\n\naddMethodChaining( 'temp', temp );\n\n","import Node from './Node.js';\nimport { NodeShaderStage } from './constants.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module VaryingNode **/\n\n/**\n * Class for representing shader varyings as nodes. Varyings are create from\n * existing nodes like the following:\n *\n * ```js\n * const positionLocal = positionGeometry.varying( 'vPositionLocal' );\n * ```\n *\n * @augments Node\n */\nclass VaryingNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'VaryingNode';\n\n\t}\n\n\t/**\n\t * Constructs a new varying node.\n\t *\n\t * @param {Node} node - The node for which a varying should be created.\n\t * @param {String?} name - The name of the varying in the shader.\n\t */\n\tconstructor( node, name = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node for which a varying should be created.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The name of the varying in the shader. If no name is defined,\n\t\t * the node system auto-generates one.\n\t\t *\n\t\t * @type {String?}\n\t\t * @default null\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isVaryingNode = true;\n\n\t}\n\n\t/**\n\t * The method is overwritten so it always returns `true`.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {Boolean} Whether this node is global or not.\n\t */\n\tisGlobal( /*builder*/ ) {\n\n\t\treturn true;\n\n\t}\n\n\tgetHash( builder ) {\n\n\t\treturn this.name || super.getHash( builder );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\t// VaryingNode is auto type\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\t/**\n\t * This method performs the setup of a varying node with the current node builder.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {NodeVarying} The node varying from the node builder.\n\t */\n\tsetupVarying( builder ) {\n\n\t\tconst properties = builder.getNodeProperties( this );\n\n\t\tlet varying = properties.varying;\n\n\t\tif ( varying === undefined ) {\n\n\t\t\tconst name = this.name;\n\t\t\tconst type = this.getNodeType( builder );\n\n\t\t\tproperties.varying = varying = builder.getVaryingFromNode( this, name, type );\n\t\t\tproperties.node = this.node;\n\n\t\t}\n\n\t\t// this property can be used to check if the varying can be optimized for a variable\n\t\tvarying.needsInterpolation || ( varying.needsInterpolation = ( builder.shaderStage === 'fragment' ) );\n\n\t\treturn varying;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tthis.setupVarying( builder );\n\n\t}\n\n\tanalyze( builder ) {\n\n\t\tthis.setupVarying( builder );\n\n\t\treturn this.node.analyze( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst properties = builder.getNodeProperties( this );\n\t\tconst varying = this.setupVarying( builder );\n\n\t\tconst needsReassign = builder.shaderStage === 'fragment' && properties.reassignPosition === true && builder.context.needsPositionReassign;\n\n\t\tif ( properties.propertyName === undefined || needsReassign ) {\n\n\t\t\tconst type = this.getNodeType( builder );\n\t\t\tconst propertyName = builder.getPropertyName( varying, NodeShaderStage.VERTEX );\n\n\t\t\t// force node run in vertex stage\n\t\t\tbuilder.flowNodeFromShaderStage( NodeShaderStage.VERTEX, this.node, type, propertyName );\n\n\t\t\tproperties.propertyName = propertyName;\n\n\t\t\tif ( needsReassign ) {\n\n\t\t\t\t// once reassign varying in fragment stage\n\t\t\t\tproperties.reassignPosition = false;\n\n\t\t\t} else if ( properties.reassignPosition === undefined && builder.context.isPositionNodeInput ) {\n\n\t\t\t\tproperties.reassignPosition = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn builder.getPropertyName( varying );\n\n\t}\n\n}\n\nexport default VaryingNode;\n\n/**\n * TSL function for creating a varying node.\n *\n * @function\n * @param {Node} node - The node for which a varying should be created.\n * @param {String?} name - The name of the varying in the shader.\n * @returns {VaryingNode}\n */\nexport const varying = /*@__PURE__*/ nodeProxy( VaryingNode );\n\n/**\n * Computes a node in the vertex stage.\n *\n * @function\n * @param {Node} node - The node which should be executed in the vertex stage.\n * @returns {VaryingNode}\n */\nexport const vertexStage = ( node ) => varying( node );\n\naddMethodChaining( 'varying', varying );\naddMethodChaining( 'vertexStage', vertexStage );\n","import { mix } from '../math/MathNode.js';\nimport { Fn } from '../tsl/TSLCore.js';\n\n/** @module ColorSpaceFunctions **/\n\n/**\n * Converts the given color value from sRGB to linear-sRGB color space.\n *\n * @method\n * @param {Node<vec3>} color - The sRGB color.\n * @return {Node<vec3>} The linear-sRGB color.\n */\nexport const sRGBTransferEOTF = /*@__PURE__*/ Fn( ( [ color ] ) => {\n\n\tconst a = color.mul( 0.9478672986 ).add( 0.0521327014 ).pow( 2.4 );\n\tconst b = color.mul( 0.0773993808 );\n\tconst factor = color.lessThanEqual( 0.04045 );\n\n\tconst rgbResult = mix( a, b, factor );\n\n\treturn rgbResult;\n\n} ).setLayout( {\n\tname: 'sRGBTransferEOTF',\n\ttype: 'vec3',\n\tinputs: [\n\t\t{ name: 'color', type: 'vec3' }\n\t]\n} );\n\n/**\n * Converts the given color value from linear-sRGB to sRGB color space.\n *\n * @method\n * @param {Node<vec3>} color - The linear-sRGB color.\n * @return {Node<vec3>} The sRGB color.\n */\nexport const sRGBTransferOETF = /*@__PURE__*/ Fn( ( [ color ] ) => {\n\n\tconst a = color.pow( 0.41666 ).mul( 1.055 ).sub( 0.055 );\n\tconst b = color.mul( 12.92 );\n\tconst factor = color.lessThanEqual( 0.0031308 );\n\n\tconst rgbResult = mix( a, b, factor );\n\n\treturn rgbResult;\n\n} ).setLayout( {\n\tname: 'sRGBTransferOETF',\n\ttype: 'vec3',\n\tinputs: [\n\t\t{ name: 'color', type: 'vec3' }\n\t]\n} );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, mat3, nodeObject, vec4 } from '../tsl/TSLCore.js';\n\nimport { SRGBTransfer } from '../../constants.js';\nimport { ColorManagement } from '../../math/ColorManagement.js';\nimport { sRGBTransferEOTF, sRGBTransferOETF } from './ColorSpaceFunctions.js';\nimport { Matrix3 } from '../../math/Matrix3.js';\n\n/** @module ColorSpaceNode **/\n\nconst WORKING_COLOR_SPACE = 'WorkingColorSpace';\nconst OUTPUT_COLOR_SPACE = 'OutputColorSpace';\n\n/**\n * This node represents a color space conversion. Meaning it converts\n * a color value from a source to a target color space.\n *\n * @augments TempNode\n */\nclass ColorSpaceNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'ColorSpaceNode';\n\n\t}\n\n\t/**\n\t * Constructs a new color space node.\n\t *\n\t * @param {Node} colorNode - Represents the color to convert.\n\t * @param {String} source - The source color space.\n\t * @param {String} target - The target color space.\n\t */\n\tconstructor( colorNode, source, target ) {\n\n\t\tsuper( 'vec4' );\n\n\t\t/**\n\t\t * Represents the color to convert.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.colorNode = colorNode;\n\n\t\t/**\n\t\t * The source color space.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.source = source;\n\n\t\t/**\n\t\t * The target color space.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.target = target;\n\n\t}\n\n\t/**\n\t * This method resolves the constants `WORKING_COLOR_SPACE` and\n\t * `OUTPUT_COLOR_SPACE` based on the current configuration of the\n\t * color management and renderer.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @param {String} colorSpace - The color space to resolve.\n\t * @return {String} The resolved color space.\n\t */\n\tresolveColorSpace( builder, colorSpace ) {\n\n\t\tif ( colorSpace === WORKING_COLOR_SPACE ) {\n\n\t\t\treturn ColorManagement.workingColorSpace;\n\n\t\t} else if ( colorSpace === OUTPUT_COLOR_SPACE ) {\n\n\t\t\treturn builder.context.outputColorSpace || builder.renderer.outputColorSpace;\n\n\t\t}\n\n\t\treturn colorSpace;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tconst { colorNode } = this;\n\n\t\tconst source = this.resolveColorSpace( builder, this.source );\n\t\tconst target = this.resolveColorSpace( builder, this.target );\n\n\t\tlet outputNode = colorNode;\n\n\t\tif ( ColorManagement.enabled === false || source === target || ! source || ! target ) {\n\n\t\t\treturn outputNode;\n\n\t\t}\n\n\t\tif ( ColorManagement.getTransfer( source ) === SRGBTransfer ) {\n\n\t\t\toutputNode = vec4( sRGBTransferEOTF( outputNode.rgb ), outputNode.a );\n\n\t\t}\n\n\t\tif ( ColorManagement.getPrimaries( source ) !== ColorManagement.getPrimaries( target ) ) {\n\n\t\t\toutputNode = vec4(\n\t\t\t\tmat3( ColorManagement._getMatrix( new Matrix3(), source, target ) ).mul( outputNode.rgb ),\n\t\t\t\toutputNode.a\n\t\t\t);\n\n\t\t}\n\n\t\tif ( ColorManagement.getTransfer( target ) === SRGBTransfer ) {\n\n\t\t\toutputNode = vec4( sRGBTransferOETF( outputNode.rgb ), outputNode.a );\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n}\n\nexport default ColorSpaceNode;\n\n/**\n * TSL function for converting a given color node to the current output color space.\n *\n * @function\n * @param {Node} node - Represents the node to convert.\n * @returns {ColorSpaceNode}\n */\nexport const toOutputColorSpace = ( node ) => nodeObject( new ColorSpaceNode( nodeObject( node ), WORKING_COLOR_SPACE, OUTPUT_COLOR_SPACE ) );\n\n/**\n * TSL function for converting a given color node to the current working color space.\n *\n * @function\n * @param {Node} node - Represents the node to convert.\n * @returns {ColorSpaceNode}\n */\nexport const toWorkingColorSpace = ( node ) => nodeObject( new ColorSpaceNode( nodeObject( node ), OUTPUT_COLOR_SPACE, WORKING_COLOR_SPACE ) );\n\n/**\n * TSL function for converting a given color node from the current working color space to the given color space.\n *\n * @function\n * @param {Node} node - Represents the node to convert.\n * @param {String} colorSpace - The target color space.\n * @returns {ColorSpaceNode}\n */\nexport const workingToColorSpace = ( node, colorSpace ) => nodeObject( new ColorSpaceNode( nodeObject( node ), WORKING_COLOR_SPACE, colorSpace ) );\n\n/**\n * TSL function for converting a given color node from the given color space to the current working color space.\n *\n * @function\n * @param {Node} node - Represents the node to convert.\n * @param {String} colorSpace - The source color space.\n * @returns {ColorSpaceNode}\n */\nexport const colorSpaceToWorking = ( node, colorSpace ) => nodeObject( new ColorSpaceNode( nodeObject( node ), colorSpace, WORKING_COLOR_SPACE ) );\n\n/**\n * TSL function for converting a given color node from one color space to another one.\n *\n * @function\n * @param {Node} node - Represents the node to convert.\n * @param {String} sourceColorSpace - The source color space.\n * @param {String} targetColorSpace - The target color space.\n * @returns {ColorSpaceNode}\n */\nexport const convertColorSpace = ( node, sourceColorSpace, targetColorSpace ) => nodeObject( new ColorSpaceNode( nodeObject( node ), sourceColorSpace, targetColorSpace ) );\n\naddMethodChaining( 'toOutputColorSpace', toOutputColorSpace );\naddMethodChaining( 'toWorkingColorSpace', toWorkingColorSpace );\n\naddMethodChaining( 'workingToColorSpace', workingToColorSpace );\naddMethodChaining( 'colorSpaceToWorking', colorSpaceToWorking );\n","import Node from '../core/Node.js';\nimport { NodeUpdateType } from '../core/constants.js';\nimport { uniform } from '../core/UniformNode.js';\nimport { nodeObject } from '../tsl/TSLCore.js';\nimport ArrayElementNode from '../utils/ArrayElementNode.js';\n\n// TODO: Avoid duplicated code and ues only ReferenceBaseNode or ReferenceNode\n\n/** @module ReferenceBaseNode **/\n\n/**\n * This class is only relevant if the referenced property is array-like.\n * In this case, `ReferenceElementNode` allows to refer to a specific\n * element inside the data structure via an index.\n *\n * @augments ArrayElementNode\n */\nclass ReferenceElementNode extends ArrayElementNode {\n\n\tstatic get type() {\n\n\t\treturn 'ReferenceElementNode';\n\n\t}\n\n\t/**\n\t * Constructs a new reference element node.\n\t *\n\t * @param {Node?} referenceNode - The reference node.\n\t * @param {Node} indexNode - The index node that defines the element access.\n\t */\n\tconstructor( referenceNode, indexNode ) {\n\n\t\tsuper( referenceNode, indexNode );\n\n\t\t/**\n\t\t * Similar to {@link module:ReferenceBaseNode~ReferenceBaseNode#reference}, an additional\n\t\t * property references to the current node.\n\t\t *\n\t\t * @type {Node?}\n\t\t * @default null\n\t\t */\n\t\tthis.referenceNode = referenceNode;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isReferenceElementNode = true;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from\n\t * the uniform type of the reference node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType() {\n\n\t\treturn this.referenceNode.uniformType;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst snippet = super.generate( builder );\n\t\tconst arrayType = this.referenceNode.getNodeType();\n\t\tconst elementType = this.getNodeType();\n\n\t\treturn builder.format( snippet, arrayType, elementType );\n\n\t}\n\n}\n\n/**\n * Base class for nodes which establishes a reference to a property of another object.\n * In this way, the value of the node is automatically linked to the value of\n * referenced object. Reference nodes internally represent the linked value\n * as a uniform.\n *\n * @augments Node\n */\nclass ReferenceBaseNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ReferenceBaseNode';\n\n\t}\n\n\t/**\n\t * Constructs a new reference base node.\n\t *\n\t * @param {String} property - The name of the property the node refers to.\n\t * @param {String} uniformType - The uniform type that should be used to represent the property value.\n\t * @param {Object?} [object=null] - The object the property belongs to.\n\t * @param {Number?} [count=null] - When the linked property is an array-like, this parameter defines its length.\n\t */\n\tconstructor( property, uniformType, object = null, count = null ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The name of the property the node refers to.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * The uniform type that should be used to represent the property value.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.uniformType = uniformType;\n\n\t\t/**\n\t\t * The object the property belongs to.\n\t\t *\n\t\t * @type {Object?}\n\t\t * @default null\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * When the linked property is an array, this parameter defines its length.\n\t\t *\n\t\t * @type {Number?}\n\t\t * @default null\n\t\t */\n\t\tthis.count = count;\n\n\t\t/**\n\t\t * The property name might have dots so nested properties can be referred.\n\t\t * The hierarchy of the names is stored inside this array.\n\t\t *\n\t\t * @type {Array<String>}\n\t\t */\n\t\tthis.properties = property.split( '.' );\n\n\t\t/**\n\t\t * Points to the current referred object. This property exists next to {@link module:ReferenceNode~ReferenceNode#object}\n\t\t * since the final reference might be updated from calling code.\n\t\t *\n\t\t * @type {Object?}\n\t\t * @default null\n\t\t */\n\t\tthis.reference = object;\n\n\t\t/**\n\t\t * The uniform node that holds the value of the reference node.\n\t\t *\n\t\t * @type {UniformNode}\n\t\t * @default null\n\t\t */\n\t\tthis.node = null;\n\n\t\t/**\n\t\t * The uniform group of the internal uniform.\n\t\t *\n\t\t * @type {UniformGroupNode}\n\t\t * @default null\n\t\t */\n\t\tthis.group = null;\n\n\t\t/**\n\t\t * Overwritten since reference nodes are updated per object.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'object'\n\t\t */\n\t\tthis.updateType = NodeUpdateType.OBJECT;\n\n\t}\n\n\t/**\n\t * Sets the uniform group for this reference node.\n\t *\n\t * @param {UniformGroupNode} group - The uniform group to set.\n\t * @return {ReferenceBaseNode} A reference to this node.\n\t */\n\tsetGroup( group ) {\n\n\t\tthis.group = group;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * When the referred property is array-like, this method can be used\n\t * to access elements via an index node.\n\t *\n\t * @param {IndexNode} indexNode - indexNode.\n\t * @return {ReferenceElementNode} A reference to an element.\n\t */\n\telement( indexNode ) {\n\n\t\treturn nodeObject( new ReferenceElementNode( this, nodeObject( indexNode ) ) );\n\n\t}\n\n\t/**\n\t * Sets the node type which automatically defines the internal\n\t * uniform type.\n\t *\n\t * @param {String} uniformType - The type to set.\n\t */\n\tsetNodeType( uniformType ) {\n\n\t\tconst node = uniform( null, uniformType ).getSelf();\n\n\t\tif ( this.group !== null ) {\n\n\t\t\tnode.setGroup( this.group );\n\n\t\t}\n\n\t\tthis.node = node;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from\n\t * the type of the reference node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tif ( this.node === null ) {\n\n\t\t\tthis.updateReference( builder );\n\t\t\tthis.updateValue();\n\n\t\t}\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\t/**\n\t * Returns the property value from the given referred object.\n\t *\n\t * @param {Object} [object=this.reference] - The object to retrieve the property value from.\n\t * @return {Any} The value.\n\t */\n\tgetValueFromReference( object = this.reference ) {\n\n\t\tconst { properties } = this;\n\n\t\tlet value = object[ properties[ 0 ] ];\n\n\t\tfor ( let i = 1; i < properties.length; i ++ ) {\n\n\t\t\tvalue = value[ properties[ i ] ];\n\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\t/**\n\t * Allows to update the reference based on the given state. The state is only\n\t * evaluated {@link module:ReferenceBaseNode~ReferenceBaseNode#object} is not set.\n\t *\n\t * @param {(NodeFrame|NodeBuilder)} state - The current state.\n\t * @return {Object} The updated reference.\n\t */\n\tupdateReference( state ) {\n\n\t\tthis.reference = this.object !== null ? this.object : state.object;\n\n\t\treturn this.reference;\n\n\t}\n\n\t/**\n\t * The output of the reference node is the internal uniform node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {UniformNode} The output node.\n\t */\n\tsetup() {\n\n\t\tthis.updateValue();\n\n\t\treturn this.node;\n\n\t}\n\n\t/**\n\t * Overwritten to to update the internal uniform value.\n\t *\n\t * @param {NodeFrame} frame - A reference to the current node frame.\n\t */\n\tupdate( /*frame*/ ) {\n\n\t\tthis.updateValue();\n\n\t}\n\n\t/**\n\t * Retrieves the value from the referred object property and uses it\n\t * to updated the internal uniform.\n\t */\n\tupdateValue() {\n\n\t\tif ( this.node === null ) this.setNodeType( this.uniformType );\n\n\t\tconst value = this.getValueFromReference();\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tthis.node.array = value;\n\n\t\t} else {\n\n\t\t\tthis.node.value = value;\n\n\t\t}\n\n\t}\n\n}\n\nexport default ReferenceBaseNode;\n\n/**\n * TSL function for creating a reference base node.\n *\n * @function\n * @param {String} name - The name of the property the node refers to.\n * @param {String} type - The uniform type that should be used to represent the property value.\n * @param {Object} object - The object the property belongs to.\n * @returns {ReferenceBaseNode}\n */\nexport const reference = ( name, type, object ) => nodeObject( new ReferenceBaseNode( name, type, object ) );\n\n/**\n * TSL function for creating a reference base node. Use this function if you want need a reference\n * to an array-like property that should be represented as a uniform buffer.\n *\n * @function\n * @param {String} name - The name of the property the node refers to.\n * @param {String} type - The uniform type that should be used to represent the property value.\n * @param {Number} count - The number of value inside the array-like object.\n * @param {Object} object - An array-like object the property belongs to.\n * @returns {ReferenceBaseNode}\n */\nexport const referenceBuffer = ( name, type, count, object ) => nodeObject( new ReferenceBaseNode( name, type, object, count ) );\n","import ReferenceBaseNode from './ReferenceBaseNode.js';\nimport { nodeObject } from '../tsl/TSLCore.js';\nimport { renderGroup } from '../core/UniformGroupNode.js';\n\n/** @module RendererReferenceNode **/\n\n/**\n * This node is a special type of reference node which is intended\n * for linking renderer properties with node values.\n * ```js\n * const exposureNode = rendererReference( 'toneMappingExposure', 'float', renderer );\n * ```\n * When changing `renderer.toneMappingExposure`, the node value of `exposureNode` will\n * automatically be updated.\n *\n * @augments ReferenceBaseNode\n */\nclass RendererReferenceNode extends ReferenceBaseNode {\n\n\tstatic get type() {\n\n\t\treturn 'RendererReferenceNode';\n\n\t}\n\n\t/**\n\t * Constructs a new renderer reference node.\n\t *\n\t * @param {String} property - The name of the property the node refers to.\n\t * @param {String} inputType - The uniform type that should be used to represent the property value.\n\t * @param {Renderer?} [renderer=null] - The renderer the property belongs to. When no renderer is set,\n\t * the node refers to the renderer of the current state.\n\t */\n\tconstructor( property, inputType, renderer = null ) {\n\n\t\tsuper( property, inputType, renderer );\n\n\t\t/**\n\t\t * The renderer the property belongs to. When no renderer is set,\n\t\t * the node refers to the renderer of the current state.\n\t\t *\n\t\t * @type {Renderer?}\n\t\t * @default null\n\t\t */\n\t\tthis.renderer = renderer;\n\n\t\tthis.setGroup( renderGroup );\n\n\t}\n\n\t/**\n\t * Updates the reference based on the given state. The state is only evaluated\n\t * {@link module:RendererReferenceNode~RendererReferenceNode#renderer} is not set.\n\t *\n\t * @param {(NodeFrame|NodeBuilder)} state - The current state.\n\t * @return {Object} The updated reference.\n\t */\n\tupdateReference( state ) {\n\n\t\tthis.reference = this.renderer !== null ? this.renderer : state.renderer;\n\n\t\treturn this.reference;\n\n\t}\n\n}\n\nexport default RendererReferenceNode;\n\n/**\n * TSL function for creating a renderer reference node.\n *\n * @function\n * @param {String} name - The name of the property the node refers to.\n * @param {String} type - The uniform type that should be used to represent the property value.\n * @param {Renderer?} [renderer=null] - The renderer the property belongs to. When no renderer is set,\n * the node refers to the renderer of the current state.\n * @returns {RendererReferenceNode}\n */\nexport const rendererReference = ( name, type, renderer = null ) => nodeObject( new RendererReferenceNode( name, type, renderer ) );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, nodeObject, vec4 } from '../tsl/TSLCore.js';\nimport { rendererReference } from '../accessors/RendererReferenceNode.js';\n\nimport { NoToneMapping } from '../../constants.js';\nimport { hash } from '../core/NodeUtils.js';\n\n/** @module ToneMappingNode **/\n\n/**\n * This node represents a tone mapping operation.\n *\n * @augments TempNode\n */\nclass ToneMappingNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'ToneMappingNode';\n\n\t}\n\n\t/**\n\t * Constructs a new tone mapping node.\n\t *\n\t * @param {Number} toneMapping - The tone mapping type.\n\t * @param {Node} exposureNode - The tone mapping exposure.\n\t * @param {Node} [colorNode=null] - The color node to process.\n\t */\n\tconstructor( toneMapping, exposureNode = toneMappingExposure, colorNode = null ) {\n\n\t\tsuper( 'vec3' );\n\n\t\t/**\n\t\t * The tone mapping type.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tthis.toneMapping = toneMapping;\n\n\t\t/**\n\t\t * The tone mapping exposure.\n\t\t *\n\t\t * @type {Node}\n\t\t * @default null\n\t\t */\n\t\tthis.exposureNode = exposureNode;\n\n\t\t/**\n\t\t * Represents the color to process.\n\t\t *\n\t\t * @type {Node?}\n\t\t * @default null\n\t\t */\n\t\tthis.colorNode = colorNode;\n\n\t}\n\n\t/**\n\t * Overwrites the default `customCacheKey()` implementation by including the tone\n\t * mapping type into the cache key.\n\t *\n\t * @return {Number} The hash.\n\t */\n\tcustomCacheKey() {\n\n\t\treturn hash( this.toneMapping );\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tconst colorNode = this.colorNode || builder.context.color;\n\t\tconst toneMapping = this.toneMapping;\n\n\t\tif ( toneMapping === NoToneMapping ) return colorNode;\n\n\t\tlet outputNode = null;\n\n\t\tconst toneMappingFn = builder.renderer.library.getToneMappingFunction( toneMapping );\n\n\t\tif ( toneMappingFn !== null ) {\n\n\t\t\toutputNode = vec4( toneMappingFn( colorNode.rgb, this.exposureNode ), colorNode.a );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'ToneMappingNode: Unsupported Tone Mapping configuration.', toneMapping );\n\n\t\t\toutputNode = colorNode;\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n}\n\nexport default ToneMappingNode;\n\n/**\n * TSL function for creating a tone mapping node.\n *\n * @function\n * @param {Number} mapping - The tone mapping type.\n * @param {Node<float> | Number} exposure - The tone mapping exposure.\n * @param {Node<vec3> | Color} color - The color node to process.\n * @returns {ToneMappingNode<vec3>}\n */\nexport const toneMapping = ( mapping, exposure, color ) => nodeObject( new ToneMappingNode( mapping, nodeObject( exposure ), nodeObject( color ) ) );\n\n/**\n * TSL object that represents the global tone mapping exposure of the renderer.\n *\n * @type {RendererReferenceNode<vec3>}\n */\nexport const toneMappingExposure = /*@__PURE__*/ rendererReference( 'toneMappingExposure', 'float' );\n\naddMethodChaining( 'toneMapping', ( color, mapping, exposure ) => toneMapping( mapping, exposure, color ) );\n","import { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { denormalize, normalize } from '../math/MathUtils.js';\nimport { StaticDrawUsage, FloatType } from '../constants.js';\nimport { fromHalfFloat, toHalfFloat } from '../extras/DataUtils.js';\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized = false ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.isBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRanges = [];\n\t\tthis.gpuType = FloatType;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\taddUpdateRange( start, count ) {\n\n\t\tthis.updateRanges.push( { start, count } );\n\n\t}\n\n\tclearUpdateRanges() {\n\n\t\tthis.updateRanges.length = 0;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\t\tthis.gpuType = source.gpuType;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( this, i );\n\t\t\t\t_vector.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\t// Matching BufferAttribute constructor, do not normalize the array.\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index, component ) {\n\n\t\tlet value = this.array[ index * this.itemSize + component ];\n\n\t\tif ( this.normalized ) value = denormalize( value, this.array );\n\n\t\treturn value;\n\n\t}\n\n\tsetComponent( index, component, value ) {\n\n\t\tif ( this.normalized ) value = normalize( value, this.array );\n\n\t\tthis.array[ index * this.itemSize + component ] = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.array[ index * this.itemSize ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.array[ index * this.itemSize + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.array[ index * this.itemSize + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.array[ index * this.itemSize + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.from( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\n\t\treturn data;\n\n\t}\n\n}\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t\tthis.isFloat16BufferAttribute = true;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = fromHalfFloat( this.array[ index * this.itemSize ] );\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.array[ index * this.itemSize ] = toHalfFloat( x );\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = fromHalfFloat( this.array[ index * this.itemSize + 1 ] );\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.array[ index * this.itemSize + 1 ] = toHalfFloat( y );\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = fromHalfFloat( this.array[ index * this.itemSize + 2 ] );\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.array[ index * this.itemSize + 2 ] = toHalfFloat( z );\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = fromHalfFloat( this.array[ index * this.itemSize + 3 ] );\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.array[ index * this.itemSize + 3 ] = toHalfFloat( w );\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\t\tthis.array[ index + 2 ] = toHalfFloat( z );\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.array[ index + 0 ] = toHalfFloat( x );\n\t\tthis.array[ index + 1 ] = toHalfFloat( y );\n\t\tthis.array[ index + 2 ] = toHalfFloat( z );\n\t\tthis.array[ index + 3 ] = toHalfFloat( w );\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\n//\n\nexport {\n\tFloat32BufferAttribute,\n\tFloat16BufferAttribute,\n\tUint32BufferAttribute,\n\tInt32BufferAttribute,\n\tUint16BufferAttribute,\n\tInt16BufferAttribute,\n\tUint8ClampedBufferAttribute,\n\tUint8BufferAttribute,\n\tInt8BufferAttribute,\n\tBufferAttribute\n};\n","import { Vector3 } from '../math/Vector3.js';\nimport { BufferAttribute } from './BufferAttribute.js';\nimport { denormalize, normalize } from '../math/MathUtils.js';\n\nconst _vector = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.isInterleavedBufferAttribute = true;\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( this, i );\n\n\t\t\t_vector.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index, component ) {\n\n\t\tlet value = this.array[ index * this.data.stride + this.offset + component ];\n\n\t\tif ( this.normalized ) value = denormalize( value, this.array );\n\n\t\treturn value;\n\n\t}\n\n\tsetComponent( index, component, value ) {\n\n\t\tif ( this.normalized ) value = normalize( value, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + component ] = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tif ( this.normalized ) x = normalize( x, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tif ( this.normalized ) y = normalize( y, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tif ( this.normalized ) z = normalize( z, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tif ( this.normalized ) w = normalize( w, this.array );\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\tlet x = this.data.array[ index * this.data.stride + this.offset ];\n\n\t\tif ( this.normalized ) x = denormalize( x, this.array );\n\n\t\treturn x;\n\n\t}\n\n\tgetY( index ) {\n\n\t\tlet y = this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t\tif ( this.normalized ) y = denormalize( y, this.array );\n\n\t\treturn y;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\tlet z = this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t\tif ( this.normalized ) z = denormalize( z, this.array );\n\n\t\treturn z;\n\n\t}\n\n\tgetW( index ) {\n\n\t\tlet w = this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t\tif ( this.normalized ) w = denormalize( w, this.array );\n\n\t\treturn w;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tif ( this.normalized ) {\n\n\t\t\tx = normalize( x, this.array );\n\t\t\ty = normalize( y, this.array );\n\t\t\tz = normalize( z, this.array );\n\t\t\tw = normalize( w, this.array );\n\n\t\t}\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// de-interleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interleaved attribute\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { InterleavedBufferAttribute };\n","import { generateUUID } from '../math/MathUtils.js';\nimport { StaticDrawUsage } from '../constants.js';\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.isInterleavedBuffer = true;\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRanges = [];\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\taddUpdateRange( start, count ) {\n\n\t\tthis.updateRanges.push( { start, count } );\n\n\t}\n\n\tclearUpdateRanges() {\n\n\t\tthis.updateRanges.length = 0;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.from( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nexport { InterleavedBuffer };\n","import InputNode from '../core/InputNode.js';\nimport { nodeObject, addMethodChaining } from '../tsl/TSLCore.js';\nimport { varying } from '../core/VaryingNode.js';\n\nimport { InterleavedBufferAttribute } from '../../core/InterleavedBufferAttribute.js';\nimport { InterleavedBuffer } from '../../core/InterleavedBuffer.js';\nimport { StaticDrawUsage, DynamicDrawUsage } from '../../constants.js';\n\n/** @module BufferAttributeNode **/\n\n/**\n * In earlier `three.js` versions it was only possible to define attribute data\n * on geometry level. With `BufferAttributeNode`, it is also possible to do this\n * on the node level.\n * ```js\n * const geometry = new THREE.PlaneGeometry();\n * const positionAttribute = geometry.getAttribute( 'position' );\n *\n * const colors = [];\n * for ( let i = 0; i < position.count; i ++ ) {\n * \tcolors.push( 1, 0, 0 );\n * }\n *\n * material.colorNode = bufferAttribute( new THREE.Float32BufferAttribute( colors, 3 ) );\n * ```\n * This new approach is especially interesting when geometry data are generated via\n * compute shaders. The below line converts a storage buffer into an attribute node.\n * ```js\n * material.positionNode = positionBuffer.toAttribute();\n * ```\n * @augments InputNode\n */\nclass BufferAttributeNode extends InputNode {\n\n\tstatic get type() {\n\n\t\treturn 'BufferAttributeNode';\n\n\t}\n\n\t/**\n\t * Constructs a new buffer attribute node.\n\t *\n\t * @param {BufferAttribute|InterleavedBuffer|TypedArray} value - The attribute data.\n\t * @param {String?} [bufferType=null] - The buffer type (e.g. `'vec3'`).\n\t * @param {Number} [bufferStride=0] - The buffer stride.\n\t * @param {Number} [bufferOffset=0] - The buffer offset.\n\t */\n\tconstructor( value, bufferType = null, bufferStride = 0, bufferOffset = 0 ) {\n\n\t\tsuper( value, bufferType );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isBufferNode = true;\n\n\t\t/**\n\t\t * The buffer type (e.g. `'vec3'`).\n\t\t *\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.bufferType = bufferType;\n\n\t\t/**\n\t\t * The buffer stride.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.bufferStride = bufferStride;\n\n\t\t/**\n\t\t * The buffer offset.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.bufferOffset = bufferOffset;\n\n\t\t/**\n\t\t * The usage property. Set this to `THREE.DynamicDrawUsage` via `.setUsage()`,\n\t\t * if you are planning to update the attribute data per frame.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default StaticDrawUsage\n\t\t */\n\t\tthis.usage = StaticDrawUsage;\n\n\t\t/**\n\t\t * Whether the attribute is instanced or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.instanced = false;\n\n\t\t/**\n\t\t * A reference to the buffer attribute.\n\t\t *\n\t\t * @type {BufferAttribute?}\n\t\t * @default null\n\t\t */\n\t\tthis.attribute = null;\n\n\t\t/**\n\t\t * `BufferAttributeNode` sets this property to `true` by default.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.global = true;\n\n\t\tif ( value && value.isBufferAttribute === true ) {\n\n\t\t\tthis.attribute = value;\n\t\t\tthis.usage = value.usage;\n\t\t\tthis.instanced = value.isInstancedBufferAttribute;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * This method is overwritten since the attribute data might be shared\n\t * and thus the hash should be shared as well.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The hash.\n\t */\n\tgetHash( builder ) {\n\n\t\tif ( this.bufferStride === 0 && this.bufferOffset === 0 ) {\n\n\t\t\tlet bufferData = builder.globalCache.getData( this.value );\n\n\t\t\tif ( bufferData === undefined ) {\n\n\t\t\t\tbufferData = {\n\t\t\t\t\tnode: this\n\t\t\t\t};\n\n\t\t\t\tbuilder.globalCache.setData( this.value, bufferData );\n\n\t\t\t}\n\n\t\t\treturn bufferData.node.uuid;\n\n\t\t}\n\n\t\treturn this.uuid;\n\n\t}\n\n\t/**\n\t * This method is overwritten since the node type is inferred from\n\t * the buffer attribute.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The node type.\n\t */\n\tgetNodeType( builder ) {\n\n\t\tif ( this.bufferType === null ) {\n\n\t\t\tthis.bufferType = builder.getTypeFromAttribute( this.attribute );\n\n\t\t}\n\n\t\treturn this.bufferType;\n\n\t}\n\n\t/**\n\t * Depending on which value was passed to the node, `setup()` behaves\n\t * differently. If no instance of `BufferAttribute` was passed, the method\n\t * creates an internal attribute and configures it respectively.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t */\n\tsetup( builder ) {\n\n\t\tif ( this.attribute !== null ) return;\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst array = this.value;\n\t\tconst itemSize = builder.getTypeLength( type );\n\t\tconst stride = this.bufferStride || itemSize;\n\t\tconst offset = this.bufferOffset;\n\n\t\tconst buffer = array.isInterleavedBuffer === true ? array : new InterleavedBuffer( array, stride );\n\t\tconst bufferAttribute = new InterleavedBufferAttribute( buffer, itemSize, offset );\n\n\t\tbuffer.setUsage( this.usage );\n\n\t\tthis.attribute = bufferAttribute;\n\t\tthis.attribute.isInstancedBufferAttribute = this.instanced; // @TODO: Add a possible: InstancedInterleavedBufferAttribute\n\n\t}\n\n\t/**\n\t * Generates the code snippet of the buffer attribute node.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The generated code snippet.\n\t */\n\tgenerate( builder ) {\n\n\t\tconst nodeType = this.getNodeType( builder );\n\n\t\tconst nodeAttribute = builder.getBufferAttributeFromNode( this, nodeType );\n\t\tconst propertyName = builder.getPropertyName( nodeAttribute );\n\n\t\tlet output = null;\n\n\t\tif ( builder.shaderStage === 'vertex' || builder.shaderStage === 'compute' ) {\n\n\t\t\tthis.name = propertyName;\n\n\t\t\toutput = propertyName;\n\n\t\t} else {\n\n\t\t\tconst nodeVarying = varying( this );\n\n\t\t\toutput = nodeVarying.build( builder, nodeType );\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\t/**\n\t * Overwrites the default implementation to return a fixed value `'bufferAttribute'`.\n\t *\n\t * @param {NodeBuilder} builder - The current node builder.\n\t * @return {String} The input type.\n\t */\n\tgetInputType( /*builder*/ ) {\n\n\t\treturn 'bufferAttribute';\n\n\t}\n\n\t/**\n\t * Sets the `usage` property to the given value.\n\t *\n\t * @param {Number} value - The usage to set.\n\t * @return {BufferAttributeNode} A reference to this node.\n\t */\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\tif ( this.attribute && this.attribute.isBufferAttribute === true ) {\n\n\t\t\tthis.attribute.usage = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the `instanced` property to the given value.\n\t *\n\t * @param {Number} value - The value to set.\n\t * @return {BufferAttributeNode} A reference to this node.\n\t */\n\tsetInstanced( value ) {\n\n\t\tthis.instanced = value;\n\n\t\treturn this;\n\n\t}\n\n}\n\nexport default BufferAttributeNode;\n\n/**\n * TSL function for creating a buffer attribute node.\n *\n * @function\n * @param {BufferAttribute|InterleavedBuffer|TypedArray} array - The attribute data.\n * @param {String?} [type=null] - The buffer type (e.g. `'vec3'`).\n * @param {Number} [stride=0] - The buffer stride.\n * @param {Number} [offset=0] - The buffer offset.\n * @returns {BufferAttributeNode}\n */\nexport const bufferAttribute = ( array, type = null, stride = 0, offset = 0 ) => nodeObject( new BufferAttributeNode( array, type, stride, offset ) );\n\n/**\n * TSL function for creating a buffer attribute node but with dynamic draw usage.\n * Use this function if attribute data are updated per frame.\n *\n * @function\n * @param {BufferAttribute|InterleavedBuffer|TypedArray} array - The attribute data.\n * @param {String?} [type=null] - The buffer type (e.g. `'vec3'`).\n * @param {Number} [stride=0] - The buffer stride.\n * @param {Number} [offset=0] - The buffer offset.\n * @returns {BufferAttributeNode}\n */\nexport const dynamicBufferAttribute = ( array, type = null, stride = 0, offset = 0 ) => bufferAttribute( array, type, stride, offset ).setUsage( DynamicDrawUsage );\n\n/**\n * TSL function for creating a buffer attribute node but with enabled instancing\n *\n * @function\n * @param {BufferAttribute|InterleavedBuffer|TypedArray} array - The attribute data.\n * @param {String?} [type=null] - The buffer type (e.g. `'vec3'`).\n * @param {Number} [stride=0] - The buffer stride.\n * @param {Number} [offset=0] - The buffer offset.\n * @returns {BufferAttributeNode}\n */\nexport const instancedBufferAttribute = ( array, type = null, stride = 0, offset = 0 ) => bufferAttribute( array, type, stride, offset ).setInstanced( true );\n\n/**\n * TSL function for creating a buffer attribute node but with dynamic draw usage and enabled instancing\n *\n * @function\n * @param {BufferAttribute|InterleavedBuffer|TypedArray} array - The attribute data.\n * @param {String?} [type=null] - The buffer type (e.g. `'vec3'`).\n * @param {Number} [stride=0] - The buffer stride.\n * @param {Number} [offset=0] - The buffer offset.\n * @returns {BufferAttributeNode}\n */\nexport const instancedDynamicBufferAttribute = ( array, type = null, stride = 0, offset = 0 ) => dynamicBufferAttribute( array, type, stride, offset ).setInstanced( true );\n\naddMethodChaining( 'toAttribute', ( bufferNode ) => bufferAttribute( bufferNode.value ) );\n","import Node from '../core/Node.js';\nimport { NodeUpdateType } from '../core/constants.js';\nimport { addMethodChaining, nodeObject } from '../tsl/TSLCore.js';\n\n/** @module ComputeNode **/\n\n/**\n * TODO\n *\n * @augments Node\n */\nclass ComputeNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ComputeNode';\n\n\t}\n\n\t/**\n\t * Constructs a new compute node.\n\t *\n\t * @param {Node} computeNode - TODO\n\t * @param {Number} count - TODO.\n\t * @param {Array<Number>} [workgroupSize=[64]] - TODO.\n\t */\n\tconstructor( computeNode, count, workgroupSize = [ 64 ] ) {\n\n\t\tsuper( 'void' );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isComputeNode = true;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.computeNode = computeNode;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tthis.count = count;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Array<Number>}\n\t\t * @default [64]\n\t\t */\n\t\tthis.workgroupSize = workgroupSize;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tthis.dispatchCount = 0;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tthis.version = 1;\n\n\t\t/**\n\t\t * The name or label of the uniform.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t */\n\t\tthis.name = '';\n\n\t\t/**\n\t\t * The `updateBeforeType` is set to `NodeUpdateType.OBJECT` since {@link ComputeNode#updateBefore}\n\t\t * is executed once per object by default.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'object'\n\t\t */\n\t\tthis.updateBeforeType = NodeUpdateType.OBJECT;\n\n\t\t/**\n\t\t * TODO\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tthis.onInitFunction = null;\n\n\t\tthis.updateDispatchCount();\n\n\t}\n\n\t/**\n\t * Executes the `dispose` event for this node.\n\t */\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\t/**\n\t * Sets the {@link ComputeNode#name} property.\n\t *\n\t * @param {String} name - The name of the uniform.\n\t * @return {ComputeNode} A reference to this node.\n\t */\n\tlabel( name ) {\n\n\t\tthis.name = name;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * TODO\n\t */\n\tupdateDispatchCount() {\n\n\t\tconst { count, workgroupSize } = this;\n\n\t\tlet size = workgroupSize[ 0 ];\n\n\t\tfor ( let i = 1; i < workgroupSize.length; i ++ )\n\t\t\tsize *= workgroupSize[ i ];\n\n\t\tthis.dispatchCount = Math.ceil( count / size );\n\n\t}\n\n\t/**\n\t * TODO\n\t *\n\t * @param {Function} callback - TODO.\n\t * @return {ComputeNode} A reference to this node.\n\t */\n\tonInit( callback ) {\n\n\t\tthis.onInitFunction = callback;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * The method execute the compute for this node.\n\t *\n\t * @param {NodeFrame} frame - A reference to the current node frame.\n\t */\n\tupdateBefore( { renderer } ) {\n\n\t\trenderer.compute( this );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst { shaderStage } = builder;\n\n\t\tif ( shaderStage === 'compute' ) {\n\n\t\t\tconst snippet = this.computeNode.build( builder, 'void' );\n\n\t\t\tif ( snippet !== '' ) {\n\n\t\t\t\tbuilder.addLineFlowCode( snippet, this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nexport default ComputeNode;\n\n/**\n * TSL function for creating a compute node.\n *\n * @function\n * @param {Node} node - TODO\n * @param {Number} count - TODO.\n * @param {Array<Number>} [workgroupSize=[64]] - TODO.\n * @returns {AtomicFunctionNode}\n */\nexport const compute = ( node, count, workgroupSize ) => nodeObject( new ComputeNode( nodeObject( node ), count, workgroupSize ) );\n\naddMethodChaining( 'compute', compute );\n","import Node from './Node.js';\nimport { addMethodChaining, nodeObject } from '../tsl/TSLCore.js';\n\n/** @module CacheNode **/\n\n/**\n * This node can be used as a cache management component for another node.\n * Caching is in general used by default in {@link NodeBuilder} but this node\n * allows the usage of a shared parent cache during the build process.\n *\n * @augments Node\n */\nclass CacheNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'CacheNode';\n\n\t}\n\n\t/**\n\t * Constructs a new cache node.\n\t *\n\t * @param {Node} node - The node that should be cached.\n\t * @param {Boolean} [parent=true] - Whether this node refers to a shared parent cache or not.\n\t */\n\tconstructor( node, parent = true ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node that should be cached.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * Whether this node refers to a shared parent cache or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isCacheNode = true;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tconst previousCache = builder.getCache();\n\t\tconst cache = builder.getCacheFromNode( this, this.parent );\n\n\t\tbuilder.setCache( cache );\n\n\t\tconst nodeType = this.node.getNodeType( builder );\n\n\t\tbuilder.setCache( previousCache );\n\n\t\treturn nodeType;\n\n\t}\n\n\tbuild( builder, ...params ) {\n\n\t\tconst previousCache = builder.getCache();\n\t\tconst cache = builder.getCacheFromNode( this, this.parent );\n\n\t\tbuilder.setCache( cache );\n\n\t\tconst data = this.node.build( builder, ...params );\n\n\t\tbuilder.setCache( previousCache );\n\n\t\treturn data;\n\n\t}\n\n}\n\nexport default CacheNode;\n\n/**\n * TSL function for creating a cache node.\n *\n * @function\n * @param {Node} node - The node that should be cached.\n * @param {Boolean} parent - Whether this node refers to a shared parent cache or not.\n * @returns {CacheNode}\n */\nexport const cache = ( node, parent ) => nodeObject( new CacheNode( nodeObject( node ), parent ) );\n\naddMethodChaining( 'cache', cache );\n","import Node from './Node.js';\nimport { addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module BypassNode **/\n\n/**\n * The class generates the code of a given node but returns another node in the output.\n * This can be used to call a method or node that does not return a value, i.e.\n * type `void` on an input where returning a value is required. Example:\n *\n * ```js\n * material.colorNode = myColor.bypass( runVoidFn() )\n *```\n *\n * @augments Node\n */\nclass BypassNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'BypassNode';\n\n\t}\n\n\t/**\n\t * Constructs a new bypass node.\n\t *\n\t * @param {Node} outputNode - The output node.\n\t * @param {Node} callNode - The call node.\n\t */\n\tconstructor( outputNode, callNode ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isBypassNode = true;\n\n\t\t/**\n\t\t * The output node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.outputNode = outputNode;\n\n\t\t/**\n\t\t * The call node.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.callNode = callNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.outputNode.getNodeType( builder );\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst snippet = this.callNode.build( builder, 'void' );\n\n\t\tif ( snippet !== '' ) {\n\n\t\t\tbuilder.addLineFlowCode( snippet, this );\n\n\t\t}\n\n\t\treturn this.outputNode.build( builder );\n\n\t}\n\n}\n\nexport default BypassNode;\n\n/**\n * TSL function for creating a bypass node.\n *\n * @function\n * @param {Node} outputNode - The output node.\n * @param {Node} callNode - The call node.\n * @returns {BypassNode}\n */\nexport const bypass = /*@__PURE__*/ nodeProxy( BypassNode );\n\naddMethodChaining( 'bypass', bypass );\n","import Node from '../core/Node.js';\nimport { float, addMethodChaining, nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module RemapNode **/\n\n/**\n * This node allows to remap a node value from one range into another. E.g a value of\n * `0.4` in the range `[ 0.3, 0.5 ]` should be remapped into the normalized range `[ 0, 1 ]`.\n * `RemapNode` takes care of that and converts the original value of `0.4` to `0.5`.\n *\n * @augments Node\n */\nclass RemapNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'RemapNode';\n\n\t}\n\n\t/**\n\t * Constructs a new remap node.\n\t *\n\t * @param {Node} node - The node that should be remapped.\n\t * @param {Node} inLowNode - The source or current lower bound of the range.\n\t * @param {Node} inHighNode - The source or current upper bound of the range.\n\t * @param {Node} [outLowNode=float(0)] - The target lower bound of the range.\n\t * @param {Node} [outHighNode=float(1)] - The target upper bound of the range.\n\t */\n\tconstructor( node, inLowNode, inHighNode, outLowNode = float( 0 ), outHighNode = float( 1 ) ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The node that should be remapped.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.node = node;\n\n\t\t/**\n\t\t * The source or current lower bound of the range.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.inLowNode = inLowNode;\n\n\t\t/**\n\t\t * The source or current upper bound of the range.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.inHighNode = inHighNode;\n\n\t\t/**\n\t\t * The target lower bound of the range.\n\t\t *\n\t\t * @type {Node}\n\t\t * @default float(0)\n\t\t */\n\t\tthis.outLowNode = outLowNode;\n\n\t\t/**\n\t\t * The target upper bound of the range.\n\t\t *\n\t\t * @type {Node}\n\t\t * @default float(1)\n\t\t */\n\t\tthis.outHighNode = outHighNode;\n\n\t\t/**\n\t\t * Whether the node value should be clamped before\n\t\t * remapping it to the target range.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t */\n\t\tthis.doClamp = true;\n\n\t}\n\n\tsetup() {\n\n\t\tconst { node, inLowNode, inHighNode, outLowNode, outHighNode, doClamp } = this;\n\n\t\tlet t = node.sub( inLowNode ).div( inHighNode.sub( inLowNode ) );\n\n\t\tif ( doClamp === true ) t = t.clamp();\n\n\t\treturn t.mul( outHighNode.sub( outLowNode ) ).add( outLowNode );\n\n\t}\n\n}\n\nexport default RemapNode;\n\n/**\n * TSL function for creating a remap node.\n *\n * @function\n * @param {Node} node - The node that should be remapped.\n * @param {Node} inLowNode - The source or current lower bound of the range.\n * @param {Node} inHighNode - The source or current upper bound of the range.\n * @param {Node} [outLowNode=float(0)] - The target lower bound of the range.\n * @param {Node} [outHighNode=float(1)] - The target upper bound of the range.\n * @returns {RemapNode}\n */\nexport const remap = /*@__PURE__*/ nodeProxy( RemapNode, null, null, { doClamp: false } );\n\n/**\n * TSL function for creating a remap node, but with enabled clamping.\n *\n * @function\n * @param {Node} node - The node that should be remapped.\n * @param {Node} inLowNode - The source or current lower bound of the range.\n * @param {Node} inHighNode - The source or current upper bound of the range.\n * @param {Node} [outLowNode=float(0)] - The target lower bound of the range.\n * @param {Node} [outHighNode=float(1)] - The target upper bound of the range.\n * @returns {RemapNode}\n */\nexport const remapClamp = /*@__PURE__*/ nodeProxy( RemapNode );\n\naddMethodChaining( 'remap', remap );\naddMethodChaining( 'remapClamp', remapClamp );\n","import Node from '../core/Node.js';\nimport { nodeProxy } from '../tsl/TSLCore.js';\n\n/** @module ExpressionNode **/\n\n/**\n * This class can be used to implement basic expressions in shader code.\n * Basic examples for that are `return`, `continue` or `discard` statements.\n *\n * @augments Node\n */\nclass ExpressionNode extends Node {\n\n\tstatic get type() {\n\n\t\treturn 'ExpressionNode';\n\n\t}\n\n\t/**\n\t * Constructs a new expression node.\n\t *\n\t * @param {String} [snippet=''] - The native code snippet.\n\t * @param {String} [nodeType='void'] - The node type.\n\t */\n\tconstructor( snippet = '', nodeType = 'void' ) {\n\n\t\tsuper( nodeType );\n\n\t\t/**\n\t\t * The native code snippet.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t */\n\t\tthis.snippet = snippet;\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst snippet = this.snippet;\n\n\t\tif ( type === 'void' ) {\n\n\t\t\tbuilder.addLineFlowCode( snippet, this );\n\n\t\t} else {\n\n\t\t\treturn builder.format( `( ${ snippet } )`, type, output );\n\n\t\t}\n\n\t}\n\n}\n\nexport default ExpressionNode;\n\n/**\n * TSL function for creating an expression node.\n *\n * @function\n * @param {String} [snippet=''] - The native code snippet.\n * @param {String} [nodeType='void'] - The node type.\n * @returns {ExpressionNode}\n */\nexport const expression = /*@__PURE__*/ nodeProxy( ExpressionNode );\n","import { select } from '../math/ConditionalNode.js';\nimport { expression } from '../code/ExpressionNode.js';\nimport { addMethodChaining } from '../tsl/TSLCore.js';\n\n/** @module Discard **/\n\n/**\n * Represents a `discard` shader operation in TSL.\n *\n * @method\n * @param {ConditionalNode?} conditional - An optional conditional node. It allows to decide whether the discard should be executed or not.\n * @return {Node} The `discard` expression.\n */\nexport const Discard = ( conditional ) => ( conditional ? select( conditional, expression( 'discard' ) ) : expression( 'discard' ) ).append();\n\n/**\n * Represents a `return` shader operation in TSL.\n *\n * @method\n * @return {ExpressionNode} The `return` expression.\n */\nexport const Return = () => expression( 'return' ).append();\n\naddMethodChaining( 'discard', Discard );\n","import TempNode from '../core/TempNode.js';\nimport { addMethodChaining, nodeObject } from '../tsl/TSLCore.js';\n\nimport { NoColorSpace, NoToneMapping } from '../../constants.js';\nimport { ColorManagement } from '../../math/ColorManagement.js';\n\n/** @module RenderOutputNode **/\n\n/**\n * Normally, tone mapping and color conversion happens automatically\n * before outputting pixel too the default (screen) framebuffer. In certain\n * post processing setups this happens to late because certain effects\n * require e.g. sRGB input. For such scenarios, `RenderOutputNode` can be used\n * to apply tone mapping and color space conversion at an arbitrary point\n * in the effect chain.\n *\n * When applying tone mapping and color space conversion manually with this node,\n * you have to set {@link PostProcessing#outputColorTransform} to `false`.\n *\n * ```js\n * const postProcessing = new PostProcessing( renderer );\n * postProcessing.outputColorTransform = false;\n *\n * const scenePass = pass( scene, camera );\n * const outputPass = renderOutput( scenePass );\n *\n * postProcessing.outputNode = outputPass;\n * ```\n *\n * @augments TempNode\n */\nclass RenderOutputNode extends TempNode {\n\n\tstatic get type() {\n\n\t\treturn 'RenderOutputNode';\n\n\t}\n\n\t/**\n\t * Constructs a new render output node.\n\t *\n\t * @param {Node} colorNode - The color node to process.\n\t * @param {Number} toneMapping - The tone mapping type.\n\t * @param {String} outputColorSpace - The output color space.\n\t */\n\tconstructor( colorNode, toneMapping, outputColorSpace ) {\n\n\t\tsuper( 'vec4' );\n\n\t\t/**\n\t\t * The color node to process.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tthis.colorNode = colorNode;\n\n\t\t/**\n\t\t * The tone mapping type.\n\t\t *\n\t\t * @type {Number?}\n\t\t */\n\t\tthis.toneMapping = toneMapping;\n\n\t\t/**\n\t\t * The output color space.\n\t\t *\n\t\t * @type {String?}\n\t\t */\n\t\tthis.outputColorSpace = outputColorSpace;\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isRenderOutputNode = true;\n\n\t}\n\n\tsetup( { context } ) {\n\n\t\tlet outputNode = this.colorNode || context.color;\n\n\t\t// tone mapping\n\n\t\tconst toneMapping = ( this.toneMapping !== null ? this.toneMapping : context.toneMapping ) || NoToneMapping;\n\t\tconst outputColorSpace = ( this.outputColorSpace !== null ? this.outputColorSpace : context.outputColorSpace ) || NoColorSpace;\n\n\t\tif ( toneMapping !== NoToneMapping ) {\n\n\t\t\toutputNode = outputNode.toneMapping( toneMapping );\n\n\t\t}\n\n\t\t// working to output color space\n\n\t\tif ( outputColorSpace !== NoColorSpace && outputColorSpace !== ColorManagement.workingColorSpace ) {\n\n\t\t\toutputNode = outputNode.workingToColorSpace( outputColorSpace );\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n}\n\nexport default RenderOutputNode;\n\n/**\n * TSL function for creating a posterize node.\n *\n * @function\n * @param {Node} color - The color node to process.\n * @param {Number?} [toneMapping=null] - The tone mapping type.\n * @param {String?} [outputColorSpace=null] - The output color space.\n * @returns {RenderOutputNode}\n */\nexport const renderOutput = ( color, toneMapping = null, outputColorSpace = null ) => nodeObject( new RenderOutputNode( nodeObject( color ), toneMapping, outputColorSpace ) );\n\naddMethodChaining( 'renderOutput', renderOutput );\n","import * as THREE from 'three';\nimport { Tween, Easing } from '@tweenjs/tween.js'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { MapControls } from 'three/examples/jsm/controls/MapControls';\nimport { ArcballControls } from 'three/addons/controls/ArcballControls.js'; \nimport { mx_bilerp_0 } from 'three/src/nodes/materialx/lib/mx_noise.js';\n\n/**\n * Represents a 3D diagram using THREE.js.\n */\nclass Diagram {\n\n    /**\n     * Creates a new Diagram instance.\n     * @param {HTMLElement} container - The HTML container element for the diagram.\n     */\n    constructor(container) {\n\n        // init Diagram features\n\n        /**\n         * Array of elements in the diagram.\n         * @type {Array<Object3D>}\n         */\n        this.elements = [];\n\n        /**\n         * Array of connectors in the diagram.\n         * @type {Array<Object3D>}\n         */\n        this.connectors = [];\n\n        /**\n         * Current mode of the diagram. Modes: 'EDIT', 'VIEW', 'ANALYZE'.\n         * @type {string}\n         */\n        this.mode = 'VIEW';\n\n        /**\n         * Whether helpers (axes, grid, etc.) are visible.\n         * @type {boolean}\n         */\n        this.helpers = false;\n\n        // init THREE.js features\n\n        /**\n         * The HTML container element for the diagram.\n         * @type {HTMLElement}\n         */\n        this.container = container;\n\n        this.initScene();\n        this.initCamera();\n        this.setHelpers(); // Optionally set helpers\n        this.initRenderer();\n        this.initLighting();\n        this.initControls();\n        this.addEventListeners();\n        this.animate();\n        console.log('THREE', THREE);\n        console.log(this);\n    }\n\n    /**\n     * Initializes the THREE.js scene.\n     */\n    initScene() {\n        this.scene = new THREE.Scene();\n        this.scene.background = new THREE.Color( 0xf0f0f0 );\n    }\n\n    /**\n     * Initializes the camera with a perspective projection.\n     */\n    initCamera() { // Perspective\n        // const aspectRatio = this.container.clientWidth / window.innerHeight;\n        const aspectRatio = window.innerWidth / window.innerHeight;\n        this.camera = new THREE.PerspectiveCamera(75, aspectRatio, 0.1, 2000);\n        this.camera.position.set(0, 0, 500);\n        this.camera.updateProjectionMatrix();\n    }\n\n    // initCamera() { // Orthographic\n    //     // const aspectRatio = this.container.clientWidth / window.innerHeight;\n    //     const aspectRatio = window.innerWidth / window.innerHeight;\n    //     const frustumSize = 100;\n    //     this.camera = new THREE.OrthographicCamera(\n    //         frustumSize * aspectRatio / -2, \n    //         frustumSize * aspectRatio / 2, \n    //         frustumSize / 2, \n    //         frustumSize / -2, \n    //         0.1, \n    //         1000\n    //     );\n    //     this.camera.position.set(0, 0, 50);\n    // }\n\n    /**\n     * Sets up helpers (axes, grid, etc.) for the scene.\n     */\n    setHelpers() {\n        this.axesHelper = new THREE.AxesHelper(100);\n        this.cameraHelper = new THREE.CameraHelper(this.camera);\n        const size = 400;\n        const divisions = 50;\n        this.gridHelper = new THREE.GridHelper(size, divisions);\n        // Set camera helper - define cameraDirection and span variables\n        this.cameraDirection = new THREE.Vector3()\n        this.camPositionSpan = document.querySelector(\"#position\"); // set the spans with the queried HTML DOM elements\n        this.camLookAtSpan = document.querySelector(\"#lookingAt\");\n\n        this.helpers = false;\n    }\n\n    /**\n     * Shows the helpers in the scene.\n     */\n    showHelpers() {\n        if (!this.helpers) {\n            this.scene.add(this.axesHelper);\n            this.scene.add(this.cameraHelper);\n            this.scene.add(this.gridHelper);\n            this.helpers = true;\n        }\n    }\n\n    /**\n     * Hides the helpers in the scene.\n     */\n    hideHelpers() {\n        if (this.helpers) {\n            this.scene.remove(this.axesHelper);\n            this.scene.remove(this.cameraHelper);\n            this.scene.remove(this.gridHelper);\n            this.helpers = false;\n        }\n    }\n \n    /**\n     * Initializes the renderer and attaches it to the container.\n     */\n    initRenderer() {\n        this.renderer = new THREE.WebGLRenderer({ antialias: true });\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n        // TODO: Ustawić na pełny ekran dla konkretnego kontenera.\n        // this.renderer.setSize(this.container.clientWidth, this.container.innerHeight);\n        // codepen at https://codepen.io/snakeo/pen/XWOoGPL\n        document.body.appendChild(this.renderer.domElement);\n        // TODO: Ustawić diagram w konkretnym kontenerze.\n        // this.container.appendChild(this.renderer.domElement);\n        console.log('initRenderer', this.container, this.renderer.domElement)\n    }\n \n    /**\n     * Initializes the lighting for the scene.\n     */\n    initLighting() {\n\n        // Main light\n        let mainLightColor = 0xffffff; // white\n        let mainLightIntensity = 4.0; // twice as bright as default\n        let mainLightDistance = 0 // infinite range\n        let mainLightDecay = 0 // no falloff\n        const mainLight = new THREE.PointLight(mainLightColor, mainLightIntensity, mainLightDistance, mainLightDecay);\n        // for diagram size { \"x\": 580, \"y\": 209, \"z\": 3.3 }\n        let mainLightPosX = (-1 * (580 / 2)) + ((1/3) * 580); // Proportion 1/3 : 2/3\n        let mainLightPosY = -1 * 209 * 4; // Below the diagram at the distance of 4 diagram height\n        let mainLightPosZ = Math.abs(mainLightPosY); // The elevation is the same as the absolute Y distance\n        mainLight.position.set(mainLightPosX, mainLightPosY, mainLightPosZ);\n        this.scene.add(mainLight);\n\n        // spot light\n        this.spotLight = new THREE.PointLight( 0xffffff, 4, 0, 0 );\n        this.spotLightPosX = 0; // Centered on the X axis. This will be moved in the animete() method.\n        this.spotLightPosY = (-1 * 209) - 300; // Below the diagram at the distance of 500 points\n        this.spotLightPosZ = 70; \n        // this.spotLight.position.set(spotLightPosX, spotLightPosY, spotLightPosZ);\n        this.scene.add(this.spotLight);\n        this.spotLightDirection = 1;\n\n        // // Old lights\n        // // ----------------------------------------------------------------------\n        \n        // // light\n        // const light = new THREE.PointLight( 0xffffff );\n        // light.position.set(-500, -2500, 2500);\n        // this.scene.add(light);\n\n        // // spot light\n        // const spotLight = new THREE.PointLight( 0xffffff );\n        // spotLight.position.set( 0, -2500, 30 );\n\n        // // ----------------------------------------------------------------------\n        // // New lights\n\n        // const ambientLight = new THREE.AmbientLight(0xCCCCCC, 4);\n        // this.scene.add(ambientLight);\n \n        // const directionalLight1 = new THREE.DirectionalLight(0xFFFFFF, 1);\n        // directionalLight1.position.set(1, 3, 1).normalize();\n        // this.scene.add(directionalLight1);\n \n        // // Adding a second directional light\n        // const directionalLight2 = new THREE.DirectionalLight(0xFFFFFF, 1);\n        // directionalLight2.position.set(-1, -1, -1).normalize();\n        // this.scene.add(directionalLight2);\n\n        // // Add spot light\n        // this.spotLight = new THREE.PointLight(0xffffff);\n        // this.spotLight.position.set(0, -2500, 30);\n        // this.scene.add(this.spotLight);\n\n        // this.spotLightDirection = 1;\n        // this.spotLightPosX = -2500;\n    }\n\n    /**\n     * Initializes the controls for the camera.\n     */\n    initControls() {\n        // this.controlsAnalyze = new OrbitControls(this.camera, this.renderer.domElement);\n        // this.controlsAnalyze.enableDamping = true;\n        // this.controlsAnalyze.dampingFactor = 0.25;\n        // this.controlsAnalyze.screenSpacePanning = false;\n        // this.controlsAnalyze.minPolarAngle = Math.PI / 2;\n        // this.controlsAnalyze.maxPolarAngle = Math.PI;\n        // this.controlsAnalyze.enabled = false;\n        // this.controlsAnalyze.saveState();\n\n        // this.controlsViewEdit = new MapControls(this.camera, this.renderer.domElement);\n        // this.controlsViewEdit.enableDamping = true;\n        // this.controlsViewEdit.dampingFactor = 0.25;\n        // this.controlsViewEdit.screenSpacePanning = true;\n        // this.controlsViewEdit.maxPolarAngle = Math.PI / 2;\n        // this.controlsViewEdit.enabled = true;\n        // this.controlsViewEdit.saveState();\n\n        // this.controls = new ArcballControls(this.camera, this.renderer.domElement, this.scene);\n        this.controls = new MapControls(this.camera, this.renderer.domElement);\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.1;\n        this.controls.screenSpacePanning = true;\n        this.controls.zoomToCursor = true;\n        this.controls.saveState();\n\n    }\n \n    /**\n     * Adds event listeners for window resize and other interactions.\n     */\n    addEventListeners() {\n        // Add event listener for window resize\n        window.addEventListener('resize', this.onWindowResize.bind(this), false);\n        // Add event listener for mouse events\n        // this.renderer.domElement.addEventListener('mousedown', this.onDocumentMouseDown.bind(this), false);\n        // this.renderer.domElement.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false);\n        // this.renderer.domElement.addEventListener('mouseup', this.onDocumentMouseUp.bind(this), false);\n    }\n \n    // onDocumentMouseDown(event) {\n    //     this.isDragging = true;\n    //     this.previousMousePosition = { x: event.offsetX, y: event.offsetY };\n    // }\n \n    // onDocumentMouseMove(event) {\n    //    if (this.isDragging && this.mugGroup) {\n    //       const deltaMove = {\n    //          x: event.offsetX - this.previousMousePosition.x,\n    //          y: event.offsetY - this.previousMousePosition.y\n    //       };\n \n    //       let rotateAngleX = this.toRadians(deltaMove.y * 1);\n    //       let rotateAngleY = this.toRadians(deltaMove.x * 1);\n \n    //       this.currentRotation = this.currentRotation || { x: 0, y: 0 };\n    //       this.currentRotation.x += rotateAngleX;\n    //       this.currentRotation.y += rotateAngleY;\n \n    //       const maxRotation = Math.PI / 2;\n    //       this.currentRotation.x = Math.min(Math.max(this.currentRotation.x, -maxRotation), maxRotation);\n \n    //       this.pivotGroup.rotation.x = this.currentRotation.x;\n    //       this.pivotGroup.rotation.y = this.currentRotation.y;\n \n    //       this.previousMousePosition = { x: event.offsetX, y: event.offsetY };\n    //    }\n    // }\n \n    // onDocumentMouseUp() {\n    //    this.isDragging = false;\n    // }\n \n    // toRadians(angle) {\n    //    return angle * (Math.PI / 180);\n    // }\n\n    /**\n     * Handles window resize events to update the camera and renderer.\n     */\n    onWindowResize() {\n        this.camera.aspect = window.innerWidth / window.innerHeight;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }\n\n    /**\n     * Animates the scene and updates controls.\n     */\n    animate() {\n        if (this.tween) this.tween.update();\n        requestAnimationFrame(this.animate.bind(this));\n        this.controls.update();\n        this.renderer.render(this.scene, this.camera);\n\n        // Animate spot light\n        if (this.spotLightPosX > 500) {\n            this.spotLightDirection = -1;\n            this.spotLightPosX = 500;\n        }\n        if (this.spotLightPosX < -500) {\n            this.spotLightDirection = 1;\n            this.spotLightPosX = -500;\n        }\n        this.spotLightPosX += 10 * this.spotLightDirection;\n        this.spotLight.position.set(this.spotLightPosX, this.spotLightPosY, this.spotLightPosZ);\n    }\n\n    reset() {\n        this.hideHelpers();\n        this.controls.reset();\n        this.setMode('VIEW');\n        this.fitScreen();\n    }\n   \n\n    // ================================================================\n    //   Diagram arrangement\n    // ================================================================\n\n    arrange() {\n        // \n        // The method calculates the center of the diagram and moves all elements to center the diagram at {0, 0, 0}.\n        // It also calculates the camera Z position to place the camera above the center.\n        // Finally, it updates the controls target and updates the controls.\n        if (this.scene.children.length === 0) {\n            console.warn('Scene is empty. Cannot calculate center.');\n            return;\n        }\n        const box = new THREE.Box3().setFromObject(this.scene);\n        const center = box.getCenter(new THREE.Vector3());\n            // Translate all elements to center the diagram at {0, 0, 0}\n        const translation = new THREE.Vector3(-center.x, -center.y, -center.z);\n        this.scene.children.forEach(child => {\n            if (child instanceof THREE.Object3D) {\n                child.position.add(translation);\n            }\n        });\n    }\n\n    fitScreen() {\n        // The method ensures all the elements are visible.\n        // Calculate the camera Z position\n        const box = new THREE.Box3().setFromObject(this.scene);\n        const size = box.getSize(new THREE.Vector3());\n        console.log('fitScreen() -> size:', size);\n        const maxDim = Math.max(size.x, size.y, size.z);\n        const fov = this.camera.fov * (Math.PI / 180); // convert FOV to radians\n        const cameraZ = Math.abs((maxDim / 2) / Math.tan(fov / 2));\n        this.camera.position.set(0, 0, cameraZ); // Place camera above the center\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n        this.camera.updateProjectionMatrix();\n        this.controls.saveState(); // Save the state of controls. This can later be recovered with .reset.\n\n        // Save the initial camera position and target for later use\n        this.initialCameraPosition = this.camera.position.clone();\n        this.initialTarget = this.controls.target.clone();\n    }\n\n    center() {\n        // The method centers the diagram by moving the camera to its initial state (as calculated by the fitScreen() method).\n        // It also uses the Tween.js library to animate the camera movement.\n        if (!this.initialCameraPosition || !this.initialTarget) {\n            console.warn('Initial camera position or target is not defined.');\n            return;\n        }\n\n        const from = {\n            cameraPositionX: this.camera.position.x,\n            cameraPositionY: this.camera.position.y,\n            cameraPositionZ: this.camera.position.z,\n            controlsTargetX: this.controls.target.x,\n            controlsTargetY: this.controls.target.y,\n            controlsTargetZ: this.controls.target.z\n        };\n        const to = {\n            cameraPositionX: this.initialCameraPosition.x,\n            cameraPositionY: this.initialCameraPosition.y,\n            cameraPositionZ: this.initialCameraPosition.z,\n            controlsTargetX: this.initialTarget.x,\n            controlsTargetY: this.initialTarget.y,\n            controlsTargetZ: this.initialTarget.z\n        };\n\n        const camera = this.camera;\n        const controls = this.controls;\n\n        this.tween = new Tween(from)\n            .to(to, 1200)\n            .easing(Easing.Quartic.Out)\n            .onUpdate(function () {\n                camera.position.set(\n                    from.cameraPositionX,\n                    from.cameraPositionY,\n                    from.cameraPositionZ\n                );\n                controls.target.set(\n                    from.controlsTargetX,\n                    from.controlsTargetY,\n                    from.controlsTargetZ\n                );\n            })\n            .onComplete(function () {\n                // controls.update();\n            })\n            .start();\n    }\n\n    rotate(targetAngle) {  // in degrees (e.g. 60)\n        // The method centers the diagram and rotates it around the Y axis by a specified angle.\n        if (!this.initialCameraPosition || !this.initialTarget) {\n            console.warn('Initial camera position or target is not defined.');\n            return;\n        }\n\n        const radius = Math.sqrt(\n            this.initialCameraPosition.y * this.initialCameraPosition.y + \n            this.initialCameraPosition.z * this.initialCameraPosition.z\n        );\n        \n        const from = {\n            cameraPositionX: this.camera.position.x,\n            cameraPositionY: this.camera.position.y,\n            cameraPositionZ: this.camera.position.z,\n            controlsTargetX: this.controls.target.x,\n            controlsTargetY: this.controls.target.y,\n            controlsTargetZ: this.controls.target.z\n        };\n\n        // Convert target angle to radians and calculate new positions\n        const targetAngleRad = THREE.MathUtils.degToRad(targetAngle);\n        const to = {\n            cameraPositionX: this.initialCameraPosition.x,\n            cameraPositionY: radius * Math.sin(targetAngleRad),\n            cameraPositionZ: radius * Math.cos(targetAngleRad),\n            controlsTargetX: this.initialTarget.x,\n            controlsTargetY: this.initialTarget.y,\n            controlsTargetZ: this.initialTarget.z\n        };\n\n        console.log('rotate() -> from:', from);\n        console.log('rotate() -> to:', to);\n\n        const camera = this.camera;\n        const controls = this.controls;\n\n        this.tween = new Tween(from)\n            .to(to, 1200)\n            .easing(Easing.Quartic.Out)\n            .onUpdate(function() {\n                camera.position.set(\n                    from.cameraPositionX,\n                    from.cameraPositionY,\n                    from.cameraPositionZ\n                );\n                controls.target.set(\n                    from.controlsTargetX,\n                    from.controlsTargetY,\n                    from.controlsTargetZ\n                );\n            })\n            .start();\n    }\n\n    // ================================================================\n    //   Diagram modes\n    // ================================================================\n\n    /**\n     * Removes all elements of type 'ValueBarShape' from the diagram.\n     * Iterates through the `elements` array in reverse order to safely remove\n     * elements without affecting the iteration process. For each matching element,\n     * it removes the element from its parent (and thus from the scene) and also \n     * removes it from the `elements` array.\n     */\n    removeValueBars() {\n        // Iterate in reverse order to safely remove elements\n        for (let i = this.elements.length - 1; i >= 0; i--) {\n            const element = this.elements[i];\n            if (element.type === 'ValueBarShape') {\n                // Remove from parent AND scene\n                if (element.parent) {\n                    element.parent.remove(element);\n                }\n                this.scene.remove(element);\n                this.elements.splice(i, 1);\n            }\n        }\n    }\n\n    /**\n     * Adds value bars to the diagram to visualize the elements' parameters.\n     * \n     * This method processes the elements in the diagram, calculates the height\n     * of the bars based on their parameter values, and assigns a color to each\n     * bar based on a normalized value. The bars are then added to the scene.\n     * \n     * @method\n     * @memberof Diagram\n     * @description\n     * - Filters elements to include only those with a defined `parameters.value`.\n     * - Calculates the range of parameter values to normalize them.\n     * - Assigns a color to each bar using an HSL color scale (green to red).\n     * - Calls the `valueBar` method on each element to set the bar's height and color.\n     * \n     * @example\n     * // Assuming `diagram` is an instance of Diagram with elements having parameters:\n     * diagram.addValueBars();\n     * \n     * @throws {Error} If no elements with `parameters.value` are found.\n     */\n    addValueBars() {\n        const elements = this.elements.filter(el => el.parameters && el.parameters.value !== undefined);\n        if (elements.length === 0) {\n            throw new Error('No elements with `parameters.value` found.');\n        }\n        const max = Math.max(...elements.map(el => el.parameters.value));\n        const min = 0;\n        const range = max - min;\n        elements.forEach((element, i) => {\n            const value = element.parameters.value;\n            const normalizedValue = (value - min) / range;\n            const color = new THREE.Color(`hsl(${(normalizedValue * 120).toString(10)}, 100%, 50%)`);\n            element.addValueBar(normalizedValue * 100, color);\n        });\n    }\n\n    /**\n     * Sets the mode of the diagram and adjusts its state accordingly.\n     *\n     * @param {string} mode - The mode to set. Possible values are:\n     *   - 'EDIT': Sets the diagram to edit mode and resets rotation.\n     *   - 'VIEW': Sets the diagram to view mode and resets rotation.\n     *   - 'ANALYZE': Sets the diagram to analyze mode, rotates it to -60 degrees, \n     *                and adds value bars.\n     *   - Any other value will log a warning about an unknown mode.\n     */\n    setMode(mode) {\n        this.removeValueBars();\n        this.mode = mode;\n\n        switch (mode) {\n            case 'EDIT':\n            case 'VIEW':\n                this.rotate(0);\n                break;\n            case 'ANALYZE':\n                this.rotate(-65);\n                this.addValueBars();\n                break;\n            default:\n                console.warn(`Unknown mode: ${mode}`);\n        }\n    }\n\n    // ================================================================\n    //   Diagram elements\n    // ================================================================\n\n    /**\n     * Adds an element to the diagram.\n     * @param {Object3D} element - The element to add.\n     * @param {Vector3} [position] - The position to place the element.\n     * @returns {Object3D} The added element.\n     */\n    addElement(element, position) {\n        this.elements.push(element);   \n        this.scene.add(element);\n        if (position) element.position.set(position.x, position.y, 0);\n        // this.renderer.render(this.scene, this.camera);\n        element.setDiagram(this);\n        return element;\n    }\n\n    /**\n     * Removes an element from the diagram by its ID.\n     * @param {string} elementId - The ID of the element to remove.\n     */\n    removeElement(elementId) {\n        const element = this.elements.find(el => el.id === elementId);\n        if (element) {\n            this.scene.remove(element);\n            this.elements = this.elements.filter(el => el.id !== elementId);\n        }\n    }\n\n    /**\n     * Retrieves an element from the `elements` array by its unique `elementId`.\n     *\n     * @param {string} elementId - The unique identifier of the element to find.\n     * @returns {Object|undefined} The element with the matching `elementId`, or `undefined` if not found.\n     */\n    getElementById(elementId) {\n        return this.elements.find(el => el.elementId === elementId);\n    }\n\n    /**\n     * Retrieves the elements of the diagram.\n     *\n     * @returns {Array} The array of elements in the diagram.\n     */\n    getElements() {\n        return this.elements;\n    }\n\n    // ================================================================\n    //   Diagram Connectors\n    // ================================================================\n\n    /**\n     * Adds a connector to the diagram, registers it with the diagram, \n     * and adds it to the scene for rendering.\n     *\n     * @param {Object} connector - The connector object to be added to the diagram.\n     * @returns {Object} The connector that was added.\n     */\n    addConnector(connector) {\n        this.connectors.push(connector);\n        this.scene.add(connector);\n        connector.setDiagram(this);\n        return connector;\n    }\n\n    // ================================================================\n    //   Clear diagram\n    // ================================================================\n\n    /**\n     * Clears all elements and connectors from the diagram.\n     */\n    clear() {\n        this.elements = [];\n        this.connectors = [];\n        this.scene.children = this.scene.children.filter(child => child instanceof THREE.AmbientLight);\n    }\n\n    // ================================================================\n    //   Diagram JSON\n    // ================================================================\n\n    toJSON() {\n        return JSON.stringify(this.elements);\n    }\n\n    fromJSON(json) {\n        this.elements = JSON.parse(json);\n    }\n\n    // ================================================================\n    //   Diagram export and import to/from file\n    // ================================================================\n\n    /**\n     * Exports the diagram to a JSON file.\n     */\n    export() {\n        const data = JSON.stringify(this.scene.toJSON());\n        const blob = new Blob([data], { type: 'application/json' });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = 'diagram.json';\n        a.click();\n        URL.revokeObjectURL(url);\n    }\n\n    /**\n     * Placeholder for importing a diagram from a file.\n     * This method should be implemented by subclasses.\n     * @param {File} file - The file to import.\n     * @throws {Error} If the method is not implemented.\n     * @returns {Promise<void>}\n     */\n    import(file) {\n        console.error('Import method should be implemented by subclasses.');\n    }\n\n }\n\nexport { Diagram };\n","export const DiagramDimensions = {\n    DISTANCE_BETWEEN_ELEMENTS: 48\n};\n\nexport const ExtrusionParameters = {\n    steps: 2,\n    depth: .6,\n    bevelEnabled: true,\n    bevelThickness: .2,\n    bevelSize: .4,\n    bevelOffset: 0,\n    bevelSegments: 4\n};\n\nexport const Colors = {\n    ELEMENT_FILL: 0x00ff00, // TODO\n    ELEMENT_STROKE: 0x006699,\n    ELEMENT_TEXT: 0x006699,\n    ELEMENT_SELECTED_FILL: 0xff0000, // TODO\n    ELEMENT_SELECTED_STROKE: 0x000000, // TODO\n    ELEMENT_SELECTED_TEXT: 0x000000 // TODO\n};\n","import * as THREE from 'three';\n\nclass Shape {\n    constructor(geometry, material) {\n        this.geometry = geometry;\n        this.material = material;\n\n        this.width = this.getSize().x;\n        this.height = this.getSize().y;\n    }\n\n    getSize() {\n        // Get the size of the geometry\n        var size = new THREE.Vector3();\n        this.geometry.computeBoundingBox();\n        this.geometry.boundingBox.getSize(size);\n\n        return size;\n    }\n\n}\n\nexport { Shape };","import * as THREE from 'three';\n\n// class DiagramEditMaterial extends THREE.MeshPhongMaterial {\n//   constructor(color) {\n//     super({\n//       color: color,\n//       shininess: 60,\n//       specular: 0x666666,\n//       emissive: 0x444444,\n//       emissiveIntensity: 0.6,\n//       side: THREE.DoubleSide\n//     });\n//   }\n// }\n\nclass DiagramEditMaterial extends THREE.MeshLambertMaterial {\n  constructor(color) {\n    super({\n      vertexColors: false,\n      color: color,\n      side: THREE.DoubleSide,\n      emissive: new THREE.Color(color),\n      emissiveIntensity: .1\n    });\n  }\n}\n\nexport { DiagramEditMaterial };","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\n\nclass BoxShape extends Shape {\n    constructor() {\n        const color = 0x0000ff;\n        super(new THREE.BoxGeometry(1, 1, 1), new DiagramEditMaterial(color));\n    }\n}\n\nexport { BoxShape };","import {\n\tFileLoader,\n\tLoader,\n\tShapePath\n} from 'three';\n\nclass FontLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tconst font = scope.parse( JSON.parse( text ) );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n}\n\n//\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.isFont = true;\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tshapes.push( ...paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nexport { FontLoader, Font };\n","/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  depth: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nimport {\n\tExtrudeGeometry\n} from 'three';\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( font === undefined ) {\n\n\t\t\tsuper(); // generate default extrude geometry\n\n\t\t} else {\n\n\t\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t\t// translate parameters to ExtrudeGeometry API\n\n\t\t\tif ( parameters.depth === undefined && parameters.height !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.TextGeometry: .height is now depreciated. Please use .depth instead' ); // @deprecated, r163\n\n\t\t\t}\n\n\t\t\tparameters.depth = parameters.depth !== undefined ?\n\t\t\t\tparameters.depth : parameters.height !== undefined ?\n\t\t\t\t\tparameters.height : 50;\n\n\t\t\t// defaults\n\n\t\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\t\tsuper( shapes, parameters );\n\n\t\t}\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\n\nexport { TextGeometry };\n","import { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { Colors } from '../../diagrams/DiagramConstants.js';\nimport { FontLoader } from 'three/examples/jsm/loaders/FontLoader.js';\nimport { TextGeometry } from 'three/examples/jsm/geometries/TextGeometry.js';\nimport helveticaRegular from 'three/examples/fonts/helvetiker_regular.typeface.json';\nimport robotoRegular from './Roboto_Regular.json';\n\nclass TextShape extends Shape {\n    constructor(text, size = 8) {\n\n        const color = Colors.ELEMENT_TEXT;\n\n        const loader = new FontLoader();\n        var font = loader.parse( robotoRegular ); \n        var textGeometry = new TextGeometry( text, {\n                font: font,\n                size: size,\n                depth: .2, // .0125,\n                curveSegments: 12\n            } ).center();\n\n        // Construct the shape\n        super(textGeometry, new DiagramEditMaterial( color ));\n\n    }\n}\n\nexport { TextShape };","export const IconDimensions = {\n    ICON_SIZE_SMALL: 10,\n    ICON_SIZE_MEDIUM: 18,\n    ICON_SIZE_LARGE: 30,\n    ICON_PADDING: 4,\n    ICON_MARGIN: 6\n};","import {\n\tBox2,\n\tBufferGeometry,\n\tFileLoader,\n\tFloat32BufferAttribute,\n\tLoader,\n\tMatrix3,\n\tPath,\n\tShape,\n\tShapePath,\n\tShapeUtils,\n\tSRGBColorSpace,\n\tVector2,\n\tVector3\n} from 'three';\n\nconst COLOR_SPACE_SVG = SRGBColorSpace;\n\nclass SVGLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\t// Default dots per inch\n\t\tthis.defaultDPI = 90;\n\n\t\t// Accepted units: 'mm', 'cm', 'in', 'pt', 'pc', 'px'\n\t\tthis.defaultUnit = 'px';\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( text ) {\n\n\t\tconst scope = this;\n\n\t\tfunction parseNode( node, style ) {\n\n\t\t\tif ( node.nodeType !== 1 ) return;\n\n\t\t\tconst transform = getNodeTransform( node );\n\n\t\t\tlet isDefsNode = false;\n\n\t\t\tlet path = null;\n\n\t\t\tswitch ( node.nodeName ) {\n\n\t\t\t\tcase 'svg':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'style':\n\t\t\t\t\tparseCSSStylesheet( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'g':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'path':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tif ( node.hasAttribute( 'd' ) ) path = parsePathNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'rect':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parseRectNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'polygon':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parsePolygonNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'polyline':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parsePolylineNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'circle':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parseCircleNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ellipse':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parseEllipseNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'line':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\t\t\t\t\tpath = parseLineNode( node );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'defs':\n\t\t\t\t\tisDefsNode = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'use':\n\t\t\t\t\tstyle = parseStyle( node, style );\n\n\t\t\t\t\tconst href = node.getAttributeNS( 'http://www.w3.org/1999/xlink', 'href' ) || '';\n\t\t\t\t\tconst usedNodeId = href.substring( 1 );\n\t\t\t\t\tconst usedNode = node.viewportElement.getElementById( usedNodeId );\n\t\t\t\t\tif ( usedNode ) {\n\n\t\t\t\t\t\tparseNode( usedNode, style );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'SVGLoader: \\'use node\\' references non-existent node id: ' + usedNodeId );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\t// console.log( node );\n\n\t\t\t}\n\n\t\t\tif ( path ) {\n\n\t\t\t\tif ( style.fill !== undefined && style.fill !== 'none' ) {\n\n\t\t\t\t\tpath.color.setStyle( style.fill, COLOR_SPACE_SVG );\n\n\t\t\t\t}\n\n\t\t\t\ttransformPath( path, currentTransform );\n\n\t\t\t\tpaths.push( path );\n\n\t\t\t\tpath.userData = { node: node, style: style };\n\n\t\t\t}\n\n\t\t\tconst childNodes = node.childNodes;\n\n\t\t\tfor ( let i = 0; i < childNodes.length; i ++ ) {\n\n\t\t\t\tconst node = childNodes[ i ];\n\n\t\t\t\tif ( isDefsNode && node.nodeName !== 'style' && node.nodeName !== 'defs' ) {\n\n\t\t\t\t\t// Ignore everything in defs except CSS style definitions\n\t\t\t\t\t// and nested defs, because it is OK by the standard to have\n\t\t\t\t\t// <style/> there.\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tparseNode( node, style );\n\n\t\t\t}\n\n\n\t\t\tif ( transform ) {\n\n\t\t\t\ttransformStack.pop();\n\n\t\t\t\tif ( transformStack.length > 0 ) {\n\n\t\t\t\t\tcurrentTransform.copy( transformStack[ transformStack.length - 1 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcurrentTransform.identity();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction parsePathNode( node ) {\n\n\t\t\tconst path = new ShapePath();\n\n\t\t\tconst point = new Vector2();\n\t\t\tconst control = new Vector2();\n\n\t\t\tconst firstPoint = new Vector2();\n\t\t\tlet isFirstPoint = true;\n\t\t\tlet doSetFirstPoint = false;\n\n\t\t\tconst d = node.getAttribute( 'd' );\n\n\t\t\tif ( d === '' || d === 'none' ) return null;\n\n\t\t\t// console.log( d );\n\n\t\t\tconst commands = d.match( /[a-df-z][^a-df-z]*/ig );\n\n\t\t\tfor ( let i = 0, l = commands.length; i < l; i ++ ) {\n\n\t\t\t\tconst command = commands[ i ];\n\n\t\t\t\tconst type = command.charAt( 0 );\n\t\t\t\tconst data = command.slice( 1 ).trim();\n\n\t\t\t\tif ( isFirstPoint === true ) {\n\n\t\t\t\t\tdoSetFirstPoint = true;\n\t\t\t\t\tisFirstPoint = false;\n\n\t\t\t\t}\n\n\t\t\t\tlet numbers;\n\n\t\t\t\tswitch ( type ) {\n\n\t\t\t\t\tcase 'M':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 1 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\n\t\t\t\t\t\t\tif ( j === 0 ) {\n\n\t\t\t\t\t\t\t\tpath.moveTo( point.x, point.y );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( j === 0 ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'H':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpoint.x = numbers[ j ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'V':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpoint.y = numbers[ j ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'L':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 1 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'C':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 6 ) {\n\n\t\t\t\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\t\t\t\tnumbers[ j + 0 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 1 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 2 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 3 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 4 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 5 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = numbers[ j + 2 ];\n\t\t\t\t\t\t\tcontrol.y = numbers[ j + 3 ];\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 4 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 5 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'S':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 4 ) {\n\n\t\t\t\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\t\t\t\tgetReflection( point.x, control.x ),\n\t\t\t\t\t\t\t\tgetReflection( point.y, control.y ),\n\t\t\t\t\t\t\t\tnumbers[ j + 0 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 1 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 2 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 3 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = numbers[ j + 0 ];\n\t\t\t\t\t\t\tcontrol.y = numbers[ j + 1 ];\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 2 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 3 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Q':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 4 ) {\n\n\t\t\t\t\t\t\tpath.quadraticCurveTo(\n\t\t\t\t\t\t\t\tnumbers[ j + 0 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 1 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 2 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 3 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = numbers[ j + 0 ];\n\t\t\t\t\t\t\tcontrol.y = numbers[ j + 1 ];\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 2 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 3 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'T':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tconst rx = getReflection( point.x, control.x );\n\t\t\t\t\t\t\tconst ry = getReflection( point.y, control.y );\n\t\t\t\t\t\t\tpath.quadraticCurveTo(\n\t\t\t\t\t\t\t\trx,\n\t\t\t\t\t\t\t\try,\n\t\t\t\t\t\t\t\tnumbers[ j + 0 ],\n\t\t\t\t\t\t\t\tnumbers[ j + 1 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = rx;\n\t\t\t\t\t\t\tcontrol.y = ry;\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 1 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'A':\n\t\t\t\t\t\tnumbers = parseFloats( data, [ 3, 4 ], 7 );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 7 ) {\n\n\t\t\t\t\t\t\t// skip command if start point == end point\n\t\t\t\t\t\t\tif ( numbers[ j + 5 ] == point.x && numbers[ j + 6 ] == point.y ) continue;\n\n\t\t\t\t\t\t\tconst start = point.clone();\n\t\t\t\t\t\t\tpoint.x = numbers[ j + 5 ];\n\t\t\t\t\t\t\tpoint.y = numbers[ j + 6 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tparseArcCommand(\n\t\t\t\t\t\t\t\tpath, numbers[ j ], numbers[ j + 1 ], numbers[ j + 2 ], numbers[ j + 3 ], numbers[ j + 4 ], start, point\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 1 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\n\t\t\t\t\t\t\tif ( j === 0 ) {\n\n\t\t\t\t\t\t\t\tpath.moveTo( point.x, point.y );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( j === 0 ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'h':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpoint.x += numbers[ j ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tpoint.y += numbers[ j ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'l':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 1 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tpath.lineTo( point.x, point.y );\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 6 ) {\n\n\t\t\t\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 0 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 1 ],\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 2 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 3 ],\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 4 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 5 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = point.x + numbers[ j + 2 ];\n\t\t\t\t\t\t\tcontrol.y = point.y + numbers[ j + 3 ];\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 4 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 5 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 's':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 4 ) {\n\n\t\t\t\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\t\t\t\tgetReflection( point.x, control.x ),\n\t\t\t\t\t\t\t\tgetReflection( point.y, control.y ),\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 0 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 1 ],\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 2 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 3 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = point.x + numbers[ j + 0 ];\n\t\t\t\t\t\t\tcontrol.y = point.y + numbers[ j + 1 ];\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 2 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 3 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'q':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 4 ) {\n\n\t\t\t\t\t\t\tpath.quadraticCurveTo(\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 0 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 1 ],\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 2 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 3 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = point.x + numbers[ j + 0 ];\n\t\t\t\t\t\t\tcontrol.y = point.y + numbers[ j + 1 ];\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 2 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 3 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tnumbers = parseFloats( data );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 2 ) {\n\n\t\t\t\t\t\t\tconst rx = getReflection( point.x, control.x );\n\t\t\t\t\t\t\tconst ry = getReflection( point.y, control.y );\n\t\t\t\t\t\t\tpath.quadraticCurveTo(\n\t\t\t\t\t\t\t\trx,\n\t\t\t\t\t\t\t\try,\n\t\t\t\t\t\t\t\tpoint.x + numbers[ j + 0 ],\n\t\t\t\t\t\t\t\tpoint.y + numbers[ j + 1 ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontrol.x = rx;\n\t\t\t\t\t\t\tcontrol.y = ry;\n\t\t\t\t\t\t\tpoint.x = point.x + numbers[ j + 0 ];\n\t\t\t\t\t\t\tpoint.y = point.y + numbers[ j + 1 ];\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'a':\n\t\t\t\t\t\tnumbers = parseFloats( data, [ 3, 4 ], 7 );\n\n\t\t\t\t\t\tfor ( let j = 0, jl = numbers.length; j < jl; j += 7 ) {\n\n\t\t\t\t\t\t\t// skip command if no displacement\n\t\t\t\t\t\t\tif ( numbers[ j + 5 ] == 0 && numbers[ j + 6 ] == 0 ) continue;\n\n\t\t\t\t\t\t\tconst start = point.clone();\n\t\t\t\t\t\t\tpoint.x += numbers[ j + 5 ];\n\t\t\t\t\t\t\tpoint.y += numbers[ j + 6 ];\n\t\t\t\t\t\t\tcontrol.x = point.x;\n\t\t\t\t\t\t\tcontrol.y = point.y;\n\t\t\t\t\t\t\tparseArcCommand(\n\t\t\t\t\t\t\t\tpath, numbers[ j ], numbers[ j + 1 ], numbers[ j + 2 ], numbers[ j + 3 ], numbers[ j + 4 ], start, point\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( j === 0 && doSetFirstPoint === true ) firstPoint.copy( point );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Z':\n\t\t\t\t\tcase 'z':\n\t\t\t\t\t\tpath.currentPath.autoClose = true;\n\n\t\t\t\t\t\tif ( path.currentPath.curves.length > 0 ) {\n\n\t\t\t\t\t\t\t// Reset point to beginning of Path\n\t\t\t\t\t\t\tpoint.copy( firstPoint );\n\t\t\t\t\t\t\tpath.currentPath.currentPoint.copy( point );\n\t\t\t\t\t\t\tisFirstPoint = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tconsole.warn( command );\n\n\t\t\t\t}\n\n\t\t\t\t// console.log( type, parseFloats( data ), parseFloats( data ).length  )\n\n\t\t\t\tdoSetFirstPoint = false;\n\n\t\t\t}\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parseCSSStylesheet( node ) {\n\n\t\t\tif ( ! node.sheet || ! node.sheet.cssRules || ! node.sheet.cssRules.length ) return;\n\n\t\t\tfor ( let i = 0; i < node.sheet.cssRules.length; i ++ ) {\n\n\t\t\t\tconst stylesheet = node.sheet.cssRules[ i ];\n\n\t\t\t\tif ( stylesheet.type !== 1 ) continue;\n\n\t\t\t\tconst selectorList = stylesheet.selectorText\n\t\t\t\t\t.split( /,/gm )\n\t\t\t\t\t.filter( Boolean )\n\t\t\t\t\t.map( i => i.trim() );\n\n\t\t\t\tfor ( let j = 0; j < selectorList.length; j ++ ) {\n\n\t\t\t\t\t// Remove empty rules\n\t\t\t\t\tconst definitions = Object.fromEntries(\n\t\t\t\t\t\tObject.entries( stylesheet.style ).filter( ( [ , v ] ) => v !== '' )\n\t\t\t\t\t);\n\n\t\t\t\t\tstylesheets[ selectorList[ j ] ] = Object.assign(\n\t\t\t\t\t\tstylesheets[ selectorList[ j ] ] || {},\n\t\t\t\t\t\tdefinitions\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/**\n\t\t * https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\t\t * https://mortoray.com/2017/02/16/rendering-an-svg-elliptical-arc-as-bezier-curves/ Appendix: Endpoint to center arc conversion\n\t\t * From\n\t\t * rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\t * To\n\t\t * aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation\n\t\t */\n\n\t\tfunction parseArcCommand( path, rx, ry, x_axis_rotation, large_arc_flag, sweep_flag, start, end ) {\n\n\t\t\tif ( rx == 0 || ry == 0 ) {\n\n\t\t\t\t// draw a line if either of the radii == 0\n\t\t\t\tpath.lineTo( end.x, end.y );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tx_axis_rotation = x_axis_rotation * Math.PI / 180;\n\n\t\t\t// Ensure radii are positive\n\t\t\trx = Math.abs( rx );\n\t\t\try = Math.abs( ry );\n\n\t\t\t// Compute (x1', y1')\n\t\t\tconst dx2 = ( start.x - end.x ) / 2.0;\n\t\t\tconst dy2 = ( start.y - end.y ) / 2.0;\n\t\t\tconst x1p = Math.cos( x_axis_rotation ) * dx2 + Math.sin( x_axis_rotation ) * dy2;\n\t\t\tconst y1p = - Math.sin( x_axis_rotation ) * dx2 + Math.cos( x_axis_rotation ) * dy2;\n\n\t\t\t// Compute (cx', cy')\n\t\t\tlet rxs = rx * rx;\n\t\t\tlet rys = ry * ry;\n\t\t\tconst x1ps = x1p * x1p;\n\t\t\tconst y1ps = y1p * y1p;\n\n\t\t\t// Ensure radii are large enough\n\t\t\tconst cr = x1ps / rxs + y1ps / rys;\n\n\t\t\tif ( cr > 1 ) {\n\n\t\t\t\t// scale up rx,ry equally so cr == 1\n\t\t\t\tconst s = Math.sqrt( cr );\n\t\t\t\trx = s * rx;\n\t\t\t\try = s * ry;\n\t\t\t\trxs = rx * rx;\n\t\t\t\trys = ry * ry;\n\n\t\t\t}\n\n\t\t\tconst dq = ( rxs * y1ps + rys * x1ps );\n\t\t\tconst pq = ( rxs * rys - dq ) / dq;\n\t\t\tlet q = Math.sqrt( Math.max( 0, pq ) );\n\t\t\tif ( large_arc_flag === sweep_flag ) q = - q;\n\t\t\tconst cxp = q * rx * y1p / ry;\n\t\t\tconst cyp = - q * ry * x1p / rx;\n\n\t\t\t// Step 3: Compute (cx, cy) from (cx', cy')\n\t\t\tconst cx = Math.cos( x_axis_rotation ) * cxp - Math.sin( x_axis_rotation ) * cyp + ( start.x + end.x ) / 2;\n\t\t\tconst cy = Math.sin( x_axis_rotation ) * cxp + Math.cos( x_axis_rotation ) * cyp + ( start.y + end.y ) / 2;\n\n\t\t\t// Step 4: Compute θ1 and Δθ\n\t\t\tconst theta = svgAngle( 1, 0, ( x1p - cxp ) / rx, ( y1p - cyp ) / ry );\n\t\t\tconst delta = svgAngle( ( x1p - cxp ) / rx, ( y1p - cyp ) / ry, ( - x1p - cxp ) / rx, ( - y1p - cyp ) / ry ) % ( Math.PI * 2 );\n\n\t\t\tpath.currentPath.absellipse( cx, cy, rx, ry, theta, theta + delta, sweep_flag === 0, x_axis_rotation );\n\n\t\t}\n\n\t\tfunction svgAngle( ux, uy, vx, vy ) {\n\n\t\t\tconst dot = ux * vx + uy * vy;\n\t\t\tconst len = Math.sqrt( ux * ux + uy * uy ) * Math.sqrt( vx * vx + vy * vy );\n\t\t\tlet ang = Math.acos( Math.max( - 1, Math.min( 1, dot / len ) ) ); // floating point precision, slightly over values appear\n\t\t\tif ( ( ux * vy - uy * vx ) < 0 ) ang = - ang;\n\t\t\treturn ang;\n\n\t\t}\n\n\t\t/*\n\t\t* According to https://www.w3.org/TR/SVG/shapes.html#RectElementRXAttribute\n\t\t* rounded corner should be rendered to elliptical arc, but bezier curve does the job well enough\n\t\t*/\n\t\tfunction parseRectNode( node ) {\n\n\t\t\tconst x = parseFloatWithUnits( node.getAttribute( 'x' ) || 0 );\n\t\t\tconst y = parseFloatWithUnits( node.getAttribute( 'y' ) || 0 );\n\t\t\tconst rx = parseFloatWithUnits( node.getAttribute( 'rx' ) || node.getAttribute( 'ry' ) || 0 );\n\t\t\tconst ry = parseFloatWithUnits( node.getAttribute( 'ry' ) || node.getAttribute( 'rx' ) || 0 );\n\t\t\tconst w = parseFloatWithUnits( node.getAttribute( 'width' ) );\n\t\t\tconst h = parseFloatWithUnits( node.getAttribute( 'height' ) );\n\n\t\t\t// Ellipse arc to Bezier approximation Coefficient (Inversed). See:\n\t\t\t// https://spencermortensen.com/articles/bezier-circle/\n\t\t\tconst bci = 1 - 0.551915024494;\n\n\t\t\tconst path = new ShapePath();\n\n\t\t\t// top left\n\t\t\tpath.moveTo( x + rx, y );\n\n\t\t\t// top right\n\t\t\tpath.lineTo( x + w - rx, y );\n\t\t\tif ( rx !== 0 || ry !== 0 ) {\n\n\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\tx + w - rx * bci,\n\t\t\t\t\ty,\n\t\t\t\t\tx + w,\n\t\t\t\t\ty + ry * bci,\n\t\t\t\t\tx + w,\n\t\t\t\t\ty + ry\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\t// bottom right\n\t\t\tpath.lineTo( x + w, y + h - ry );\n\t\t\tif ( rx !== 0 || ry !== 0 ) {\n\n\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\tx + w,\n\t\t\t\t\ty + h - ry * bci,\n\t\t\t\t\tx + w - rx * bci,\n\t\t\t\t\ty + h,\n\t\t\t\t\tx + w - rx,\n\t\t\t\t\ty + h\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\t// bottom left\n\t\t\tpath.lineTo( x + rx, y + h );\n\t\t\tif ( rx !== 0 || ry !== 0 ) {\n\n\t\t\t\tpath.bezierCurveTo(\n\t\t\t\t\tx + rx * bci,\n\t\t\t\t\ty + h,\n\t\t\t\t\tx,\n\t\t\t\t\ty + h - ry * bci,\n\t\t\t\t\tx,\n\t\t\t\t\ty + h - ry\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\t// back to top left\n\t\t\tpath.lineTo( x, y + ry );\n\t\t\tif ( rx !== 0 || ry !== 0 ) {\n\n\t\t\t\tpath.bezierCurveTo( x, y + ry * bci, x + rx * bci, y, x + rx, y );\n\n\t\t\t}\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parsePolygonNode( node ) {\n\n\t\t\tfunction iterator( match, a, b ) {\n\n\t\t\t\tconst x = parseFloatWithUnits( a );\n\t\t\t\tconst y = parseFloatWithUnits( b );\n\n\t\t\t\tif ( index === 0 ) {\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t}\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\tconst regex = /([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)(?:,|\\s)([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)/g;\n\n\t\t\tconst path = new ShapePath();\n\n\t\t\tlet index = 0;\n\n\t\t\tnode.getAttribute( 'points' ).replace( regex, iterator );\n\n\t\t\tpath.currentPath.autoClose = true;\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parsePolylineNode( node ) {\n\n\t\t\tfunction iterator( match, a, b ) {\n\n\t\t\t\tconst x = parseFloatWithUnits( a );\n\t\t\t\tconst y = parseFloatWithUnits( b );\n\n\t\t\t\tif ( index === 0 ) {\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t}\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\tconst regex = /([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)(?:,|\\s)([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)/g;\n\n\t\t\tconst path = new ShapePath();\n\n\t\t\tlet index = 0;\n\n\t\t\tnode.getAttribute( 'points' ).replace( regex, iterator );\n\n\t\t\tpath.currentPath.autoClose = false;\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parseCircleNode( node ) {\n\n\t\t\tconst x = parseFloatWithUnits( node.getAttribute( 'cx' ) || 0 );\n\t\t\tconst y = parseFloatWithUnits( node.getAttribute( 'cy' ) || 0 );\n\t\t\tconst r = parseFloatWithUnits( node.getAttribute( 'r' ) || 0 );\n\n\t\t\tconst subpath = new Path();\n\t\t\tsubpath.absarc( x, y, r, 0, Math.PI * 2 );\n\n\t\t\tconst path = new ShapePath();\n\t\t\tpath.subPaths.push( subpath );\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parseEllipseNode( node ) {\n\n\t\t\tconst x = parseFloatWithUnits( node.getAttribute( 'cx' ) || 0 );\n\t\t\tconst y = parseFloatWithUnits( node.getAttribute( 'cy' ) || 0 );\n\t\t\tconst rx = parseFloatWithUnits( node.getAttribute( 'rx' ) || 0 );\n\t\t\tconst ry = parseFloatWithUnits( node.getAttribute( 'ry' ) || 0 );\n\n\t\t\tconst subpath = new Path();\n\t\t\tsubpath.absellipse( x, y, rx, ry, 0, Math.PI * 2 );\n\n\t\t\tconst path = new ShapePath();\n\t\t\tpath.subPaths.push( subpath );\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\tfunction parseLineNode( node ) {\n\n\t\t\tconst x1 = parseFloatWithUnits( node.getAttribute( 'x1' ) || 0 );\n\t\t\tconst y1 = parseFloatWithUnits( node.getAttribute( 'y1' ) || 0 );\n\t\t\tconst x2 = parseFloatWithUnits( node.getAttribute( 'x2' ) || 0 );\n\t\t\tconst y2 = parseFloatWithUnits( node.getAttribute( 'y2' ) || 0 );\n\n\t\t\tconst path = new ShapePath();\n\t\t\tpath.moveTo( x1, y1 );\n\t\t\tpath.lineTo( x2, y2 );\n\t\t\tpath.currentPath.autoClose = false;\n\n\t\t\treturn path;\n\n\t\t}\n\n\t\t//\n\n\t\tfunction parseStyle( node, style ) {\n\n\t\t\tstyle = Object.assign( {}, style ); // clone style\n\n\t\t\tlet stylesheetStyles = {};\n\n\t\t\tif ( node.hasAttribute( 'class' ) ) {\n\n\t\t\t\tconst classSelectors = node.getAttribute( 'class' )\n\t\t\t\t\t.split( /\\s/ )\n\t\t\t\t\t.filter( Boolean )\n\t\t\t\t\t.map( i => i.trim() );\n\n\t\t\t\tfor ( let i = 0; i < classSelectors.length; i ++ ) {\n\n\t\t\t\t\tstylesheetStyles = Object.assign( stylesheetStyles, stylesheets[ '.' + classSelectors[ i ] ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( node.hasAttribute( 'id' ) ) {\n\n\t\t\t\tstylesheetStyles = Object.assign( stylesheetStyles, stylesheets[ '#' + node.getAttribute( 'id' ) ] );\n\n\t\t\t}\n\n\t\t\tfunction addStyle( svgName, jsName, adjustFunction ) {\n\n\t\t\t\tif ( adjustFunction === undefined ) adjustFunction = function copy( v ) {\n\n\t\t\t\t\tif ( v.startsWith( 'url' ) ) console.warn( 'SVGLoader: url access in attributes is not implemented.' );\n\n\t\t\t\t\treturn v;\n\n\t\t\t\t};\n\n\t\t\t\tif ( node.hasAttribute( svgName ) ) style[ jsName ] = adjustFunction( node.getAttribute( svgName ) );\n\t\t\t\tif ( stylesheetStyles[ svgName ] ) style[ jsName ] = adjustFunction( stylesheetStyles[ svgName ] );\n\t\t\t\tif ( node.style && node.style[ svgName ] !== '' ) style[ jsName ] = adjustFunction( node.style[ svgName ] );\n\n\t\t\t}\n\n\t\t\tfunction clamp( v ) {\n\n\t\t\t\treturn Math.max( 0, Math.min( 1, parseFloatWithUnits( v ) ) );\n\n\t\t\t}\n\n\t\t\tfunction positive( v ) {\n\n\t\t\t\treturn Math.max( 0, parseFloatWithUnits( v ) );\n\n\t\t\t}\n\n\t\t\taddStyle( 'fill', 'fill' );\n\t\t\taddStyle( 'fill-opacity', 'fillOpacity', clamp );\n\t\t\taddStyle( 'fill-rule', 'fillRule' );\n\t\t\taddStyle( 'opacity', 'opacity', clamp );\n\t\t\taddStyle( 'stroke', 'stroke' );\n\t\t\taddStyle( 'stroke-opacity', 'strokeOpacity', clamp );\n\t\t\taddStyle( 'stroke-width', 'strokeWidth', positive );\n\t\t\taddStyle( 'stroke-linejoin', 'strokeLineJoin' );\n\t\t\taddStyle( 'stroke-linecap', 'strokeLineCap' );\n\t\t\taddStyle( 'stroke-miterlimit', 'strokeMiterLimit', positive );\n\t\t\taddStyle( 'visibility', 'visibility' );\n\n\t\t\treturn style;\n\n\t\t}\n\n\t\t// http://www.w3.org/TR/SVG11/implnote.html#PathElementImplementationNotes\n\n\t\tfunction getReflection( a, b ) {\n\n\t\t\treturn a - ( b - a );\n\n\t\t}\n\n\t\t// from https://github.com/ppvg/svg-numbers (MIT License)\n\n\t\tfunction parseFloats( input, flags, stride ) {\n\n\t\t\tif ( typeof input !== 'string' ) {\n\n\t\t\t\tthrow new TypeError( 'Invalid input: ' + typeof input );\n\n\t\t\t}\n\n\t\t\t// Character groups\n\t\t\tconst RE = {\n\t\t\t\tSEPARATOR: /[ \\t\\r\\n\\,.\\-+]/,\n\t\t\t\tWHITESPACE: /[ \\t\\r\\n]/,\n\t\t\t\tDIGIT: /[\\d]/,\n\t\t\t\tSIGN: /[-+]/,\n\t\t\t\tPOINT: /\\./,\n\t\t\t\tCOMMA: /,/,\n\t\t\t\tEXP: /e/i,\n\t\t\t\tFLAGS: /[01]/\n\t\t\t};\n\n\t\t\t// States\n\t\t\tconst SEP = 0;\n\t\t\tconst INT = 1;\n\t\t\tconst FLOAT = 2;\n\t\t\tconst EXP = 3;\n\n\t\t\tlet state = SEP;\n\t\t\tlet seenComma = true;\n\t\t\tlet number = '', exponent = '';\n\t\t\tconst result = [];\n\n\t\t\tfunction throwSyntaxError( current, i, partial ) {\n\n\t\t\t\tconst error = new SyntaxError( 'Unexpected character \"' + current + '\" at index ' + i + '.' );\n\t\t\t\terror.partial = partial;\n\t\t\t\tthrow error;\n\n\t\t\t}\n\n\t\t\tfunction newNumber() {\n\n\t\t\t\tif ( number !== '' ) {\n\n\t\t\t\t\tif ( exponent === '' ) result.push( Number( number ) );\n\t\t\t\t\telse result.push( Number( number ) * Math.pow( 10, Number( exponent ) ) );\n\n\t\t\t\t}\n\n\t\t\t\tnumber = '';\n\t\t\t\texponent = '';\n\n\t\t\t}\n\n\t\t\tlet current;\n\t\t\tconst length = input.length;\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tcurrent = input[ i ];\n\n\t\t\t\t// check for flags\n\t\t\t\tif ( Array.isArray( flags ) && flags.includes( result.length % stride ) && RE.FLAGS.test( current ) ) {\n\n\t\t\t\t\tstate = INT;\n\t\t\t\t\tnumber = current;\n\t\t\t\t\tnewNumber();\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\t// parse until next number\n\t\t\t\tif ( state === SEP ) {\n\n\t\t\t\t\t// eat whitespace\n\t\t\t\t\tif ( RE.WHITESPACE.test( current ) ) {\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// start new number\n\t\t\t\t\tif ( RE.DIGIT.test( current ) || RE.SIGN.test( current ) ) {\n\n\t\t\t\t\t\tstate = INT;\n\t\t\t\t\t\tnumber = current;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( RE.POINT.test( current ) ) {\n\n\t\t\t\t\t\tstate = FLOAT;\n\t\t\t\t\t\tnumber = current;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// throw on double commas (e.g. \"1, , 2\")\n\t\t\t\t\tif ( RE.COMMA.test( current ) ) {\n\n\t\t\t\t\t\tif ( seenComma ) {\n\n\t\t\t\t\t\t\tthrowSyntaxError( current, i, result );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tseenComma = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// parse integer part\n\t\t\t\tif ( state === INT ) {\n\n\t\t\t\t\tif ( RE.DIGIT.test( current ) ) {\n\n\t\t\t\t\t\tnumber += current;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( RE.POINT.test( current ) ) {\n\n\t\t\t\t\t\tnumber += current;\n\t\t\t\t\t\tstate = FLOAT;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( RE.EXP.test( current ) ) {\n\n\t\t\t\t\t\tstate = EXP;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// throw on double signs (\"-+1\"), but not on sign as separator (\"-1-2\")\n\t\t\t\t\tif ( RE.SIGN.test( current )\n\t\t\t\t\t\t\t&& number.length === 1\n\t\t\t\t\t\t\t&& RE.SIGN.test( number[ 0 ] ) ) {\n\n\t\t\t\t\t\tthrowSyntaxError( current, i, result );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// parse decimal part\n\t\t\t\tif ( state === FLOAT ) {\n\n\t\t\t\t\tif ( RE.DIGIT.test( current ) ) {\n\n\t\t\t\t\t\tnumber += current;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( RE.EXP.test( current ) ) {\n\n\t\t\t\t\t\tstate = EXP;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// throw on double decimal points (e.g. \"1..2\")\n\t\t\t\t\tif ( RE.POINT.test( current ) && number[ number.length - 1 ] === '.' ) {\n\n\t\t\t\t\t\tthrowSyntaxError( current, i, result );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// parse exponent part\n\t\t\t\tif ( state === EXP ) {\n\n\t\t\t\t\tif ( RE.DIGIT.test( current ) ) {\n\n\t\t\t\t\t\texponent += current;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( RE.SIGN.test( current ) ) {\n\n\t\t\t\t\t\tif ( exponent === '' ) {\n\n\t\t\t\t\t\t\texponent += current;\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( exponent.length === 1 && RE.SIGN.test( exponent ) ) {\n\n\t\t\t\t\t\t\tthrowSyntaxError( current, i, result );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t// end of number\n\t\t\t\tif ( RE.WHITESPACE.test( current ) ) {\n\n\t\t\t\t\tnewNumber();\n\t\t\t\t\tstate = SEP;\n\t\t\t\t\tseenComma = false;\n\n\t\t\t\t} else if ( RE.COMMA.test( current ) ) {\n\n\t\t\t\t\tnewNumber();\n\t\t\t\t\tstate = SEP;\n\t\t\t\t\tseenComma = true;\n\n\t\t\t\t} else if ( RE.SIGN.test( current ) ) {\n\n\t\t\t\t\tnewNumber();\n\t\t\t\t\tstate = INT;\n\t\t\t\t\tnumber = current;\n\n\t\t\t\t} else if ( RE.POINT.test( current ) ) {\n\n\t\t\t\t\tnewNumber();\n\t\t\t\t\tstate = FLOAT;\n\t\t\t\t\tnumber = current;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrowSyntaxError( current, i, result );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add the last number found (if any)\n\t\t\tnewNumber();\n\n\t\t\treturn result;\n\n\t\t}\n\n\t\t// Units\n\n\t\tconst units = [ 'mm', 'cm', 'in', 'pt', 'pc', 'px' ];\n\n\t\t// Conversion: [ fromUnit ][ toUnit ] (-1 means dpi dependent)\n\t\tconst unitConversion = {\n\n\t\t\t'mm': {\n\t\t\t\t'mm': 1,\n\t\t\t\t'cm': 0.1,\n\t\t\t\t'in': 1 / 25.4,\n\t\t\t\t'pt': 72 / 25.4,\n\t\t\t\t'pc': 6 / 25.4,\n\t\t\t\t'px': - 1\n\t\t\t},\n\t\t\t'cm': {\n\t\t\t\t'mm': 10,\n\t\t\t\t'cm': 1,\n\t\t\t\t'in': 1 / 2.54,\n\t\t\t\t'pt': 72 / 2.54,\n\t\t\t\t'pc': 6 / 2.54,\n\t\t\t\t'px': - 1\n\t\t\t},\n\t\t\t'in': {\n\t\t\t\t'mm': 25.4,\n\t\t\t\t'cm': 2.54,\n\t\t\t\t'in': 1,\n\t\t\t\t'pt': 72,\n\t\t\t\t'pc': 6,\n\t\t\t\t'px': - 1\n\t\t\t},\n\t\t\t'pt': {\n\t\t\t\t'mm': 25.4 / 72,\n\t\t\t\t'cm': 2.54 / 72,\n\t\t\t\t'in': 1 / 72,\n\t\t\t\t'pt': 1,\n\t\t\t\t'pc': 6 / 72,\n\t\t\t\t'px': - 1\n\t\t\t},\n\t\t\t'pc': {\n\t\t\t\t'mm': 25.4 / 6,\n\t\t\t\t'cm': 2.54 / 6,\n\t\t\t\t'in': 1 / 6,\n\t\t\t\t'pt': 72 / 6,\n\t\t\t\t'pc': 1,\n\t\t\t\t'px': - 1\n\t\t\t},\n\t\t\t'px': {\n\t\t\t\t'px': 1\n\t\t\t}\n\n\t\t};\n\n\t\tfunction parseFloatWithUnits( string ) {\n\n\t\t\tlet theUnit = 'px';\n\n\t\t\tif ( typeof string === 'string' || string instanceof String ) {\n\n\t\t\t\tfor ( let i = 0, n = units.length; i < n; i ++ ) {\n\n\t\t\t\t\tconst u = units[ i ];\n\n\t\t\t\t\tif ( string.endsWith( u ) ) {\n\n\t\t\t\t\t\ttheUnit = u;\n\t\t\t\t\t\tstring = string.substring( 0, string.length - u.length );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tlet scale = undefined;\n\n\t\t\tif ( theUnit === 'px' && scope.defaultUnit !== 'px' ) {\n\n\t\t\t\t// Conversion scale from  pixels to inches, then to default units\n\n\t\t\t\tscale = unitConversion[ 'in' ][ scope.defaultUnit ] / scope.defaultDPI;\n\n\t\t\t} else {\n\n\t\t\t\tscale = unitConversion[ theUnit ][ scope.defaultUnit ];\n\n\t\t\t\tif ( scale < 0 ) {\n\n\t\t\t\t\t// Conversion scale to pixels\n\n\t\t\t\t\tscale = unitConversion[ theUnit ][ 'in' ] * scope.defaultDPI;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn scale * parseFloat( string );\n\n\t\t}\n\n\t\t// Transforms\n\n\t\tfunction getNodeTransform( node ) {\n\n\t\t\tif ( ! ( node.hasAttribute( 'transform' ) || ( node.nodeName === 'use' && ( node.hasAttribute( 'x' ) || node.hasAttribute( 'y' ) ) ) ) ) {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tconst transform = parseNodeTransform( node );\n\n\t\t\tif ( transformStack.length > 0 ) {\n\n\t\t\t\ttransform.premultiply( transformStack[ transformStack.length - 1 ] );\n\n\t\t\t}\n\n\t\t\tcurrentTransform.copy( transform );\n\t\t\ttransformStack.push( transform );\n\n\t\t\treturn transform;\n\n\t\t}\n\n\t\tfunction parseNodeTransform( node ) {\n\n\t\t\tconst transform = new Matrix3();\n\t\t\tconst currentTransform = tempTransform0;\n\n\t\t\tif ( node.nodeName === 'use' && ( node.hasAttribute( 'x' ) || node.hasAttribute( 'y' ) ) ) {\n\n\t\t\t\tconst tx = parseFloatWithUnits( node.getAttribute( 'x' ) );\n\t\t\t\tconst ty = parseFloatWithUnits( node.getAttribute( 'y' ) );\n\n\t\t\t\ttransform.translate( tx, ty );\n\n\t\t\t}\n\n\t\t\tif ( node.hasAttribute( 'transform' ) ) {\n\n\t\t\t\tconst transformsTexts = node.getAttribute( 'transform' ).split( ')' );\n\n\t\t\t\tfor ( let tIndex = transformsTexts.length - 1; tIndex >= 0; tIndex -- ) {\n\n\t\t\t\t\tconst transformText = transformsTexts[ tIndex ].trim();\n\n\t\t\t\t\tif ( transformText === '' ) continue;\n\n\t\t\t\t\tconst openParPos = transformText.indexOf( '(' );\n\t\t\t\t\tconst closeParPos = transformText.length;\n\n\t\t\t\t\tif ( openParPos > 0 && openParPos < closeParPos ) {\n\n\t\t\t\t\t\tconst transformType = transformText.slice( 0, openParPos );\n\n\t\t\t\t\t\tconst array = parseFloats( transformText.slice( openParPos + 1 ) );\n\n\t\t\t\t\t\tcurrentTransform.identity();\n\n\t\t\t\t\t\tswitch ( transformType ) {\n\n\t\t\t\t\t\t\tcase 'translate':\n\n\t\t\t\t\t\t\t\tif ( array.length >= 1 ) {\n\n\t\t\t\t\t\t\t\t\tconst tx = array[ 0 ];\n\t\t\t\t\t\t\t\t\tlet ty = 0;\n\n\t\t\t\t\t\t\t\t\tif ( array.length >= 2 ) {\n\n\t\t\t\t\t\t\t\t\t\tty = array[ 1 ];\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcurrentTransform.translate( tx, ty );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'rotate':\n\n\t\t\t\t\t\t\t\tif ( array.length >= 1 ) {\n\n\t\t\t\t\t\t\t\t\tlet angle = 0;\n\t\t\t\t\t\t\t\t\tlet cx = 0;\n\t\t\t\t\t\t\t\t\tlet cy = 0;\n\n\t\t\t\t\t\t\t\t\t// Angle\n\t\t\t\t\t\t\t\t\tangle = array[ 0 ] * Math.PI / 180;\n\n\t\t\t\t\t\t\t\t\tif ( array.length >= 3 ) {\n\n\t\t\t\t\t\t\t\t\t\t// Center x, y\n\t\t\t\t\t\t\t\t\t\tcx = array[ 1 ];\n\t\t\t\t\t\t\t\t\t\tcy = array[ 2 ];\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Rotate around center (cx, cy)\n\t\t\t\t\t\t\t\t\ttempTransform1.makeTranslation( - cx, - cy );\n\t\t\t\t\t\t\t\t\ttempTransform2.makeRotation( angle );\n\t\t\t\t\t\t\t\t\ttempTransform3.multiplyMatrices( tempTransform2, tempTransform1 );\n\t\t\t\t\t\t\t\t\ttempTransform1.makeTranslation( cx, cy );\n\t\t\t\t\t\t\t\t\tcurrentTransform.multiplyMatrices( tempTransform1, tempTransform3 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'scale':\n\n\t\t\t\t\t\t\t\tif ( array.length >= 1 ) {\n\n\t\t\t\t\t\t\t\t\tconst scaleX = array[ 0 ];\n\t\t\t\t\t\t\t\t\tlet scaleY = scaleX;\n\n\t\t\t\t\t\t\t\t\tif ( array.length >= 2 ) {\n\n\t\t\t\t\t\t\t\t\t\tscaleY = array[ 1 ];\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcurrentTransform.scale( scaleX, scaleY );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'skewX':\n\n\t\t\t\t\t\t\t\tif ( array.length === 1 ) {\n\n\t\t\t\t\t\t\t\t\tcurrentTransform.set(\n\t\t\t\t\t\t\t\t\t\t1, Math.tan( array[ 0 ] * Math.PI / 180 ), 0,\n\t\t\t\t\t\t\t\t\t\t0, 1, 0,\n\t\t\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'skewY':\n\n\t\t\t\t\t\t\t\tif ( array.length === 1 ) {\n\n\t\t\t\t\t\t\t\t\tcurrentTransform.set(\n\t\t\t\t\t\t\t\t\t\t1, 0, 0,\n\t\t\t\t\t\t\t\t\t\tMath.tan( array[ 0 ] * Math.PI / 180 ), 1, 0,\n\t\t\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 'matrix':\n\n\t\t\t\t\t\t\t\tif ( array.length === 6 ) {\n\n\t\t\t\t\t\t\t\t\tcurrentTransform.set(\n\t\t\t\t\t\t\t\t\t\tarray[ 0 ], array[ 2 ], array[ 4 ],\n\t\t\t\t\t\t\t\t\t\tarray[ 1 ], array[ 3 ], array[ 5 ],\n\t\t\t\t\t\t\t\t\t\t0, 0, 1\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttransform.premultiply( currentTransform );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn transform;\n\n\t\t}\n\n\t\tfunction transformPath( path, m ) {\n\n\t\t\tfunction transfVec2( v2 ) {\n\n\t\t\t\ttempV3.set( v2.x, v2.y, 1 ).applyMatrix3( m );\n\n\t\t\t\tv2.set( tempV3.x, tempV3.y );\n\n\t\t\t}\n\n\t\t\tfunction transfEllipseGeneric( curve ) {\n\n\t\t\t\t// For math description see:\n\t\t\t\t// https://math.stackexchange.com/questions/4544164\n\n\t\t\t\tconst a = curve.xRadius;\n\t\t\t\tconst b = curve.yRadius;\n\n\t\t\t\tconst cosTheta = Math.cos( curve.aRotation );\n\t\t\t\tconst sinTheta = Math.sin( curve.aRotation );\n\n\t\t\t\tconst v1 = new Vector3( a * cosTheta, a * sinTheta, 0 );\n\t\t\t\tconst v2 = new Vector3( - b * sinTheta, b * cosTheta, 0 );\n\n\t\t\t\tconst f1 = v1.applyMatrix3( m );\n\t\t\t\tconst f2 = v2.applyMatrix3( m );\n\n\t\t\t\tconst mF = tempTransform0.set(\n\t\t\t\t\tf1.x, f2.x, 0,\n\t\t\t\t\tf1.y, f2.y, 0,\n\t\t\t\t\t0, 0, 1,\n\t\t\t\t);\n\n\t\t\t\tconst mFInv = tempTransform1.copy( mF ).invert();\n\t\t\t\tconst mFInvT = tempTransform2.copy( mFInv ).transpose();\n\t\t\t\tconst mQ = mFInvT.multiply( mFInv );\n\t\t\t\tconst mQe = mQ.elements;\n\n\t\t\t\tconst ed = eigenDecomposition( mQe[ 0 ], mQe[ 1 ], mQe[ 4 ] );\n\t\t\t\tconst rt1sqrt = Math.sqrt( ed.rt1 );\n\t\t\t\tconst rt2sqrt = Math.sqrt( ed.rt2 );\n\n\t\t\t\tcurve.xRadius = 1 / rt1sqrt;\n\t\t\t\tcurve.yRadius = 1 / rt2sqrt;\n\t\t\t\tcurve.aRotation = Math.atan2( ed.sn, ed.cs );\n\n\t\t\t\tconst isFullEllipse =\n\t\t\t\t\t( curve.aEndAngle - curve.aStartAngle ) % ( 2 * Math.PI ) < Number.EPSILON;\n\n\t\t\t\t// Do not touch angles of a full ellipse because after transformation they\n\t\t\t\t// would converge to a single value effectively removing the whole curve\n\n\t\t\t\tif ( ! isFullEllipse ) {\n\n\t\t\t\t\tconst mDsqrt = tempTransform1.set(\n\t\t\t\t\t\trt1sqrt, 0, 0,\n\t\t\t\t\t\t0, rt2sqrt, 0,\n\t\t\t\t\t\t0, 0, 1,\n\t\t\t\t\t);\n\n\t\t\t\t\tconst mRT = tempTransform2.set(\n\t\t\t\t\t\ted.cs, ed.sn, 0,\n\t\t\t\t\t\t- ed.sn, ed.cs, 0,\n\t\t\t\t\t\t0, 0, 1,\n\t\t\t\t\t);\n\n\t\t\t\t\tconst mDRF = mDsqrt.multiply( mRT ).multiply( mF );\n\n\t\t\t\t\tconst transformAngle = phi => {\n\n\t\t\t\t\t\tconst { x: cosR, y: sinR } =\n\t\t\t\t\t\t\tnew Vector3( Math.cos( phi ), Math.sin( phi ), 0 ).applyMatrix3( mDRF );\n\n\t\t\t\t\t\treturn Math.atan2( sinR, cosR );\n\n\t\t\t\t\t};\n\n\t\t\t\t\tcurve.aStartAngle = transformAngle( curve.aStartAngle );\n\t\t\t\t\tcurve.aEndAngle = transformAngle( curve.aEndAngle );\n\n\t\t\t\t\tif ( isTransformFlipped( m ) ) {\n\n\t\t\t\t\t\tcurve.aClockwise = ! curve.aClockwise;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction transfEllipseNoSkew( curve ) {\n\n\t\t\t\t// Faster shortcut if no skew is applied\n\t\t\t\t// (e.g, a euclidean transform of a group containing the ellipse)\n\n\t\t\t\tconst sx = getTransformScaleX( m );\n\t\t\t\tconst sy = getTransformScaleY( m );\n\n\t\t\t\tcurve.xRadius *= sx;\n\t\t\t\tcurve.yRadius *= sy;\n\n\t\t\t\t// Extract rotation angle from the matrix of form:\n\t\t\t\t//\n\t\t\t\t//  | cosθ sx   -sinθ sy |\n\t\t\t\t//  | sinθ sx    cosθ sy |\n\t\t\t\t//\n\t\t\t\t// Remembering that tanθ = sinθ / cosθ; and that\n\t\t\t\t// `sx`, `sy`, or both might be zero.\n\t\t\t\tconst theta =\n\t\t\t\t\tsx > Number.EPSILON\n\t\t\t\t\t\t? Math.atan2( m.elements[ 1 ], m.elements[ 0 ] )\n\t\t\t\t\t\t: Math.atan2( - m.elements[ 3 ], m.elements[ 4 ] );\n\n\t\t\t\tcurve.aRotation += theta;\n\n\t\t\t\tif ( isTransformFlipped( m ) ) {\n\n\t\t\t\t\tcurve.aStartAngle *= - 1;\n\t\t\t\t\tcurve.aEndAngle *= - 1;\n\t\t\t\t\tcurve.aClockwise = ! curve.aClockwise;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst subPaths = path.subPaths;\n\n\t\t\tfor ( let i = 0, n = subPaths.length; i < n; i ++ ) {\n\n\t\t\t\tconst subPath = subPaths[ i ];\n\t\t\t\tconst curves = subPath.curves;\n\n\t\t\t\tfor ( let j = 0; j < curves.length; j ++ ) {\n\n\t\t\t\t\tconst curve = curves[ j ];\n\n\t\t\t\t\tif ( curve.isLineCurve ) {\n\n\t\t\t\t\t\ttransfVec2( curve.v1 );\n\t\t\t\t\t\ttransfVec2( curve.v2 );\n\n\t\t\t\t\t} else if ( curve.isCubicBezierCurve ) {\n\n\t\t\t\t\t\ttransfVec2( curve.v0 );\n\t\t\t\t\t\ttransfVec2( curve.v1 );\n\t\t\t\t\t\ttransfVec2( curve.v2 );\n\t\t\t\t\t\ttransfVec2( curve.v3 );\n\n\t\t\t\t\t} else if ( curve.isQuadraticBezierCurve ) {\n\n\t\t\t\t\t\ttransfVec2( curve.v0 );\n\t\t\t\t\t\ttransfVec2( curve.v1 );\n\t\t\t\t\t\ttransfVec2( curve.v2 );\n\n\t\t\t\t\t} else if ( curve.isEllipseCurve ) {\n\n\t\t\t\t\t\t// Transform ellipse center point\n\n\t\t\t\t\t\ttempV2.set( curve.aX, curve.aY );\n\t\t\t\t\t\ttransfVec2( tempV2 );\n\t\t\t\t\t\tcurve.aX = tempV2.x;\n\t\t\t\t\t\tcurve.aY = tempV2.y;\n\n\t\t\t\t\t\t// Transform ellipse shape parameters\n\n\t\t\t\t\t\tif ( isTransformSkewed( m ) ) {\n\n\t\t\t\t\t\t\ttransfEllipseGeneric( curve );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttransfEllipseNoSkew( curve );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction isTransformFlipped( m ) {\n\n\t\t\tconst te = m.elements;\n\t\t\treturn te[ 0 ] * te[ 4 ] - te[ 1 ] * te[ 3 ] < 0;\n\n\t\t}\n\n\t\tfunction isTransformSkewed( m ) {\n\n\t\t\tconst te = m.elements;\n\t\t\tconst basisDot = te[ 0 ] * te[ 3 ] + te[ 1 ] * te[ 4 ];\n\n\t\t\t// Shortcut for trivial rotations and transformations\n\t\t\tif ( basisDot === 0 ) return false;\n\n\t\t\tconst sx = getTransformScaleX( m );\n\t\t\tconst sy = getTransformScaleY( m );\n\n\t\t\treturn Math.abs( basisDot / ( sx * sy ) ) > Number.EPSILON;\n\n\t\t}\n\n\t\tfunction getTransformScaleX( m ) {\n\n\t\t\tconst te = m.elements;\n\t\t\treturn Math.sqrt( te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] );\n\n\t\t}\n\n\t\tfunction getTransformScaleY( m ) {\n\n\t\t\tconst te = m.elements;\n\t\t\treturn Math.sqrt( te[ 3 ] * te[ 3 ] + te[ 4 ] * te[ 4 ] );\n\n\t\t}\n\n\t\t// Calculates the eigensystem of a real symmetric 2x2 matrix\n\t\t//    [ A  B ]\n\t\t//    [ B  C ]\n\t\t// in the form\n\t\t//    [ A  B ]  =  [ cs  -sn ] [ rt1   0  ] [  cs  sn ]\n\t\t//    [ B  C ]     [ sn   cs ] [  0   rt2 ] [ -sn  cs ]\n\t\t// where rt1 >= rt2.\n\t\t//\n\t\t// Adapted from: https://www.mpi-hd.mpg.de/personalhomes/globes/3x3/index.html\n\t\t// -> Algorithms for real symmetric matrices -> Analytical (2x2 symmetric)\n\t\tfunction eigenDecomposition( A, B, C ) {\n\n\t\t\tlet rt1, rt2, cs, sn, t;\n\t\t\tconst sm = A + C;\n\t\t\tconst df = A - C;\n\t\t\tconst rt = Math.sqrt( df * df + 4 * B * B );\n\n\t\t\tif ( sm > 0 ) {\n\n\t\t\t\trt1 = 0.5 * ( sm + rt );\n\t\t\t\tt = 1 / rt1;\n\t\t\t\trt2 = A * t * C - B * t * B;\n\n\t\t\t} else if ( sm < 0 ) {\n\n\t\t\t\trt2 = 0.5 * ( sm - rt );\n\n\t\t\t} else {\n\n\t\t\t\t// This case needs to be treated separately to avoid div by 0\n\n\t\t\t\trt1 = 0.5 * rt;\n\t\t\t\trt2 = - 0.5 * rt;\n\n\t\t\t}\n\n\t\t\t// Calculate eigenvectors\n\n\t\t\tif ( df > 0 ) {\n\n\t\t\t\tcs = df + rt;\n\n\t\t\t} else {\n\n\t\t\t\tcs = df - rt;\n\n\t\t\t}\n\n\t\t\tif ( Math.abs( cs ) > 2 * Math.abs( B ) ) {\n\n\t\t\t\tt = - 2 * B / cs;\n\t\t\t\tsn = 1 / Math.sqrt( 1 + t * t );\n\t\t\t\tcs = t * sn;\n\n\t\t\t} else if ( Math.abs( B ) === 0 ) {\n\n\t\t\t\tcs = 1;\n\t\t\t\tsn = 0;\n\n\t\t\t} else {\n\n\t\t\t\tt = - 0.5 * cs / B;\n\t\t\t\tcs = 1 / Math.sqrt( 1 + t * t );\n\t\t\t\tsn = t * cs;\n\n\t\t\t}\n\n\t\t\tif ( df > 0 ) {\n\n\t\t\t\tt = cs;\n\t\t\t\tcs = - sn;\n\t\t\t\tsn = t;\n\n\t\t\t}\n\n\t\t\treturn { rt1, rt2, cs, sn };\n\n\t\t}\n\n\t\t//\n\n\t\tconst paths = [];\n\t\tconst stylesheets = {};\n\n\t\tconst transformStack = [];\n\n\t\tconst tempTransform0 = new Matrix3();\n\t\tconst tempTransform1 = new Matrix3();\n\t\tconst tempTransform2 = new Matrix3();\n\t\tconst tempTransform3 = new Matrix3();\n\t\tconst tempV2 = new Vector2();\n\t\tconst tempV3 = new Vector3();\n\n\t\tconst currentTransform = new Matrix3();\n\n\t\tconst xml = new DOMParser().parseFromString( text, 'image/svg+xml' ); // application/xml\n\n\t\tparseNode( xml.documentElement, {\n\t\t\tfill: '#000',\n\t\t\tfillOpacity: 1,\n\t\t\tstrokeOpacity: 1,\n\t\t\tstrokeWidth: 1,\n\t\t\tstrokeLineJoin: 'miter',\n\t\t\tstrokeLineCap: 'butt',\n\t\t\tstrokeMiterLimit: 4\n\t\t} );\n\n\t\tconst data = { paths: paths, xml: xml.documentElement };\n\n\t\t// console.log( paths );\n\t\treturn data;\n\n\t}\n\n\tstatic createShapes( shapePath ) {\n\n\t\t// Param shapePath: a shapepath as returned by the parse function of this class\n\t\t// Returns Shape object\n\n\t\tconst BIGNUMBER = 999999999;\n\n\t\tconst IntersectionLocationType = {\n\t\t\tORIGIN: 0,\n\t\t\tDESTINATION: 1,\n\t\t\tBETWEEN: 2,\n\t\t\tLEFT: 3,\n\t\t\tRIGHT: 4,\n\t\t\tBEHIND: 5,\n\t\t\tBEYOND: 6\n\t\t};\n\n\t\tconst classifyResult = {\n\t\t\tloc: IntersectionLocationType.ORIGIN,\n\t\t\tt: 0\n\t\t};\n\n\t\tfunction findEdgeIntersection( a0, a1, b0, b1 ) {\n\n\t\t\tconst x1 = a0.x;\n\t\t\tconst x2 = a1.x;\n\t\t\tconst x3 = b0.x;\n\t\t\tconst x4 = b1.x;\n\t\t\tconst y1 = a0.y;\n\t\t\tconst y2 = a1.y;\n\t\t\tconst y3 = b0.y;\n\t\t\tconst y4 = b1.y;\n\t\t\tconst nom1 = ( x4 - x3 ) * ( y1 - y3 ) - ( y4 - y3 ) * ( x1 - x3 );\n\t\t\tconst nom2 = ( x2 - x1 ) * ( y1 - y3 ) - ( y2 - y1 ) * ( x1 - x3 );\n\t\t\tconst denom = ( y4 - y3 ) * ( x2 - x1 ) - ( x4 - x3 ) * ( y2 - y1 );\n\t\t\tconst t1 = nom1 / denom;\n\t\t\tconst t2 = nom2 / denom;\n\n\t\t\tif ( ( ( denom === 0 ) && ( nom1 !== 0 ) ) || ( t1 <= 0 ) || ( t1 >= 1 ) || ( t2 < 0 ) || ( t2 > 1 ) ) {\n\n\t\t\t\t//1. lines are parallel or edges don't intersect\n\n\t\t\t\treturn null;\n\n\t\t\t} else if ( ( nom1 === 0 ) && ( denom === 0 ) ) {\n\n\t\t\t\t//2. lines are colinear\n\n\t\t\t\t//check if endpoints of edge2 (b0-b1) lies on edge1 (a0-a1)\n\t\t\t\tfor ( let i = 0; i < 2; i ++ ) {\n\n\t\t\t\t\tclassifyPoint( i === 0 ? b0 : b1, a0, a1 );\n\t\t\t\t\t//find position of this endpoints relatively to edge1\n\t\t\t\t\tif ( classifyResult.loc == IntersectionLocationType.ORIGIN ) {\n\n\t\t\t\t\t\tconst point = ( i === 0 ? b0 : b1 );\n\t\t\t\t\t\treturn { x: point.x, y: point.y, t: classifyResult.t };\n\n\t\t\t\t\t} else if ( classifyResult.loc == IntersectionLocationType.BETWEEN ) {\n\n\t\t\t\t\t\tconst x = + ( ( x1 + classifyResult.t * ( x2 - x1 ) ).toPrecision( 10 ) );\n\t\t\t\t\t\tconst y = + ( ( y1 + classifyResult.t * ( y2 - y1 ) ).toPrecision( 10 ) );\n\t\t\t\t\t\treturn { x: x, y: y, t: classifyResult.t, };\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t} else {\n\n\t\t\t\t//3. edges intersect\n\n\t\t\t\tfor ( let i = 0; i < 2; i ++ ) {\n\n\t\t\t\t\tclassifyPoint( i === 0 ? b0 : b1, a0, a1 );\n\n\t\t\t\t\tif ( classifyResult.loc == IntersectionLocationType.ORIGIN ) {\n\n\t\t\t\t\t\tconst point = ( i === 0 ? b0 : b1 );\n\t\t\t\t\t\treturn { x: point.x, y: point.y, t: classifyResult.t };\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst x = + ( ( x1 + t1 * ( x2 - x1 ) ).toPrecision( 10 ) );\n\t\t\t\tconst y = + ( ( y1 + t1 * ( y2 - y1 ) ).toPrecision( 10 ) );\n\t\t\t\treturn { x: x, y: y, t: t1 };\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction classifyPoint( p, edgeStart, edgeEnd ) {\n\n\t\t\tconst ax = edgeEnd.x - edgeStart.x;\n\t\t\tconst ay = edgeEnd.y - edgeStart.y;\n\t\t\tconst bx = p.x - edgeStart.x;\n\t\t\tconst by = p.y - edgeStart.y;\n\t\t\tconst sa = ax * by - bx * ay;\n\n\t\t\tif ( ( p.x === edgeStart.x ) && ( p.y === edgeStart.y ) ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.ORIGIN;\n\t\t\t\tclassifyResult.t = 0;\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( ( p.x === edgeEnd.x ) && ( p.y === edgeEnd.y ) ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.DESTINATION;\n\t\t\t\tclassifyResult.t = 1;\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( sa < - Number.EPSILON ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.LEFT;\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( sa > Number.EPSILON ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.RIGHT;\n\t\t\t\treturn;\n\n\n\t\t\t}\n\n\t\t\tif ( ( ( ax * bx ) < 0 ) || ( ( ay * by ) < 0 ) ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.BEHIND;\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( ( Math.sqrt( ax * ax + ay * ay ) ) < ( Math.sqrt( bx * bx + by * by ) ) ) {\n\n\t\t\t\tclassifyResult.loc = IntersectionLocationType.BEYOND;\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tlet t;\n\n\t\t\tif ( ax !== 0 ) {\n\n\t\t\t\tt = bx / ax;\n\n\t\t\t} else {\n\n\t\t\t\tt = by / ay;\n\n\t\t\t}\n\n\t\t\tclassifyResult.loc = IntersectionLocationType.BETWEEN;\n\t\t\tclassifyResult.t = t;\n\n\t\t}\n\n\t\tfunction getIntersections( path1, path2 ) {\n\n\t\t\tconst intersectionsRaw = [];\n\t\t\tconst intersections = [];\n\n\t\t\tfor ( let index = 1; index < path1.length; index ++ ) {\n\n\t\t\t\tconst path1EdgeStart = path1[ index - 1 ];\n\t\t\t\tconst path1EdgeEnd = path1[ index ];\n\n\t\t\t\tfor ( let index2 = 1; index2 < path2.length; index2 ++ ) {\n\n\t\t\t\t\tconst path2EdgeStart = path2[ index2 - 1 ];\n\t\t\t\t\tconst path2EdgeEnd = path2[ index2 ];\n\n\t\t\t\t\tconst intersection = findEdgeIntersection( path1EdgeStart, path1EdgeEnd, path2EdgeStart, path2EdgeEnd );\n\n\t\t\t\t\tif ( intersection !== null && intersectionsRaw.find( i => i.t <= intersection.t + Number.EPSILON && i.t >= intersection.t - Number.EPSILON ) === undefined ) {\n\n\t\t\t\t\t\tintersectionsRaw.push( intersection );\n\t\t\t\t\t\tintersections.push( new Vector2( intersection.x, intersection.y ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn intersections;\n\n\t\t}\n\n\t\tfunction getScanlineIntersections( scanline, boundingBox, paths ) {\n\n\t\t\tconst center = new Vector2();\n\t\t\tboundingBox.getCenter( center );\n\n\t\t\tconst allIntersections = [];\n\n\t\t\tpaths.forEach( path => {\n\n\t\t\t\t// check if the center of the bounding box is in the bounding box of the paths.\n\t\t\t\t// this is a pruning method to limit the search of intersections in paths that can't envelop of the current path.\n\t\t\t\t// if a path envelops another path. The center of that other path, has to be inside the bounding box of the enveloping path.\n\t\t\t\tif ( path.boundingBox.containsPoint( center ) ) {\n\n\t\t\t\t\tconst intersections = getIntersections( scanline, path.points );\n\n\t\t\t\t\tintersections.forEach( p => {\n\n\t\t\t\t\t\tallIntersections.push( { identifier: path.identifier, isCW: path.isCW, point: p } );\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tallIntersections.sort( ( i1, i2 ) => {\n\n\t\t\t\treturn i1.point.x - i2.point.x;\n\n\t\t\t} );\n\n\t\t\treturn allIntersections;\n\n\t\t}\n\n\t\tfunction isHoleTo( simplePath, allPaths, scanlineMinX, scanlineMaxX, _fillRule ) {\n\n\t\t\tif ( _fillRule === null || _fillRule === undefined || _fillRule === '' ) {\n\n\t\t\t\t_fillRule = 'nonzero';\n\n\t\t\t}\n\n\t\t\tconst centerBoundingBox = new Vector2();\n\t\t\tsimplePath.boundingBox.getCenter( centerBoundingBox );\n\n\t\t\tconst scanline = [ new Vector2( scanlineMinX, centerBoundingBox.y ), new Vector2( scanlineMaxX, centerBoundingBox.y ) ];\n\n\t\t\tconst scanlineIntersections = getScanlineIntersections( scanline, simplePath.boundingBox, allPaths );\n\n\t\t\tscanlineIntersections.sort( ( i1, i2 ) => {\n\n\t\t\t\treturn i1.point.x - i2.point.x;\n\n\t\t\t} );\n\n\t\t\tconst baseIntersections = [];\n\t\t\tconst otherIntersections = [];\n\n\t\t\tscanlineIntersections.forEach( i => {\n\n\t\t\t\tif ( i.identifier === simplePath.identifier ) {\n\n\t\t\t\t\tbaseIntersections.push( i );\n\n\t\t\t\t} else {\n\n\t\t\t\t\totherIntersections.push( i );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tconst firstXOfPath = baseIntersections[ 0 ].point.x;\n\n\t\t\t// build up the path hierarchy\n\t\t\tconst stack = [];\n\t\t\tlet i = 0;\n\n\t\t\twhile ( i < otherIntersections.length && otherIntersections[ i ].point.x < firstXOfPath ) {\n\n\t\t\t\tif ( stack.length > 0 && stack[ stack.length - 1 ] === otherIntersections[ i ].identifier ) {\n\n\t\t\t\t\tstack.pop();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstack.push( otherIntersections[ i ].identifier );\n\n\t\t\t\t}\n\n\t\t\t\ti ++;\n\n\t\t\t}\n\n\t\t\tstack.push( simplePath.identifier );\n\n\t\t\tif ( _fillRule === 'evenodd' ) {\n\n\t\t\t\tconst isHole = stack.length % 2 === 0 ? true : false;\n\t\t\t\tconst isHoleFor = stack[ stack.length - 2 ];\n\n\t\t\t\treturn { identifier: simplePath.identifier, isHole: isHole, for: isHoleFor };\n\n\t\t\t} else if ( _fillRule === 'nonzero' ) {\n\n\t\t\t\t// check if path is a hole by counting the amount of paths with alternating rotations it has to cross.\n\t\t\t\tlet isHole = true;\n\t\t\t\tlet isHoleFor = null;\n\t\t\t\tlet lastCWValue = null;\n\n\t\t\t\tfor ( let i = 0; i < stack.length; i ++ ) {\n\n\t\t\t\t\tconst identifier = stack[ i ];\n\t\t\t\t\tif ( isHole ) {\n\n\t\t\t\t\t\tlastCWValue = allPaths[ identifier ].isCW;\n\t\t\t\t\t\tisHole = false;\n\t\t\t\t\t\tisHoleFor = identifier;\n\n\t\t\t\t\t} else if ( lastCWValue !== allPaths[ identifier ].isCW ) {\n\n\t\t\t\t\t\tlastCWValue = allPaths[ identifier ].isCW;\n\t\t\t\t\t\tisHole = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn { identifier: simplePath.identifier, isHole: isHole, for: isHoleFor };\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'fill-rule: \"' + _fillRule + '\" is currently not implemented.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// check for self intersecting paths\n\t\t// TODO\n\n\t\t// check intersecting paths\n\t\t// TODO\n\n\t\t// prepare paths for hole detection\n\t\tlet scanlineMinX = BIGNUMBER;\n\t\tlet scanlineMaxX = - BIGNUMBER;\n\n\t\tlet simplePaths = shapePath.subPaths.map( p => {\n\n\t\t\tconst points = p.getPoints();\n\t\t\tlet maxY = - BIGNUMBER;\n\t\t\tlet minY = BIGNUMBER;\n\t\t\tlet maxX = - BIGNUMBER;\n\t\t\tlet minX = BIGNUMBER;\n\n\t      \t//points.forEach(p => p.y *= -1);\n\n\t\t\tfor ( let i = 0; i < points.length; i ++ ) {\n\n\t\t\t\tconst p = points[ i ];\n\n\t\t\t\tif ( p.y > maxY ) {\n\n\t\t\t\t\tmaxY = p.y;\n\n\t\t\t\t}\n\n\t\t\t\tif ( p.y < minY ) {\n\n\t\t\t\t\tminY = p.y;\n\n\t\t\t\t}\n\n\t\t\t\tif ( p.x > maxX ) {\n\n\t\t\t\t\tmaxX = p.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( p.x < minX ) {\n\n\t\t\t\t\tminX = p.x;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\t\t\tif ( scanlineMaxX <= maxX ) {\n\n\t\t\t\tscanlineMaxX = maxX + 1;\n\n\t\t\t}\n\n\t\t\tif ( scanlineMinX >= minX ) {\n\n\t\t\t\tscanlineMinX = minX - 1;\n\n\t\t\t}\n\n\t\t\treturn { curves: p.curves, points: points, isCW: ShapeUtils.isClockWise( points ), identifier: - 1, boundingBox: new Box2( new Vector2( minX, minY ), new Vector2( maxX, maxY ) ) };\n\n\t\t} );\n\n\t\tsimplePaths = simplePaths.filter( sp => sp.points.length > 1 );\n\n\t\tfor ( let identifier = 0; identifier < simplePaths.length; identifier ++ ) {\n\n\t\t\tsimplePaths[ identifier ].identifier = identifier;\n\n\t\t}\n\n\t\t// check if path is solid or a hole\n\t\tconst isAHole = simplePaths.map( p => isHoleTo( p, simplePaths, scanlineMinX, scanlineMaxX, ( shapePath.userData ? shapePath.userData.style.fillRule : undefined ) ) );\n\n\n\t\tconst shapesToReturn = [];\n\t\tsimplePaths.forEach( p => {\n\n\t\t\tconst amIAHole = isAHole[ p.identifier ];\n\n\t\t\tif ( ! amIAHole.isHole ) {\n\n\t\t\t\tconst shape = new Shape();\n\t\t\t\tshape.curves = p.curves;\n\t\t\t\tconst holes = isAHole.filter( h => h.isHole && h.for === p.identifier );\n\t\t\t\tholes.forEach( h => {\n\n\t\t\t\t\tconst hole = simplePaths[ h.identifier ];\n\t\t\t\t\tconst path = new Path();\n\t\t\t\t\tpath.curves = hole.curves;\n\t\t\t\t\tshape.holes.push( path );\n\n\t\t\t\t} );\n\t\t\t\tshapesToReturn.push( shape );\n\n\t\t\t}\n\n\t\t} );\n\n\t\treturn shapesToReturn;\n\n\t}\n\n\tstatic getStrokeStyle( width, color, lineJoin, lineCap, miterLimit ) {\n\n\t\t// Param width: Stroke width\n\t\t// Param color: As returned by THREE.Color.getStyle()\n\t\t// Param lineJoin: One of \"round\", \"bevel\", \"miter\" or \"miter-limit\"\n\t\t// Param lineCap: One of \"round\", \"square\" or \"butt\"\n\t\t// Param miterLimit: Maximum join length, in multiples of the \"width\" parameter (join is truncated if it exceeds that distance)\n\t\t// Returns style object\n\n\t\twidth = width !== undefined ? width : 1;\n\t\tcolor = color !== undefined ? color : '#000';\n\t\tlineJoin = lineJoin !== undefined ? lineJoin : 'miter';\n\t\tlineCap = lineCap !== undefined ? lineCap : 'butt';\n\t\tmiterLimit = miterLimit !== undefined ? miterLimit : 4;\n\n\t\treturn {\n\t\t\tstrokeColor: color,\n\t\t\tstrokeWidth: width,\n\t\t\tstrokeLineJoin: lineJoin,\n\t\t\tstrokeLineCap: lineCap,\n\t\t\tstrokeMiterLimit: miterLimit\n\t\t};\n\n\t}\n\n\tstatic pointsToStroke( points, style, arcDivisions, minDistance ) {\n\n\t\t// Generates a stroke with some width around the given path.\n\t\t// The path can be open or closed (last point equals to first point)\n\t\t// Param points: Array of Vector2D (the path). Minimum 2 points.\n\t\t// Param style: Object with SVG properties as returned by SVGLoader.getStrokeStyle(), or SVGLoader.parse() in the path.userData.style object\n\t\t// Params arcDivisions: Arc divisions for round joins and endcaps. (Optional)\n\t\t// Param minDistance: Points closer to this distance will be merged. (Optional)\n\t\t// Returns BufferGeometry with stroke triangles (In plane z = 0). UV coordinates are generated ('u' along path. 'v' across it, from left to right)\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tif ( SVGLoader.pointsToStrokeWithBuffers( points, style, arcDivisions, minDistance, vertices, normals, uvs ) === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tgeometry.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\treturn geometry;\n\n\t}\n\n\tstatic pointsToStrokeWithBuffers( points, style, arcDivisions, minDistance, vertices, normals, uvs, vertexOffset ) {\n\n\t\t// This function can be called to update existing arrays or buffers.\n\t\t// Accepts same parameters as pointsToStroke, plus the buffers and optional offset.\n\t\t// Param vertexOffset: Offset vertices to start writing in the buffers (3 elements/vertex for vertices and normals, and 2 elements/vertex for uvs)\n\t\t// Returns number of written vertices / normals / uvs pairs\n\t\t// if 'vertices' parameter is undefined no triangles will be generated, but the returned vertices count will still be valid (useful to preallocate the buffers)\n\t\t// 'normals' and 'uvs' buffers are optional\n\n\t\tconst tempV2_1 = new Vector2();\n\t\tconst tempV2_2 = new Vector2();\n\t\tconst tempV2_3 = new Vector2();\n\t\tconst tempV2_4 = new Vector2();\n\t\tconst tempV2_5 = new Vector2();\n\t\tconst tempV2_6 = new Vector2();\n\t\tconst tempV2_7 = new Vector2();\n\t\tconst lastPointL = new Vector2();\n\t\tconst lastPointR = new Vector2();\n\t\tconst point0L = new Vector2();\n\t\tconst point0R = new Vector2();\n\t\tconst currentPointL = new Vector2();\n\t\tconst currentPointR = new Vector2();\n\t\tconst nextPointL = new Vector2();\n\t\tconst nextPointR = new Vector2();\n\t\tconst innerPoint = new Vector2();\n\t\tconst outerPoint = new Vector2();\n\n\t\tarcDivisions = arcDivisions !== undefined ? arcDivisions : 12;\n\t\tminDistance = minDistance !== undefined ? minDistance : 0.001;\n\t\tvertexOffset = vertexOffset !== undefined ? vertexOffset : 0;\n\n\t\t// First ensure there are no duplicated points\n\t\tpoints = removeDuplicatedPoints( points );\n\n\t\tconst numPoints = points.length;\n\n\t\tif ( numPoints < 2 ) return 0;\n\n\t\tconst isClosed = points[ 0 ].equals( points[ numPoints - 1 ] );\n\n\t\tlet currentPoint;\n\t\tlet previousPoint = points[ 0 ];\n\t\tlet nextPoint;\n\n\t\tconst strokeWidth2 = style.strokeWidth / 2;\n\n\t\tconst deltaU = 1 / ( numPoints - 1 );\n\t\tlet u0 = 0, u1;\n\n\t\tlet innerSideModified;\n\t\tlet joinIsOnLeftSide;\n\t\tlet isMiter;\n\t\tlet initialJoinIsOnLeftSide = false;\n\n\t\tlet numVertices = 0;\n\t\tlet currentCoordinate = vertexOffset * 3;\n\t\tlet currentCoordinateUV = vertexOffset * 2;\n\n\t\t// Get initial left and right stroke points\n\t\tgetNormal( points[ 0 ], points[ 1 ], tempV2_1 ).multiplyScalar( strokeWidth2 );\n\t\tlastPointL.copy( points[ 0 ] ).sub( tempV2_1 );\n\t\tlastPointR.copy( points[ 0 ] ).add( tempV2_1 );\n\t\tpoint0L.copy( lastPointL );\n\t\tpoint0R.copy( lastPointR );\n\n\t\tfor ( let iPoint = 1; iPoint < numPoints; iPoint ++ ) {\n\n\t\t\tcurrentPoint = points[ iPoint ];\n\n\t\t\t// Get next point\n\t\t\tif ( iPoint === numPoints - 1 ) {\n\n\t\t\t\tif ( isClosed ) {\n\n\t\t\t\t\t// Skip duplicated initial point\n\t\t\t\t\tnextPoint = points[ 1 ];\n\n\t\t\t\t} else nextPoint = undefined;\n\n\t\t\t} else {\n\n\t\t\t\tnextPoint = points[ iPoint + 1 ];\n\n\t\t\t}\n\n\t\t\t// Normal of previous segment in tempV2_1\n\t\t\tconst normal1 = tempV2_1;\n\t\t\tgetNormal( previousPoint, currentPoint, normal1 );\n\n\t\t\ttempV2_3.copy( normal1 ).multiplyScalar( strokeWidth2 );\n\t\t\tcurrentPointL.copy( currentPoint ).sub( tempV2_3 );\n\t\t\tcurrentPointR.copy( currentPoint ).add( tempV2_3 );\n\n\t\t\tu1 = u0 + deltaU;\n\n\t\t\tinnerSideModified = false;\n\n\t\t\tif ( nextPoint !== undefined ) {\n\n\t\t\t\t// Normal of next segment in tempV2_2\n\t\t\t\tgetNormal( currentPoint, nextPoint, tempV2_2 );\n\n\t\t\t\ttempV2_3.copy( tempV2_2 ).multiplyScalar( strokeWidth2 );\n\t\t\t\tnextPointL.copy( currentPoint ).sub( tempV2_3 );\n\t\t\t\tnextPointR.copy( currentPoint ).add( tempV2_3 );\n\n\t\t\t\tjoinIsOnLeftSide = true;\n\t\t\t\ttempV2_3.subVectors( nextPoint, previousPoint );\n\t\t\t\tif ( normal1.dot( tempV2_3 ) < 0 ) {\n\n\t\t\t\t\tjoinIsOnLeftSide = false;\n\n\t\t\t\t}\n\n\t\t\t\tif ( iPoint === 1 ) initialJoinIsOnLeftSide = joinIsOnLeftSide;\n\n\t\t\t\ttempV2_3.subVectors( nextPoint, currentPoint );\n\t\t\t\ttempV2_3.normalize();\n\t\t\t\tconst dot = Math.abs( normal1.dot( tempV2_3 ) );\n\n\t\t\t\t// If path is straight, don't create join\n\t\t\t\tif ( dot > Number.EPSILON ) {\n\n\t\t\t\t\t// Compute inner and outer segment intersections\n\t\t\t\t\tconst miterSide = strokeWidth2 / dot;\n\t\t\t\t\ttempV2_3.multiplyScalar( - miterSide );\n\t\t\t\t\ttempV2_4.subVectors( currentPoint, previousPoint );\n\t\t\t\t\ttempV2_5.copy( tempV2_4 ).setLength( miterSide ).add( tempV2_3 );\n\t\t\t\t\tinnerPoint.copy( tempV2_5 ).negate();\n\t\t\t\t\tconst miterLength2 = tempV2_5.length();\n\t\t\t\t\tconst segmentLengthPrev = tempV2_4.length();\n\t\t\t\t\ttempV2_4.divideScalar( segmentLengthPrev );\n\t\t\t\t\ttempV2_6.subVectors( nextPoint, currentPoint );\n\t\t\t\t\tconst segmentLengthNext = tempV2_6.length();\n\t\t\t\t\ttempV2_6.divideScalar( segmentLengthNext );\n\t\t\t\t\t// Check that previous and next segments doesn't overlap with the innerPoint of intersection\n\t\t\t\t\tif ( tempV2_4.dot( innerPoint ) < segmentLengthPrev && tempV2_6.dot( innerPoint ) < segmentLengthNext ) {\n\n\t\t\t\t\t\tinnerSideModified = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\touterPoint.copy( tempV2_5 ).add( currentPoint );\n\t\t\t\t\tinnerPoint.add( currentPoint );\n\n\t\t\t\t\tisMiter = false;\n\n\t\t\t\t\tif ( innerSideModified ) {\n\n\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\tnextPointR.copy( innerPoint );\n\t\t\t\t\t\t\tcurrentPointR.copy( innerPoint );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tnextPointL.copy( innerPoint );\n\t\t\t\t\t\t\tcurrentPointL.copy( innerPoint );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// The segment triangles are generated here if there was overlapping\n\n\t\t\t\t\t\tmakeSegmentTriangles();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tswitch ( style.strokeLineJoin ) {\n\n\t\t\t\t\t\tcase 'bevel':\n\n\t\t\t\t\t\t\tmakeSegmentWithBevelJoin( joinIsOnLeftSide, innerSideModified, u1 );\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'round':\n\n\t\t\t\t\t\t\t// Segment triangles\n\n\t\t\t\t\t\t\tcreateSegmentTrianglesWithMiddleSection( joinIsOnLeftSide, innerSideModified );\n\n\t\t\t\t\t\t\t// Join triangles\n\n\t\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\t\tmakeCircularSector( currentPoint, currentPointL, nextPointL, u1, 0 );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tmakeCircularSector( currentPoint, nextPointR, currentPointR, u1, 1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'miter':\n\t\t\t\t\t\tcase 'miter-clip':\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tconst miterFraction = ( strokeWidth2 * style.strokeMiterLimit ) / miterLength2;\n\n\t\t\t\t\t\t\tif ( miterFraction < 1 ) {\n\n\t\t\t\t\t\t\t\t// The join miter length exceeds the miter limit\n\n\t\t\t\t\t\t\t\tif ( style.strokeLineJoin !== 'miter-clip' ) {\n\n\t\t\t\t\t\t\t\t\tmakeSegmentWithBevelJoin( joinIsOnLeftSide, innerSideModified, u1 );\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t// Segment triangles\n\n\t\t\t\t\t\t\t\t\tcreateSegmentTrianglesWithMiddleSection( joinIsOnLeftSide, innerSideModified );\n\n\t\t\t\t\t\t\t\t\t// Miter-clip join triangles\n\n\t\t\t\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\t\t\t\ttempV2_6.subVectors( outerPoint, currentPointL ).multiplyScalar( miterFraction ).add( currentPointL );\n\t\t\t\t\t\t\t\t\t\ttempV2_7.subVectors( outerPoint, nextPointL ).multiplyScalar( miterFraction ).add( nextPointL );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_6, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_6, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_7, u1, 0 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_7, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( nextPointL, u1, 0 );\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\ttempV2_6.subVectors( outerPoint, currentPointR ).multiplyScalar( miterFraction ).add( currentPointR );\n\t\t\t\t\t\t\t\t\t\ttempV2_7.subVectors( outerPoint, nextPointR ).multiplyScalar( miterFraction ).add( nextPointR );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_6, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_6, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_7, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( tempV2_7, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( nextPointR, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Miter join segment triangles\n\n\t\t\t\t\t\t\t\tif ( innerSideModified ) {\n\n\t\t\t\t\t\t\t\t\t// Optimized segment + join triangles\n\n\t\t\t\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 0 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( innerPoint, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( innerPoint, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\t\t\t\tnextPointL.copy( outerPoint );\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\tnextPointR.copy( outerPoint );\n\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t// Add extra miter join triangles\n\n\t\t\t\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 0 );\n\t\t\t\t\t\t\t\t\t\taddVertex( nextPointL, u1, 0 );\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\n\t\t\t\t\t\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\t\t\t\t\t\taddVertex( outerPoint, u1, 1 );\n\t\t\t\t\t\t\t\t\t\taddVertex( nextPointR, u1, 1 );\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tisMiter = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// The segment triangles are generated here when two consecutive points are collinear\n\n\t\t\t\t\tmakeSegmentTriangles();\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// The segment triangles are generated here if it is the ending segment\n\n\t\t\t\tmakeSegmentTriangles();\n\n\t\t\t}\n\n\t\t\tif ( ! isClosed && iPoint === numPoints - 1 ) {\n\n\t\t\t\t// Start line endcap\n\t\t\t\taddCapGeometry( points[ 0 ], point0L, point0R, joinIsOnLeftSide, true, u0 );\n\n\t\t\t}\n\n\t\t\t// Increment loop variables\n\n\t\t\tu0 = u1;\n\n\t\t\tpreviousPoint = currentPoint;\n\n\t\t\tlastPointL.copy( nextPointL );\n\t\t\tlastPointR.copy( nextPointR );\n\n\t\t}\n\n\t\tif ( ! isClosed ) {\n\n\t\t\t// Ending line endcap\n\t\t\taddCapGeometry( currentPoint, currentPointL, currentPointR, joinIsOnLeftSide, false, u1 );\n\n\t\t} else if ( innerSideModified && vertices ) {\n\n\t\t\t// Modify path first segment vertices to adjust to the segments inner and outer intersections\n\n\t\t\tlet lastOuter = outerPoint;\n\t\t\tlet lastInner = innerPoint;\n\n\t\t\tif ( initialJoinIsOnLeftSide !== joinIsOnLeftSide ) {\n\n\t\t\t\tlastOuter = innerPoint;\n\t\t\t\tlastInner = outerPoint;\n\n\t\t\t}\n\n\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\tif ( isMiter || initialJoinIsOnLeftSide ) {\n\n\t\t\t\t\tlastInner.toArray( vertices, 0 * 3 );\n\t\t\t\t\tlastInner.toArray( vertices, 3 * 3 );\n\n\t\t\t\t\tif ( isMiter ) {\n\n\t\t\t\t\t\tlastOuter.toArray( vertices, 1 * 3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( isMiter || ! initialJoinIsOnLeftSide ) {\n\n\t\t\t\t\tlastInner.toArray( vertices, 1 * 3 );\n\t\t\t\t\tlastInner.toArray( vertices, 3 * 3 );\n\n\t\t\t\t\tif ( isMiter ) {\n\n\t\t\t\t\t\tlastOuter.toArray( vertices, 0 * 3 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn numVertices;\n\n\t\t// -- End of algorithm\n\n\t\t// -- Functions\n\n\t\tfunction getNormal( p1, p2, result ) {\n\n\t\t\tresult.subVectors( p2, p1 );\n\t\t\treturn result.set( - result.y, result.x ).normalize();\n\n\t\t}\n\n\t\tfunction addVertex( position, u, v ) {\n\n\t\t\tif ( vertices ) {\n\n\t\t\t\tvertices[ currentCoordinate ] = position.x;\n\t\t\t\tvertices[ currentCoordinate + 1 ] = position.y;\n\t\t\t\tvertices[ currentCoordinate + 2 ] = 0;\n\n\t\t\t\tif ( normals ) {\n\n\t\t\t\t\tnormals[ currentCoordinate ] = 0;\n\t\t\t\t\tnormals[ currentCoordinate + 1 ] = 0;\n\t\t\t\t\tnormals[ currentCoordinate + 2 ] = 1;\n\n\t\t\t\t}\n\n\t\t\t\tcurrentCoordinate += 3;\n\n\t\t\t\tif ( uvs ) {\n\n\t\t\t\t\tuvs[ currentCoordinateUV ] = u;\n\t\t\t\t\tuvs[ currentCoordinateUV + 1 ] = v;\n\n\t\t\t\t\tcurrentCoordinateUV += 2;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tnumVertices += 3;\n\n\t\t}\n\n\t\tfunction makeCircularSector( center, p1, p2, u, v ) {\n\n\t\t\t// param p1, p2: Points in the circle arc.\n\t\t\t// p1 and p2 are in clockwise direction.\n\n\t\t\ttempV2_1.copy( p1 ).sub( center ).normalize();\n\t\t\ttempV2_2.copy( p2 ).sub( center ).normalize();\n\n\t\t\tlet angle = Math.PI;\n\t\t\tconst dot = tempV2_1.dot( tempV2_2 );\n\t\t\tif ( Math.abs( dot ) < 1 ) angle = Math.abs( Math.acos( dot ) );\n\n\t\t\tangle /= arcDivisions;\n\n\t\t\ttempV2_3.copy( p1 );\n\n\t\t\tfor ( let i = 0, il = arcDivisions - 1; i < il; i ++ ) {\n\n\t\t\t\ttempV2_4.copy( tempV2_3 ).rotateAround( center, angle );\n\n\t\t\t\taddVertex( tempV2_3, u, v );\n\t\t\t\taddVertex( tempV2_4, u, v );\n\t\t\t\taddVertex( center, u, 0.5 );\n\n\t\t\t\ttempV2_3.copy( tempV2_4 );\n\n\t\t\t}\n\n\t\t\taddVertex( tempV2_4, u, v );\n\t\t\taddVertex( p2, u, v );\n\t\t\taddVertex( center, u, 0.5 );\n\n\t\t}\n\n\t\tfunction makeSegmentTriangles() {\n\n\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\taddVertex( currentPointL, u1, 0 );\n\n\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\taddVertex( currentPointL, u1, 0 );\n\t\t\taddVertex( currentPointR, u1, 1 );\n\n\t\t}\n\n\t\tfunction makeSegmentWithBevelJoin( joinIsOnLeftSide, innerSideModified, u ) {\n\n\t\t\tif ( innerSideModified ) {\n\n\t\t\t\t// Optimized segment + bevel triangles\n\n\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t// Path segments triangles\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\t\t\t\t\taddVertex( innerPoint, u1, 1 );\n\n\t\t\t\t\t// Bevel join triangle\n\n\t\t\t\t\taddVertex( currentPointL, u, 0 );\n\t\t\t\t\taddVertex( nextPointL, u, 0 );\n\t\t\t\t\taddVertex( innerPoint, u, 0.5 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Path segments triangles\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( innerPoint, u1, 0 );\n\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\n\t\t\t\t\t// Bevel join triangle\n\n\t\t\t\t\taddVertex( currentPointR, u, 1 );\n\t\t\t\t\taddVertex( innerPoint, u, 0 );\n\t\t\t\t\taddVertex( nextPointR, u, 1 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bevel join triangle. The segment triangles are done in the main loop\n\n\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\taddVertex( currentPointL, u, 0 );\n\t\t\t\t\taddVertex( nextPointL, u, 0 );\n\t\t\t\t\taddVertex( currentPoint, u, 0.5 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\taddVertex( currentPointR, u, 1 );\n\t\t\t\t\taddVertex( nextPointR, u, 0 );\n\t\t\t\t\taddVertex( currentPoint, u, 0.5 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction createSegmentTrianglesWithMiddleSection( joinIsOnLeftSide, innerSideModified ) {\n\n\t\t\tif ( innerSideModified ) {\n\n\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( currentPointL, u1, 0 );\n\t\t\t\t\taddVertex( innerPoint, u1, 1 );\n\n\t\t\t\t\taddVertex( currentPointL, u0, 0 );\n\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\taddVertex( innerPoint, u1, 1 );\n\n\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\taddVertex( nextPointL, u0, 0 );\n\t\t\t\t\taddVertex( innerPoint, u1, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\taddVertex( lastPointR, u0, 1 );\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\n\t\t\t\t\taddVertex( lastPointL, u0, 0 );\n\t\t\t\t\taddVertex( innerPoint, u1, 0 );\n\t\t\t\t\taddVertex( currentPointR, u1, 1 );\n\n\t\t\t\t\taddVertex( currentPointR, u0, 1 );\n\t\t\t\t\taddVertex( innerPoint, u1, 0 );\n\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\n\t\t\t\t\taddVertex( currentPoint, u1, 0.5 );\n\t\t\t\t\taddVertex( innerPoint, u1, 0 );\n\t\t\t\t\taddVertex( nextPointR, u0, 1 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addCapGeometry( center, p1, p2, joinIsOnLeftSide, start, u ) {\n\n\t\t\t// param center: End point of the path\n\t\t\t// param p1, p2: Left and right cap points\n\n\t\t\tswitch ( style.strokeLineCap ) {\n\n\t\t\t\tcase 'round':\n\n\t\t\t\t\tif ( start ) {\n\n\t\t\t\t\t\tmakeCircularSector( center, p2, p1, u, 0.5 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tmakeCircularSector( center, p1, p2, u, 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'square':\n\n\t\t\t\t\tif ( start ) {\n\n\t\t\t\t\t\ttempV2_1.subVectors( p1, center );\n\t\t\t\t\t\ttempV2_2.set( tempV2_1.y, - tempV2_1.x );\n\n\t\t\t\t\t\ttempV2_3.addVectors( tempV2_1, tempV2_2 ).add( center );\n\t\t\t\t\t\ttempV2_4.subVectors( tempV2_2, tempV2_1 ).add( center );\n\n\t\t\t\t\t\t// Modify already existing vertices\n\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\ttempV2_3.toArray( vertices, 1 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, 0 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, 3 * 3 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttempV2_3.toArray( vertices, 1 * 3 );\n\t\t\t\t\t\t\t// using tempV2_4 to update 3rd vertex if the uv.y of 3rd vertex is 1\n\t\t\t\t\t\t\tuvs[ 3 * 2 + 1 ] === 1 ? tempV2_4.toArray( vertices, 3 * 3 ) : tempV2_3.toArray( vertices, 3 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, 0 * 3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttempV2_1.subVectors( p2, center );\n\t\t\t\t\t\ttempV2_2.set( tempV2_1.y, - tempV2_1.x );\n\n\t\t\t\t\t\ttempV2_3.addVectors( tempV2_1, tempV2_2 ).add( center );\n\t\t\t\t\t\ttempV2_4.subVectors( tempV2_2, tempV2_1 ).add( center );\n\n\t\t\t\t\t\tconst vl = vertices.length;\n\n\t\t\t\t\t\t// Modify already existing vertices\n\t\t\t\t\t\tif ( joinIsOnLeftSide ) {\n\n\t\t\t\t\t\t\ttempV2_3.toArray( vertices, vl - 1 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, vl - 2 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, vl - 4 * 3 );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, vl - 2 * 3 );\n\t\t\t\t\t\t\ttempV2_3.toArray( vertices, vl - 1 * 3 );\n\t\t\t\t\t\t\ttempV2_4.toArray( vertices, vl - 4 * 3 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'butt':\n\t\t\t\tdefault:\n\n\t\t\t\t\t// Nothing to do here\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction removeDuplicatedPoints( points ) {\n\n\t\t\t// Creates a new array if necessary with duplicated points removed.\n\t\t\t// This does not remove duplicated initial and ending points of a closed path.\n\n\t\t\tlet dupPoints = false;\n\t\t\tfor ( let i = 1, n = points.length - 1; i < n; i ++ ) {\n\n\t\t\t\tif ( points[ i ].distanceTo( points[ i + 1 ] ) < minDistance ) {\n\n\t\t\t\t\tdupPoints = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( ! dupPoints ) return points;\n\n\t\t\tconst newPoints = [];\n\t\t\tnewPoints.push( points[ 0 ] );\n\n\t\t\tfor ( let i = 1, n = points.length - 1; i < n; i ++ ) {\n\n\t\t\t\tif ( points[ i ].distanceTo( points[ i + 1 ] ) >= minDistance ) {\n\n\t\t\t\t\tnewPoints.push( points[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tnewPoints.push( points[ points.length - 1 ] );\n\n\t\t\treturn newPoints;\n\n\t\t}\n\n\t}\n\n\n}\n\nexport { SVGLoader };\n","import {\n\tBufferAttribute,\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tInstancedBufferAttribute,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tTrianglesDrawMode,\n\tVector3,\n} from 'three';\n\nfunction computeMikkTSpaceTangents( geometry, MikkTSpace, negateSign = true ) {\n\n\tif ( ! MikkTSpace || ! MikkTSpace.isReady ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Initialized MikkTSpace library required.' );\n\n\t}\n\n\tif ( ! geometry.hasAttribute( 'position' ) || ! geometry.hasAttribute( 'normal' ) || ! geometry.hasAttribute( 'uv' ) ) {\n\n\t\tthrow new Error( 'BufferGeometryUtils: Tangents require \"position\", \"normal\", and \"uv\" attributes.' );\n\n\t}\n\n\tfunction getAttributeArray( attribute ) {\n\n\t\tif ( attribute.normalized || attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconst dstArray = new Float32Array( attribute.count * attribute.itemSize );\n\n\t\t\tfor ( let i = 0, j = 0; i < attribute.count; i ++ ) {\n\n\t\t\t\tdstArray[ j ++ ] = attribute.getX( i );\n\t\t\t\tdstArray[ j ++ ] = attribute.getY( i );\n\n\t\t\t\tif ( attribute.itemSize > 2 ) {\n\n\t\t\t\t\tdstArray[ j ++ ] = attribute.getZ( i );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn dstArray;\n\n\t\t}\n\n\t\tif ( attribute.array instanceof Float32Array ) {\n\n\t\t\treturn attribute.array;\n\n\t\t}\n\n\t\treturn new Float32Array( attribute.array );\n\n\t}\n\n\t// MikkTSpace algorithm requires non-indexed input.\n\n\tconst _geometry = geometry.index ? geometry.toNonIndexed() : geometry;\n\n\t// Compute vertex tangents.\n\n\tconst tangents = MikkTSpace.generateTangents(\n\n\t\tgetAttributeArray( _geometry.attributes.position ),\n\t\tgetAttributeArray( _geometry.attributes.normal ),\n\t\tgetAttributeArray( _geometry.attributes.uv )\n\n\t);\n\n\t// Texture coordinate convention of glTF differs from the apparent\n\t// default of the MikkTSpace library; .w component must be flipped.\n\n\tif ( negateSign ) {\n\n\t\tfor ( let i = 3; i < tangents.length; i += 4 ) {\n\n\t\t\ttangents[ i ] *= - 1;\n\n\t\t}\n\n\t}\n\n\t//\n\n\t_geometry.setAttribute( 'tangent', new BufferAttribute( tangents, 4 ) );\n\n\tif ( geometry !== _geometry ) {\n\n\t\tgeometry.copy( _geometry );\n\n\t}\n\n\treturn geometry;\n\n}\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nfunction mergeGeometries( geometries, useGroups = false ) {\n\n\tconst isIndexed = geometries[ 0 ].index !== null;\n\n\tconst attributesUsed = new Set( Object.keys( geometries[ 0 ].attributes ) );\n\tconst morphAttributesUsed = new Set( Object.keys( geometries[ 0 ].morphAttributes ) );\n\n\tconst attributes = {};\n\tconst morphAttributes = {};\n\n\tconst morphTargetsRelative = geometries[ 0 ].morphTargetsRelative;\n\n\tconst mergedGeometry = new BufferGeometry();\n\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\tconst geometry = geometries[ i ];\n\t\tlet attributesCount = 0;\n\n\t\t// ensure that all geometries are indexed, or none\n\n\t\tif ( isIndexed !== ( geometry.index !== null ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather attributes, exit early if they're different\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tif ( ! attributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. All geometries must have compatible attributes; make sure \"' + name + '\" attribute exists among all geometries, or in none of them.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( attributes[ name ] === undefined ) attributes[ name ] = [];\n\n\t\t\tattributes[ name ].push( geometry.attributes[ name ] );\n\n\t\t\tattributesCount ++;\n\n\t\t}\n\n\t\t// ensure geometries have the same number of attributes\n\n\t\tif ( attributesCount !== attributesUsed.size ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. Make sure all geometries have the same number of attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// gather morph attributes, exit early if they're different\n\n\t\tif ( morphTargetsRelative !== geometry.morphTargetsRelative ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. .morphTargetsRelative must be consistent throughout all geometries.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tfor ( const name in geometry.morphAttributes ) {\n\n\t\t\tif ( ! morphAttributesUsed.has( name ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '.  .morphAttributes must be consistent throughout all geometries.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tif ( morphAttributes[ name ] === undefined ) morphAttributes[ name ] = [];\n\n\t\t\tmorphAttributes[ name ].push( geometry.morphAttributes[ name ] );\n\n\t\t}\n\n\t\tif ( useGroups ) {\n\n\t\t\tlet count;\n\n\t\t\tif ( isIndexed ) {\n\n\t\t\t\tcount = geometry.index.count;\n\n\t\t\t} else if ( geometry.attributes.position !== undefined ) {\n\n\t\t\t\tcount = geometry.attributes.position.count;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index ' + i + '. The geometry must have either an index or a position attribute' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.addGroup( offset, count, i );\n\n\t\t\toffset += count;\n\n\t\t}\n\n\t}\n\n\t// merge indices\n\n\tif ( isIndexed ) {\n\n\t\tlet indexOffset = 0;\n\t\tconst mergedIndex = [];\n\n\t\tfor ( let i = 0; i < geometries.length; ++ i ) {\n\n\t\t\tconst index = geometries[ i ].index;\n\n\t\t\tfor ( let j = 0; j < index.count; ++ j ) {\n\n\t\t\t\tmergedIndex.push( index.getX( j ) + indexOffset );\n\n\t\t\t}\n\n\t\t\tindexOffset += geometries[ i ].attributes.position.count;\n\n\t\t}\n\n\t\tmergedGeometry.setIndex( mergedIndex );\n\n\t}\n\n\t// merge attributes\n\n\tfor ( const name in attributes ) {\n\n\t\tconst mergedAttribute = mergeAttributes( attributes[ name ] );\n\n\t\tif ( ! mergedAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' attribute.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tmergedGeometry.setAttribute( name, mergedAttribute );\n\n\t}\n\n\t// merge morph attributes\n\n\tfor ( const name in morphAttributes ) {\n\n\t\tconst numMorphTargets = morphAttributes[ name ][ 0 ].length;\n\n\t\tif ( numMorphTargets === 0 ) break;\n\n\t\tmergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {};\n\t\tmergedGeometry.morphAttributes[ name ] = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; ++ i ) {\n\n\t\t\tconst morphAttributesToMerge = [];\n\n\t\t\tfor ( let j = 0; j < morphAttributes[ name ].length; ++ j ) {\n\n\t\t\t\tmorphAttributesToMerge.push( morphAttributes[ name ][ j ][ i ] );\n\n\t\t\t}\n\n\t\t\tconst mergedMorphAttribute = mergeAttributes( morphAttributesToMerge );\n\n\t\t\tif ( ! mergedMorphAttribute ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the ' + name + ' morphAttribute.' );\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t\tmergedGeometry.morphAttributes[ name ].push( mergedMorphAttribute );\n\n\t\t}\n\n\t}\n\n\treturn mergedGeometry;\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nfunction mergeAttributes( attributes ) {\n\n\tlet TypedArray;\n\tlet itemSize;\n\tlet normalized;\n\tlet gpuType = - 1;\n\tlet arrayLength = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( itemSize === undefined ) itemSize = attribute.itemSize;\n\t\tif ( itemSize !== attribute.itemSize ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( normalized === undefined ) normalized = attribute.normalized;\n\t\tif ( normalized !== attribute.normalized ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tif ( gpuType === - 1 ) gpuType = attribute.gpuType;\n\t\tif ( gpuType !== attribute.gpuType ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.count * itemSize;\n\n\t}\n\n\tconst array = new TypedArray( arrayLength );\n\tconst result = new BufferAttribute( array, itemSize, normalized );\n\tlet offset = 0;\n\n\tfor ( let i = 0; i < attributes.length; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\tconst tupleOffset = offset / itemSize;\n\t\t\tfor ( let j = 0, l = attribute.count; j < l; j ++ ) {\n\n\t\t\t\tfor ( let c = 0; c < itemSize; c ++ ) {\n\n\t\t\t\t\tconst value = attribute.getComponent( j, c );\n\t\t\t\t\tresult.setComponent( j + tupleOffset, c, value );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tarray.set( attribute.array, offset );\n\n\t\t}\n\n\t\toffset += attribute.count * itemSize;\n\n\t}\n\n\tif ( gpuType !== undefined ) {\n\n\t\tresult.gpuType = gpuType;\n\n\t}\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferAttribute} attribute\n * @return {BufferAttribute}\n */\nexport function deepCloneAttribute( attribute ) {\n\n\tif ( attribute.isInstancedInterleavedBufferAttribute || attribute.isInterleavedBufferAttribute ) {\n\n\t\treturn deinterleaveAttribute( attribute );\n\n\t}\n\n\tif ( attribute.isInstancedBufferAttribute ) {\n\n\t\treturn new InstancedBufferAttribute().copy( attribute );\n\n\t}\n\n\treturn new BufferAttribute().copy( attribute );\n\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nfunction interleaveAttributes( attributes ) {\n\n\t// Interleaves the provided attributes into an InterleavedBuffer and returns\n\t// a set of InterleavedBufferAttributes for each attribute\n\tlet TypedArray;\n\tlet arrayLength = 0;\n\tlet stride = 0;\n\n\t// calculate the length and type of the interleavedBuffer\n\tfor ( let i = 0, l = attributes.length; i < l; ++ i ) {\n\n\t\tconst attribute = attributes[ i ];\n\n\t\tif ( TypedArray === undefined ) TypedArray = attribute.array.constructor;\n\t\tif ( TypedArray !== attribute.array.constructor ) {\n\n\t\t\tconsole.error( 'AttributeBuffers of different types cannot be interleaved' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tarrayLength += attribute.array.length;\n\t\tstride += attribute.itemSize;\n\n\t}\n\n\t// Create the set of buffer attributes\n\tconst interleavedBuffer = new InterleavedBuffer( new TypedArray( arrayLength ), stride );\n\tlet offset = 0;\n\tconst res = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\tfor ( let j = 0, l = attributes.length; j < l; j ++ ) {\n\n\t\tconst attribute = attributes[ j ];\n\t\tconst itemSize = attribute.itemSize;\n\t\tconst count = attribute.count;\n\t\tconst iba = new InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, attribute.normalized );\n\t\tres.push( iba );\n\n\t\toffset += itemSize;\n\n\t\t// Move the data for each attribute into the new interleavedBuffer\n\t\t// at the appropriate offset\n\t\tfor ( let c = 0; c < count; c ++ ) {\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\tiba[ setters[ k ] ]( c, attribute[ getters[ k ] ]( c ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn res;\n\n}\n\n// returns a new, non-interleaved version of the provided attribute\nexport function deinterleaveAttribute( attribute ) {\n\n\tconst cons = attribute.data.array.constructor;\n\tconst count = attribute.count;\n\tconst itemSize = attribute.itemSize;\n\tconst normalized = attribute.normalized;\n\n\tconst array = new cons( count * itemSize );\n\tlet newAttribute;\n\tif ( attribute.isInstancedInterleavedBufferAttribute ) {\n\n\t\tnewAttribute = new InstancedBufferAttribute( array, itemSize, normalized, attribute.meshPerAttribute );\n\n\t} else {\n\n\t\tnewAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t}\n\n\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\tnewAttribute.setX( i, attribute.getX( i ) );\n\n\t\tif ( itemSize >= 2 ) {\n\n\t\t\tnewAttribute.setY( i, attribute.getY( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 3 ) {\n\n\t\t\tnewAttribute.setZ( i, attribute.getZ( i ) );\n\n\t\t}\n\n\t\tif ( itemSize >= 4 ) {\n\n\t\t\tnewAttribute.setW( i, attribute.getW( i ) );\n\n\t\t}\n\n\t}\n\n\treturn newAttribute;\n\n}\n\n// deinterleaves all attributes on the geometry\nexport function deinterleaveGeometry( geometry ) {\n\n\tconst attributes = geometry.attributes;\n\tconst morphTargets = geometry.morphTargets;\n\tconst attrMap = new Map();\n\n\tfor ( const key in attributes ) {\n\n\t\tconst attr = attributes[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tattributes[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n\tfor ( const key in morphTargets ) {\n\n\t\tconst attr = morphTargets[ key ];\n\t\tif ( attr.isInterleavedBufferAttribute ) {\n\n\t\t\tif ( ! attrMap.has( attr ) ) {\n\n\t\t\t\tattrMap.set( attr, deinterleaveAttribute( attr ) );\n\n\t\t\t}\n\n\t\t\tmorphTargets[ key ] = attrMap.get( attr );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @return {number}\n */\nfunction estimateBytesUsed( geometry ) {\n\n\t// Return the estimated memory used by this geometry in bytes\n\t// Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n\t// for InterleavedBufferAttributes.\n\tlet mem = 0;\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst attr = geometry.getAttribute( name );\n\t\tmem += attr.count * attr.itemSize * attr.array.BYTES_PER_ELEMENT;\n\n\t}\n\n\tconst indices = geometry.getIndex();\n\tmem += indices ? indices.count * indices.itemSize * indices.array.BYTES_PER_ELEMENT : 0;\n\treturn mem;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry}\n */\nfunction mergeVertices( geometry, tolerance = 1e-4 ) {\n\n\ttolerance = Math.max( tolerance, Number.EPSILON );\n\n\t// Generate an index buffer if the geometry doesn't have one, or optimize it\n\t// if it's already available.\n\tconst hashToIndex = {};\n\tconst indices = geometry.getIndex();\n\tconst positions = geometry.getAttribute( 'position' );\n\tconst vertexCount = indices ? indices.count : positions.count;\n\n\t// next value for triangle indices\n\tlet nextIndex = 0;\n\n\t// attributes and new attribute arrays\n\tconst attributeNames = Object.keys( geometry.attributes );\n\tconst tmpAttributes = {};\n\tconst tmpMorphAttributes = {};\n\tconst newIndices = [];\n\tconst getters = [ 'getX', 'getY', 'getZ', 'getW' ];\n\tconst setters = [ 'setX', 'setY', 'setZ', 'setW' ];\n\n\t// Initialize the arrays, allocating space conservatively. Extra\n\t// space will be trimmed in the last step.\n\tfor ( let i = 0, l = attributeNames.length; i < l; i ++ ) {\n\n\t\tconst name = attributeNames[ i ];\n\t\tconst attr = geometry.attributes[ name ];\n\n\t\ttmpAttributes[ name ] = new attr.constructor(\n\t\t\tnew attr.array.constructor( attr.count * attr.itemSize ),\n\t\t\tattr.itemSize,\n\t\t\tattr.normalized\n\t\t);\n\n\t\tconst morphAttributes = geometry.morphAttributes[ name ];\n\t\tif ( morphAttributes ) {\n\n\t\t\tif ( ! tmpMorphAttributes[ name ] ) tmpMorphAttributes[ name ] = [];\n\t\t\tmorphAttributes.forEach( ( morphAttr, i ) => {\n\n\t\t\t\tconst array = new morphAttr.array.constructor( morphAttr.count * morphAttr.itemSize );\n\t\t\t\ttmpMorphAttributes[ name ][ i ] = new morphAttr.constructor( array, morphAttr.itemSize, morphAttr.normalized );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// convert the error tolerance to an amount of decimal places to truncate to\n\tconst halfTolerance = tolerance * 0.5;\n\tconst exponent = Math.log10( 1 / tolerance );\n\tconst hashMultiplier = Math.pow( 10, exponent );\n\tconst hashAdditive = halfTolerance * hashMultiplier;\n\tfor ( let i = 0; i < vertexCount; i ++ ) {\n\n\t\tconst index = indices ? indices.getX( i ) : i;\n\n\t\t// Generate a hash for the vertex attributes at the current index 'i'\n\t\tlet hash = '';\n\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\tconst name = attributeNames[ j ];\n\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\tconst itemSize = attribute.itemSize;\n\n\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t// double tilde truncates the decimal value\n\t\t\t\thash += `${ ~ ~ ( attribute[ getters[ k ] ]( index ) * hashMultiplier + hashAdditive ) },`;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add another reference to the vertex if it's already\n\t\t// used by another index\n\t\tif ( hash in hashToIndex ) {\n\n\t\t\tnewIndices.push( hashToIndex[ hash ] );\n\n\t\t} else {\n\n\t\t\t// copy data to the new index in the temporary attributes\n\t\t\tfor ( let j = 0, l = attributeNames.length; j < l; j ++ ) {\n\n\t\t\t\tconst name = attributeNames[ j ];\n\t\t\t\tconst attribute = geometry.getAttribute( name );\n\t\t\t\tconst morphAttributes = geometry.morphAttributes[ name ];\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst newArray = tmpAttributes[ name ];\n\t\t\t\tconst newMorphArrays = tmpMorphAttributes[ name ];\n\n\t\t\t\tfor ( let k = 0; k < itemSize; k ++ ) {\n\n\t\t\t\t\tconst getterFunc = getters[ k ];\n\t\t\t\t\tconst setterFunc = setters[ k ];\n\t\t\t\t\tnewArray[ setterFunc ]( nextIndex, attribute[ getterFunc ]( index ) );\n\n\t\t\t\t\tif ( morphAttributes ) {\n\n\t\t\t\t\t\tfor ( let m = 0, ml = morphAttributes.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\t\tnewMorphArrays[ m ][ setterFunc ]( nextIndex, morphAttributes[ m ][ getterFunc ]( index ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\thashToIndex[ hash ] = nextIndex;\n\t\t\tnewIndices.push( nextIndex );\n\t\t\tnextIndex ++;\n\n\t\t}\n\n\t}\n\n\t// generate result BufferGeometry\n\tconst result = geometry.clone();\n\tfor ( const name in geometry.attributes ) {\n\n\t\tconst tmpAttribute = tmpAttributes[ name ];\n\n\t\tresult.setAttribute( name, new tmpAttribute.constructor(\n\t\t\ttmpAttribute.array.slice( 0, nextIndex * tmpAttribute.itemSize ),\n\t\t\ttmpAttribute.itemSize,\n\t\t\ttmpAttribute.normalized,\n\t\t) );\n\n\t\tif ( ! ( name in tmpMorphAttributes ) ) continue;\n\n\t\tfor ( let j = 0; j < tmpMorphAttributes[ name ].length; j ++ ) {\n\n\t\t\tconst tmpMorphAttribute = tmpMorphAttributes[ name ][ j ];\n\n\t\t\tresult.morphAttributes[ name ][ j ] = new tmpMorphAttribute.constructor(\n\t\t\t\ttmpMorphAttribute.array.slice( 0, nextIndex * tmpMorphAttribute.itemSize ),\n\t\t\t\ttmpMorphAttribute.itemSize,\n\t\t\t\ttmpMorphAttribute.normalized,\n\t\t\t);\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tresult.setIndex( newIndices );\n\n\treturn result;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tif ( drawMode === TrianglesDrawMode ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.' );\n\t\treturn geometry;\n\n\t}\n\n\tif ( drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode ) {\n\n\t\tlet index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tconst indices = [];\n\n\t\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst numberOfTriangles = index.count - 2;\n\t\tconst newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tconst newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\t\tnewGeometry.clearGroups();\n\n\t\treturn newGeometry;\n\n\t} else {\n\n\t\tconsole.error( 'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode );\n\t\treturn geometry;\n\n\t}\n\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nfunction computeMorphedAttributes( object ) {\n\n\tconst _vA = new Vector3();\n\tconst _vB = new Vector3();\n\tconst _vC = new Vector3();\n\n\tconst _tempA = new Vector3();\n\tconst _tempB = new Vector3();\n\tconst _tempC = new Vector3();\n\n\tconst _morphA = new Vector3();\n\tconst _morphB = new Vector3();\n\tconst _morphC = new Vector3();\n\n\tfunction _calculateMorphedAttributeData(\n\t\tobject,\n\t\tattribute,\n\t\tmorphAttribute,\n\t\tmorphTargetsRelative,\n\t\ta,\n\t\tb,\n\t\tc,\n\t\tmodifiedAttributeArray\n\t) {\n\n\t\t_vA.fromBufferAttribute( attribute, a );\n\t\t_vB.fromBufferAttribute( attribute, b );\n\t\t_vC.fromBufferAttribute( attribute, c );\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif ( morphAttribute && morphInfluences ) {\n\n\t\t\t_morphA.set( 0, 0, 0 );\n\t\t\t_morphB.set( 0, 0, 0 );\n\t\t\t_morphC.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst influence = morphInfluences[ i ];\n\t\t\t\tconst morph = morphAttribute[ i ];\n\n\t\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute( morph, a );\n\t\t\t\t_tempB.fromBufferAttribute( morph, b );\n\t\t\t\t_tempC.fromBufferAttribute( morph, c );\n\n\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_vA.add( _morphA );\n\t\t\t_vB.add( _morphB );\n\t\t\t_vC.add( _morphC );\n\n\t\t}\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tobject.applyBoneTransform( a, _vA );\n\t\t\tobject.applyBoneTransform( b, _vB );\n\t\t\tobject.applyBoneTransform( c, _vC );\n\n\t\t}\n\n\t\tmodifiedAttributeArray[ a * 3 + 0 ] = _vA.x;\n\t\tmodifiedAttributeArray[ a * 3 + 1 ] = _vA.y;\n\t\tmodifiedAttributeArray[ a * 3 + 2 ] = _vA.z;\n\t\tmodifiedAttributeArray[ b * 3 + 0 ] = _vB.x;\n\t\tmodifiedAttributeArray[ b * 3 + 1 ] = _vB.y;\n\t\tmodifiedAttributeArray[ b * 3 + 2 ] = _vB.z;\n\t\tmodifiedAttributeArray[ c * 3 + 0 ] = _vC.x;\n\t\tmodifiedAttributeArray[ c * 3 + 1 ] = _vC.y;\n\t\tmodifiedAttributeArray[ c * 3 + 2 ] = _vC.z;\n\n\t}\n\n\tconst geometry = object.geometry;\n\tconst material = object.material;\n\n\tlet a, b, c;\n\tconst index = geometry.index;\n\tconst positionAttribute = geometry.attributes.position;\n\tconst morphPosition = geometry.morphAttributes.position;\n\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\tconst normalAttribute = geometry.attributes.normal;\n\tconst morphNormal = geometry.morphAttributes.position;\n\n\tconst groups = geometry.groups;\n\tconst drawRange = geometry.drawRange;\n\tlet i, j, il, jl;\n\tlet group;\n\tlet start, end;\n\n\tconst modifiedPosition = new Float32Array( positionAttribute.count * positionAttribute.itemSize );\n\tconst modifiedNormal = new Float32Array( normalAttribute.count * normalAttribute.itemSize );\n\n\tif ( index !== null ) {\n\n\t\t// indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = index.getX( i );\n\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t} else {\n\n\t\t// non-indexed buffer geometry\n\n\t\tif ( Array.isArray( material ) ) {\n\n\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\tgroup = groups[ i ];\n\n\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\ta = j;\n\t\t\t\t\tb = j + 1;\n\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tpositionAttribute,\n\t\t\t\t\t\tmorphPosition,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedPosition\n\t\t\t\t\t);\n\n\t\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\t\tobject,\n\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\tmorphNormal,\n\t\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\t\ta, b, c,\n\t\t\t\t\t\tmodifiedNormal\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\tend = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\ta = i;\n\t\t\t\tb = i + 1;\n\t\t\t\tc = i + 2;\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tpositionAttribute,\n\t\t\t\t\tmorphPosition,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedPosition\n\t\t\t\t);\n\n\t\t\t\t_calculateMorphedAttributeData(\n\t\t\t\t\tobject,\n\t\t\t\t\tnormalAttribute,\n\t\t\t\t\tmorphNormal,\n\t\t\t\t\tmorphTargetsRelative,\n\t\t\t\t\ta, b, c,\n\t\t\t\t\tmodifiedNormal\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tconst morphedPositionAttribute = new Float32BufferAttribute( modifiedPosition, 3 );\n\tconst morphedNormalAttribute = new Float32BufferAttribute( modifiedNormal, 3 );\n\n\treturn {\n\n\t\tpositionAttribute: positionAttribute,\n\t\tnormalAttribute: normalAttribute,\n\t\tmorphedPositionAttribute: morphedPositionAttribute,\n\t\tmorphedNormalAttribute: morphedNormalAttribute\n\n\t};\n\n}\n\nfunction mergeGroups( geometry ) {\n\n\tif ( geometry.groups.length === 0 ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge.' );\n\t\treturn geometry;\n\n\t}\n\n\tlet groups = geometry.groups;\n\n\t// sort groups by material index\n\n\tgroups = groups.sort( ( a, b ) => {\n\n\t\tif ( a.materialIndex !== b.materialIndex ) return a.materialIndex - b.materialIndex;\n\n\t\treturn a.start - b.start;\n\n\t} );\n\n\t// create index for non-indexed geometries\n\n\tif ( geometry.getIndex() === null ) {\n\n\t\tconst positionAttribute = geometry.getAttribute( 'position' );\n\t\tconst indices = [];\n\n\t\tfor ( let i = 0; i < positionAttribute.count; i += 3 ) {\n\n\t\t\tindices.push( i, i + 1, i + 2 );\n\n\t\t}\n\n\t\tgeometry.setIndex( indices );\n\n\t}\n\n\t// sort index\n\n\tconst index = geometry.getIndex();\n\n\tconst newIndices = [];\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tconst groupStart = group.start;\n\t\tconst groupLength = groupStart + group.count;\n\n\t\tfor ( let j = groupStart; j < groupLength; j ++ ) {\n\n\t\t\tnewIndices.push( index.getX( j ) );\n\n\t\t}\n\n\t}\n\n\tgeometry.dispose(); // Required to force buffer recreation\n\tgeometry.setIndex( newIndices );\n\n\t// update groups indices\n\n\tlet start = 0;\n\n\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tgroup.start = start;\n\t\tstart += group.count;\n\n\t}\n\n\t// merge groups\n\n\tlet currentGroup = groups[ 0 ];\n\n\tgeometry.groups = [ currentGroup ];\n\n\tfor ( let i = 1; i < groups.length; i ++ ) {\n\n\t\tconst group = groups[ i ];\n\n\t\tif ( currentGroup.materialIndex === group.materialIndex ) {\n\n\t\t\tcurrentGroup.count += group.count;\n\n\t\t} else {\n\n\t\t\tcurrentGroup = group;\n\t\t\tgeometry.groups.push( currentGroup );\n\n\t\t}\n\n\t}\n\n\treturn geometry;\n\n}\n\n\n/**\n * Modifies the supplied geometry if it is non-indexed, otherwise creates a new,\n * non-indexed geometry. Returns the geometry with smooth normals everywhere except\n * faces that meet at an angle greater than the crease angle.\n *\n * @param {BufferGeometry} geometry\n * @param {number} [creaseAngle]\n * @return {BufferGeometry}\n */\nfunction toCreasedNormals( geometry, creaseAngle = Math.PI / 3 /* 60 degrees */ ) {\n\n\tconst creaseDot = Math.cos( creaseAngle );\n\tconst hashMultiplier = ( 1 + 1e-10 ) * 1e2;\n\n\t// reusable vectors\n\tconst verts = [ new Vector3(), new Vector3(), new Vector3() ];\n\tconst tempVec1 = new Vector3();\n\tconst tempVec2 = new Vector3();\n\tconst tempNorm = new Vector3();\n\tconst tempNorm2 = new Vector3();\n\n\t// hashes a vector\n\tfunction hashVertex( v ) {\n\n\t\tconst x = ~ ~ ( v.x * hashMultiplier );\n\t\tconst y = ~ ~ ( v.y * hashMultiplier );\n\t\tconst z = ~ ~ ( v.z * hashMultiplier );\n\t\treturn `${x},${y},${z}`;\n\n\t}\n\n\t// BufferGeometry.toNonIndexed() warns if the geometry is non-indexed\n\t// and returns the original geometry\n\tconst resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry;\n\tconst posAttr = resultGeometry.attributes.position;\n\tconst vertexMap = {};\n\n\t// find all the normals shared by commonly located vertices\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\t// add the normal to the map for all vertices\n\t\tconst normal = new Vector3().crossVectors( tempVec1, tempVec2 ).normalize();\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tif ( ! ( hash in vertexMap ) ) {\n\n\t\t\t\tvertexMap[ hash ] = [];\n\n\t\t\t}\n\n\t\t\tvertexMap[ hash ].push( normal );\n\n\t\t}\n\n\t}\n\n\t// average normals from all vertices that share a common location if they are within the\n\t// provided crease threshold\n\tconst normalArray = new Float32Array( posAttr.count * 3 );\n\tconst normAttr = new BufferAttribute( normalArray, 3, false );\n\tfor ( let i = 0, l = posAttr.count / 3; i < l; i ++ ) {\n\n\t\t// get the face normal for this vertex\n\t\tconst i3 = 3 * i;\n\t\tconst a = verts[ 0 ].fromBufferAttribute( posAttr, i3 + 0 );\n\t\tconst b = verts[ 1 ].fromBufferAttribute( posAttr, i3 + 1 );\n\t\tconst c = verts[ 2 ].fromBufferAttribute( posAttr, i3 + 2 );\n\n\t\ttempVec1.subVectors( c, b );\n\t\ttempVec2.subVectors( a, b );\n\n\t\ttempNorm.crossVectors( tempVec1, tempVec2 ).normalize();\n\n\t\t// average all normals that meet the threshold and set the normal value\n\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\tconst vert = verts[ n ];\n\t\t\tconst hash = hashVertex( vert );\n\t\t\tconst otherNormals = vertexMap[ hash ];\n\t\t\ttempNorm2.set( 0, 0, 0 );\n\n\t\t\tfor ( let k = 0, lk = otherNormals.length; k < lk; k ++ ) {\n\n\t\t\t\tconst otherNorm = otherNormals[ k ];\n\t\t\t\tif ( tempNorm.dot( otherNorm ) > creaseDot ) {\n\n\t\t\t\t\ttempNorm2.add( otherNorm );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttempNorm2.normalize();\n\t\t\tnormAttr.setXYZ( i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z );\n\n\t\t}\n\n\t}\n\n\tresultGeometry.setAttribute( 'normal', normAttr );\n\treturn resultGeometry;\n\n}\n\nexport {\n\tcomputeMikkTSpaceTangents,\n\tmergeGeometries,\n\tmergeAttributes,\n\tinterleaveAttributes,\n\testimateBytesUsed,\n\tmergeVertices,\n\ttoTrianglesDrawMode,\n\tcomputeMorphedAttributes,\n\tmergeGroups,\n\ttoCreasedNormals\n};\n","import * as THREE from 'three'; \nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { IconDimensions } from './IconConstants.js';\nimport { Colors } from '../../diagrams/DiagramConstants.js';\nimport { SVGLoader } from 'three/examples/jsm/loaders/SVGLoader.js';\nimport { mergeGeometries } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\nimport { max } from 'three/tsl';\n\nclass IconShape extends Shape {\n\n    static getGeometries(svgText, size) {\n        let svgLoader = new SVGLoader();\n        let data = svgLoader.parse(svgText);\n        console.log('SVG data:', data);\n\n        let iconGeometries = [];\n        data.paths.forEach((path) => {\n            // // Apply scale transformation to path\n            // path.subPaths.forEach(subPath => {\n            //     const points = subPath.getPoints();\n            //     points.forEach(point => {\n            //         point.multiplyScalar(0.01);\n            //         // Flip vertically by inverting the y-coordinate\n            //         point.y = -point.y;\n            //     });\n            // });\n\n            // Handle fills\n            const fillColor = path.userData.style.fill;\n            if (fillColor !== undefined && fillColor !== 'none') {\n                const shapes = SVGLoader.createShapes(path);\n                shapes.forEach((shape) => {\n                    let geometry = new THREE.ShapeGeometry(shape);\n                    if (geometry.index !== null) {\n                        geometry = geometry.toNonIndexed(); // Ensure geometry is non-indexed\n                    }\n                    iconGeometries.push(geometry);\n                });\n            }\n\n            // Handle strokes if needed\n            const strokeColor = path.userData.style.stroke;\n            if (strokeColor !== undefined && strokeColor !== 'none') {\n                path.subPaths.forEach((subPath) => {\n                    let geometry = SVGLoader.pointsToStroke(\n                        subPath.getPoints(),\n                        path.userData.style\n                    );\n                    if (geometry) {\n                        if (geometry.index !== null) {\n                            geometry = geometry.toNonIndexed(); // Ensure geometry is non-indexed\n                        }\n                        iconGeometries.push(geometry);\n                    }\n                });\n            }\n        });\n\n        // Merge icon geometries\n        const iconGeometry = mergeGeometries(iconGeometries, false); // .center().scale(1, -1, 1);\n        // SVG y coordinates are the inverse of normal cartesian, so correct for this using rotation.\n        iconGeometry.applyMatrix4(new THREE.Matrix4().makeRotationX(Math.PI));\n        // Normalise the size and center point of the icon as different sources have different sizes.\n            // Determine size of icon by bounding box.\n        iconGeometry.computeBoundingBox();\n        const boundingBox = iconGeometry.boundingBox;\n        const maxDimension = Math.max(boundingBox.max.x - boundingBox.min.x, boundingBox.max.y - boundingBox.min.y);\n        console.log('Icon bounding box maxDimension:', maxDimension);\n        const scaleFactor = size / maxDimension;\n            // Determine size of icon by bounding sphere.\n        iconGeometry.computeBoundingSphere();\n        const boundingSphere = iconGeometry.boundingSphere;\n        console.log('Icon bounding sphere:', boundingSphere);\n        // const scaleFactor = size / boundingSphere.radius;\n        // Scale the icon to the desired size\n        iconGeometry.scale(scaleFactor, scaleFactor, 1);\n        iconGeometry.center();\n\n        return iconGeometry;\n    }\n\n    constructor(iconSVG, size = IconDimensions.ICON_SIZE_MEDIUM) {\n        const color = Colors.ELEMENT_TEXT;\n        const iconGeometry = IconShape.getGeometries(iconSVG, size);\n        super(iconGeometry, new DiagramEditMaterial(color));\n\n        console.log('IconShape size:', this.getSize());\n    }\n}\n\nexport { IconShape };\n","import * as THREE from 'three';\n\nclass BarMaterial extends THREE.MeshPhongMaterial {\n  constructor(color) {\n    super({\n      color: color,\n      opacity: 0.5, \n      transparent: true,\n      shininess: 60,\n      specular: 0x666666,\n      emissive: 0x444444,\n      emissiveIntensity: 0.6\n    });\n  }\n}\n\nexport { BarMaterial };","import * as THREE from 'three';\n\nexport const ExtrusionParameters = {\n    steps: 2,\n    depth: 5, // 200,\n    bevelEnabled: true,\n    bevelThickness: .025,  // 1,\n    bevelSize: .075,  // 3,\n    bevelOffset: 0,\n    bevelSegments: 1\n};\n\n// Bar colors ( Material colors: https://www.materialui.co/colors )\nexport const ColorPalette = [\n    new THREE.Color( 0xf44336 ), // red\n    new THREE.Color( 0xE91E63 ), // pink\n    new THREE.Color( 0x9C27B0 ), // purple\n    new THREE.Color( 0x673AB7 ), // deep purple\n    new THREE.Color( 0x3F51B5 ), // indigo\n    new THREE.Color( 0x2196F3 ), // blue\n    new THREE.Color( 0x03A9F4 ), // light blue\n    new THREE.Color( 0x00BCD4 ), // cyan\n    new THREE.Color( 0x009688 ), // teal\n    new THREE.Color( 0x4CAF50 ), // green\n    new THREE.Color( 0x8BC34A ), // light green\n    new THREE.Color( 0xCDDC39 ), // lime\n    new THREE.Color( 0xFFEB3B ), // yellow\n    new THREE.Color( 0xFFC107 ), // amber\n    new THREE.Color( 0xFF9800 ), // orange\n    new THREE.Color( 0xFF5722 ), // deep orange\n    new THREE.Color( 0x795548 ), // brown\n    new THREE.Color( 0x9E9E9E ), // grey\n    new THREE.Color( 0x607D8B )  // blue grey\n];\n","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { BarMaterial } from '../../materials/BarMaterial.js';\nimport { ExtrusionParameters, ColorPalette } from './ValueBarConstants.js';\n\nclass ValueBarShape extends Shape {\n    constructor(shape, height, color) {\n        if (!(shape instanceof THREE.Shape)) {\n            throw new TypeError('shape must be an instance of THREE.Shape');\n        }\n\n        // Use color if provided, otherwise pick a random color from the palette\n        const barColor = color !== undefined ? color : ColorPalette[Math.floor(Math.random() * ColorPalette.length)];\n        // Use height if provided, otherwise pick a random height\n        const barHeight = height !== undefined ? height : Math.floor(Math.random() * 10) + 1;\n        // Extrusion parameters\n        const extrusionParameters = { ...ExtrusionParameters, depth: barHeight };\n\n        var barGeometry = new THREE.ExtrudeGeometry( shape, extrusionParameters );\n\n        // Construct the shape\n        super(barGeometry, new BarMaterial(barColor));\n\n        // this.barHeight = barHeight;\n    }\n\n    // draw(ctx, x, y, width) {\n    //     ctx.fillRect(x, y - this.barHeight, width, this.barHeight);\n    // }\n}\n\nclass ValueBarChart {\n    constructor(bars) {\n        this.bars = bars;\n    }\n\n    draw(ctx, x, y, barWidth, barSpacing) {\n        this.bars.forEach((bar, index) => {\n            const barShape = new ValueBarShape(bar.height);\n            barShape.draw(ctx, x + index * (barWidth + barSpacing), y, barWidth);\n        });\n    }\n}\n\nexport { ValueBarShape, ValueBarChart };\n\n// Example usage:\n// const canvas = document.getElementById('myCanvas');\n// const ctx = canvas.getContext('2d');\n// const bars = [{ height: 100 }, { height: 150 }, { height: 200 }];\n// const barChart = new BarChart(bars);\n// barChart.draw(ctx, 10, 300, 50, 10);\n","export const ConnectorDimensions = {\n    CONNECTOR_LINE_WIDTH: 1, // .1, // (4 / 40),\n    CONNECTOR_OUTER_RADIUS: 10, // .625, // (25 / 40),\n    CONNECTOR_INNER_RADIUS: 8.5, // .525, // (21 / 40),\n    CONNECTOR_ARROWHEAD_WIDTH: 6, // .375, // (15 / 40),\n    CONNECTOR_ARROWHEAD_LENGTH: 14, // .875 // (35 / 90),\n};\n","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { ExtrusionParameters, Colors } from '../../diagrams/DiagramConstants.js';\nimport { ConnectorDimensions } from './ConnectorConstants.js';\n\nclass RoundedCornerOrthogonalConnectorShape extends Shape {\n    constructor(connectorPoints) {\n        const outerRadius = ConnectorDimensions.CONNECTOR_OUTER_RADIUS;\n        const innerRadius = ConnectorDimensions.CONNECTOR_INNER_RADIUS;\n        const lineWidth = ConnectorDimensions.CONNECTOR_LINE_WIDTH;\n        const arrowheadWidth = ConnectorDimensions.CONNECTOR_ARROWHEAD_WIDTH;\n        const arrowheadLength = ConnectorDimensions.CONNECTOR_ARROWHEAD_LENGTH;\n        const width = lineWidth / 2;\n        const color = Colors.ELEMENT_STROKE;\n        const extrudeSettings = ExtrusionParameters;\n\n        var connectorShape = new THREE.Shape();\n\n        // draw the end of the first segment\n        if (connectorPoints[0].y == connectorPoints[1].y\n            && connectorPoints[0].x < connectorPoints[1].x) { // horizontal segment right\n            connectorShape.moveTo(connectorPoints[0].x, connectorPoints[0].y + width);\n            connectorShape.lineTo(connectorPoints[0].x, connectorPoints[0].y - width);\n        }\n        if (connectorPoints[0].y == connectorPoints[1].y\n            && connectorPoints[0].x > connectorPoints[1].x) { // horizontal segment left\n            connectorShape.moveTo(connectorPoints[0].x, connectorPoints[0].y - width);\n            connectorShape.lineTo(connectorPoints[0].x, connectorPoints[0].y + width);\n        }\n        if (connectorPoints[0].x == connectorPoints[1].x\n            && connectorPoints[0].y < connectorPoints[1].y) { // vertical segment up\n            connectorShape.moveTo(connectorPoints[0].x - width, connectorPoints[0].y);\n            connectorShape.lineTo(connectorPoints[0].x + width, connectorPoints[0].y);\n        }\n        if (connectorPoints[0].x == connectorPoints[1].x\n            && connectorPoints[0].y > connectorPoints[1].y) { // vertical segment down\n            connectorShape.moveTo(connectorPoints[0].x + width, connectorPoints[0].y);\n            connectorShape.lineTo(connectorPoints[0].x - width, connectorPoints[0].y);\n        }\n        // draw all segments forward\n        for (var i = 1; i < connectorPoints.length - 1; i++) {\n            if (connectorPoints[i - 1].y == connectorPoints[i].y) { // horizontal\n                if (connectorPoints[i - 1].x < connectorPoints[i].x) { // right\n                    if (connectorPoints[i].y < connectorPoints[i + 1].y) { // right up\n                        connectorShape.lineTo(connectorPoints[i].x + width - outerRadius, connectorPoints[i].y - width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y - width,\n                            connectorPoints[i].x + width, connectorPoints[i].y - width + outerRadius);\n\n                    } else { // right down\n                        connectorShape.lineTo(connectorPoints[i].x - width - innerRadius, connectorPoints[i].y - width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y - width,\n                            connectorPoints[i].x - width, connectorPoints[i].y - width - innerRadius);\n                    }\n                } else { // left\n                    if (connectorPoints[i].y < connectorPoints[i + 1].y) { // left up\n                        connectorShape.lineTo(connectorPoints[i].x + width + innerRadius, connectorPoints[i].y + width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y + width,\n                            connectorPoints[i].x + width, connectorPoints[i].y + width + innerRadius);\n                    } else { // left down\n                        connectorShape.lineTo(connectorPoints[i].x - width + outerRadius, connectorPoints[i].y + width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y - width,\n                            connectorPoints[i].x - width, connectorPoints[i].y + width - outerRadius);\n                    }\n                }\n            }\n            if (connectorPoints[i - 1].x == connectorPoints[i].x) { // vertical\n                if (connectorPoints[i - 1].y < connectorPoints[i].y) { // up\n                    if (connectorPoints[i].x < connectorPoints[i + 1].x) { // up right\n                        connectorShape.lineTo(connectorPoints[i].x + width, connectorPoints[i].y - width - innerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y - width,\n                            connectorPoints[i].x + width + innerRadius, connectorPoints[i].y - width);\n                    } else { // up left\n                        connectorShape.lineTo(connectorPoints[i].x + width, connectorPoints[i].y + width - outerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y + width,\n                            connectorPoints[i].x + width - outerRadius, connectorPoints[i].y + width);\n                    }\n                } else { // down\n                    if (connectorPoints[i].x < connectorPoints[i + 1].x) { // down right\n                        connectorShape.lineTo(connectorPoints[i].x - width, connectorPoints[i].y - width + outerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y - width,\n                            connectorPoints[i].x - width + outerRadius, connectorPoints[i].y - width);\n                    } else { // down left\n                        connectorShape.lineTo(connectorPoints[i].x - width, connectorPoints[i].y + width + innerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y + width,\n                            connectorPoints[i].x - width - innerRadius, connectorPoints[i].y + width);\n                    }\n                }\n            }\n        }\n\n        // draw the last segment\n        if (connectorPoints[connectorPoints.length - 2].y\n            == connectorPoints[connectorPoints.length - 1].y\n            && connectorPoints[connectorPoints.length - 2].x\n            < connectorPoints[connectorPoints.length - 1].x) { // horizontal segment right\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y - width);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadWidth);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x,\n                connectorPoints[connectorPoints.length - 1].y);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y + arrowheadWidth);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y + width);\n        }\n        if (connectorPoints[connectorPoints.length - 2].y\n            == connectorPoints[connectorPoints.length - 1].y\n            && connectorPoints[connectorPoints.length - 2].x\n            > connectorPoints[connectorPoints.length - 1].x) { // horizontal segment left\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y + width);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y + arrowheadWidth);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x,\n                connectorPoints[connectorPoints.length - 1].y);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadWidth);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadLength,\n                connectorPoints[connectorPoints.length - 1].y - width);\n        }\n        if (connectorPoints[connectorPoints.length - 2].x\n            == connectorPoints[connectorPoints.length - 1].x\n            && connectorPoints[connectorPoints.length - 2].y\n            < connectorPoints[connectorPoints.length - 1].y) { // vertical segment up\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + width,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadLength);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadWidth,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadLength);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x,\n                connectorPoints[connectorPoints.length - 1].y);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadWidth,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadLength);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - width,\n                connectorPoints[connectorPoints.length - 1].y - arrowheadLength);\n        }\n        if (connectorPoints[connectorPoints.length - 2].x\n            == connectorPoints[connectorPoints.length - 1].x\n            && connectorPoints[connectorPoints.length - 2].y\n            > connectorPoints[connectorPoints.length - 1].y) { // vertical segment down\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - width,\n                connectorPoints[connectorPoints.length - 1].y + (arrowheadLength * 32/35)); // TODO: Explain why arrow down is shorter 35-32\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x - arrowheadWidth,\n                connectorPoints[connectorPoints.length - 1].y + (arrowheadLength * 32/35));\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x,\n                connectorPoints[connectorPoints.length - 1].y);\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + arrowheadWidth,\n                connectorPoints[connectorPoints.length - 1].y + (arrowheadLength * 32/35));\n            connectorShape.lineTo(connectorPoints[connectorPoints.length - 1].x + width,\n                connectorPoints[connectorPoints.length - 1].y + (arrowheadLength * 32/35));\n        }\n\n        // draw all segments backward\n        for (var i = connectorPoints.length - 2; i > 0; i--) {\n            if (connectorPoints[i + 1].y == connectorPoints[i].y) { // horizontal\n                if (connectorPoints[i + 1].x < connectorPoints[i].x) { // right\n                    if (connectorPoints[i].y < connectorPoints[i - 1].y) { // right up\n                        connectorShape.lineTo(connectorPoints[i].x + width - innerRadius, connectorPoints[i].y - width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y - width,\n                            connectorPoints[i].x + width, connectorPoints[i].y - width + innerRadius);\n                    } else { // right down\n                        connectorShape.lineTo(connectorPoints[i].x - width - innerRadius, connectorPoints[i].y - width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y - width,\n                            connectorPoints[i].x - width, connectorPoints[i].y - width - innerRadius);\n                    }\n                } else { // left\n                    if (connectorPoints[i].y < connectorPoints[i - 1].y) { // left up\n                        connectorShape.lineTo(connectorPoints[i].x + width + innerRadius, connectorPoints[i].y + width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y + width,\n                            connectorPoints[i].x + width, connectorPoints[i].y + width + innerRadius);\n                    } else { // left down\n                        connectorShape.lineTo(connectorPoints[i].x - width + outerRadius, connectorPoints[i].y + width);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y + width,\n                            connectorPoints[i].x - width, connectorPoints[i].y + width - outerRadius);\n                    }\n                }\n            }\n            if (connectorPoints[i + 1].x == connectorPoints[i].x) { // vertical\n                if (connectorPoints[i + 1].y < connectorPoints[i].y) { // up\n                    if (connectorPoints[i].x < connectorPoints[i - 1].x) { // up right\n                        connectorShape.lineTo(connectorPoints[i].x + width, connectorPoints[i].y - width - innerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y - width,\n                            connectorPoints[i].x + width + innerRadius, connectorPoints[i].y - width);\n                    } else { // up left\n                        connectorShape.lineTo(connectorPoints[i].x + width, connectorPoints[i].y + width - outerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x + width, connectorPoints[i].y + width,\n                            connectorPoints[i].x + width - outerRadius, connectorPoints[i].y + width);\n                    }\n                } else { // down\n                    if (connectorPoints[i].x < connectorPoints[i - 1].x) { // down right\n                        connectorShape.lineTo(connectorPoints[i].x - width, connectorPoints[i].y - width + outerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y - width,\n                            connectorPoints[i].x - width + outerRadius, connectorPoints[i].y - width);\n                    } else { // down left\n                        connectorShape.lineTo(connectorPoints[i].x - width, connectorPoints[i].y + width + innerRadius);\n                        connectorShape.quadraticCurveTo(connectorPoints[i].x - width, connectorPoints[i].y + width,\n                            connectorPoints[i].x - width - innerRadius, connectorPoints[i].y + width);\n                    }\n                }\n            }\n        }\n\n        // The last segment\n        if (connectorPoints[0].y == connectorPoints[1].y\n            && connectorPoints[0].x < connectorPoints[1].x) { // horizontal segment right\n            connectorShape.lineTo(connectorPoints[0].x, connectorPoints[0].y + width);\n        }\n        if (connectorPoints[0].y == connectorPoints[1].y\n            && connectorPoints[0].x > connectorPoints[1].x) { // horizontal segment left\n            connectorShape.lineTo(connectorPoints[0].x, connectorPoints[0].y - width);\n        }\n        if (connectorPoints[0].x == connectorPoints[1].x\n            && connectorPoints[0].y < connectorPoints[1].y) { // vertical segment up\n            connectorShape.lineTo(connectorPoints[0].x - width, connectorPoints[0].y);\n        }\n        if (connectorPoints[0].x == connectorPoints[1].x\n            && connectorPoints[0].y > connectorPoints[1].y) { // vertical segment down\n            connectorShape.lineTo(connectorPoints[0].x + width, connectorPoints[0].y);\n        }\n\n        var connectorGeometry = new THREE.ExtrudeGeometry(connectorShape, extrudeSettings);\n\n        // Construct the shape\n        super(connectorGeometry, new DiagramEditMaterial(color));\n    }\n}\n\nexport { RoundedCornerOrthogonalConnectorShape };","import * as THREE from 'three';\nimport { RoundedCornerOrthogonalConnectorShape } from '../shapes/connector/RoundedCornerOrthogonalConnectorShape.js';\n\nclass Connector extends THREE.Mesh {\n    constructor(elementId, \n                shape = new RoundedCornerOrthogonalConnectorShape(), \n                sourceElement = null,\n                targetElement = null,\n                sourcePoint = { x: 0, y: 0 },\n                targetPoint = { x: 2, y: 2 },\n                waypoints = [{ x: 0, y: 1 }, { x: 2, y: 1 }], \n                properties = {}) {\n        super(shape.geometry, shape.material);\n        this.elementId = elementId;\n        this.sourceElement = sourceElement;\n        this.targetElement = targetElement;\n        this.shape = shape;\n        this.points = [sourcePoint, ...waypoints, targetPoint];\n        this.properties = properties;\n    }\n\n    setDiagram(diagram) {\n        this.diagram = diagram;\n    }\n\n    static determinePoints(sourcePoint, targetPoint, sourcePosition, targetPosition) { //TODO: rozbudować o sourcePosition i targetPosition (np. trzyelementowe konektory)\n        let waypoints = [];\n\n        if (sourcePoint.x !== targetPoint.x && sourcePoint.y !== targetPoint.y) {\n            // if source position starts with W or E then use the y coordinate of the source point\n            // and the x coordinate of the target point\n            if (sourcePosition.startsWith('W') || sourcePosition.startsWith('E')) {\n                waypoints.push({ x: targetPoint.x, y: sourcePoint.y });\n            }\n            // if source position starts with N or S then use the x coordinate of the source point\n            // and the y coordinate of the target point\n            if (sourcePosition.startsWith('N') || sourcePosition.startsWith('S')) {\n                waypoints.push({ x: sourcePoint.x, y: targetPoint.y });\n            }\n        }\n\n        return [sourcePoint, ...waypoints, targetPoint];\n    }    \n\n}\n\nexport { Connector };","import * as THREE from 'three';\nimport { BoxShape } from '../shapes/basic/BoxShape.js';\nimport { TextShape } from '../shapes/text/TextShape.js';\nimport { IconShape } from '../shapes/icon/IconShape.js';\nimport { ValueBarShape } from '../shapes/bar/ValueBarShape.js';\nimport { DiagramDimensions } from '../diagrams/DiagramConstants.js';\nimport { IconDimensions } from '../shapes/icon/IconConstants.js';\nimport { Connector } from '../connectors/Connector.js';\nimport { RoundedCornerOrthogonalConnectorShape } from '../shapes/connector/RoundedCornerOrthogonalConnectorShape.js';\n\n/**\n * Represents a diagram element that can be positioned, connected, and decorated with text, icons, and bars.\n * @extends THREE.Mesh\n */\nclass Element extends THREE.Mesh {\n    /**\n     * Creates a new diagram element.\n     * @param {string} elementId - Unique identifier for the element\n     * @param {Shape} [shape=new BoxShape()] - Shape of the element\n     * @param {Object} [positionXY={ x: 0, y: 0 }] - Initial position of the element\n     * @param {number} positionXY.x - X coordinate\n     * @param {number} positionXY.y - Y coordinate\n     */\n    constructor(elementId, \n                shape = new BoxShape(),                // Default shape is BoxShape. Type is Shape (lib/shapes/Shape.js)\n                positionXY = { x: 0, y: 0 } ) {        // Position of the center of the Element\n        super(shape.geometry, shape.material);\n        this.elementId = elementId;\n        this.type = shape.constructor.name; // Derive type from shape's constructor name\n        this.parameters = {}; // Parameters of the element\n        this.shape = shape;\n        this.position.set(positionXY.x, positionXY.y, 0); // Use set method to update position\n        this.width = this.getSize().x;\n        this.height = this.getSize().y;\n        this.texts = [];\n        this.icons = [];\n        this.valueBars = [];\n    }\n\n    /**\n     * Sets the diagram context for this element.\n     * @param {Diagram} diagram - The diagram this element belongs to\n     */\n    setDiagram(diagram) {\n        this.diagram = diagram;\n    }\n    \n    // ================================================================\n    // Element placement methods\n    // ================================================================\n\n    /**\n     * Gets the size of the element's bounding box.\n     * @returns {THREE.Vector3} The size vector containing width, height, and depth\n     */\n    getSize() {\n        const size = new THREE.Vector3();\n        this.shape.geometry.computeBoundingBox();\n        this.shape.geometry.boundingBox.getSize(size);\n        // console.log(`size: ${size.x}, ${size.y}, ${size.z}`);\n        return size;\n    }\n\n    /**\n     * Positions the element and its decorations at the specified coordinates.\n     * @param {Object} position - The position coordinates\n     * @param {number} position.x - X coordinate\n     * @param {number} position.y - Y coordinate\n     * @param {number} [position.z] - Optional Z coordinate\n     * @returns {Element} This element for method chaining\n     */\n    positionAt(position) {\n        if (position.z !== undefined) {\n            this.position.set(position.x, position.y, position.z);\n        } else {\n            this.position.set(position.x, position.y, 0);\n        }\n\n        // Set the position of the element's texts, icons, and bars\n        this.texts.forEach(text => {\n            const offset = text.positionOffset;\n            if (position.z !== undefined) {\n                text.element.position.set(position.x + offset.x, position.y + offset.y, position.z + offset.z);\n            } else {\n                text.element.position.set(position.x + offset.x, position.y + offset.y, offset.z);\n            }\n        });\n        this.icons.forEach(icon => {\n            const offset = icon.positionOffset;\n            if (position.z !== undefined) {\n                icon.element.position.set(position.x + offset.x, position.y + offset.y, position.z + offset.z);\n            } else {\n                icon.element.position.set(position.x + offset.x, position.y + offset.y, offset.z);\n            }\n        });\n        this.valueBars.forEach(bar => {\n            const offset = bar.positionOffset;\n            if (position.z !== undefined) {\n                bar.element.position.set(position.x + offset.x, position.y + offset.y, position.z + offset.z);\n            } else {\n                bar.element.position.set(position.x + offset.x, position.y + offset.y, offset.z);\n            }\n        });\n\n        return this;\n    }\n\n    /**\n     * Sets the position of the element using individual coordinates.\n     * @param {number} x - X coordinate\n     * @param {number} y - Y coordinate\n     * @param {number} z - Z coordinate\n     * @returns {Element} This element for method chaining\n     */\n    setPosition(x, y, z) {\n        const pos = new THREE.Vector3(x, y, z);\n        this.positionAt(pos);\n        return this;\n    }\n\n    /**\n     * Gets the current position of the element.\n     * @returns {THREE.Vector3} The position vector\n     */\n    getPosition() {\n        return this.position;\n        // return new THREE.Vector3(this.position.x, this.position.y);\n    }\n\n    /**\n     * Positions this element to the right of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionRightOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const thisWidth = this.getSize().x;\n        // console.log(`positionRightOf(${element.elementId}), element.getSize().x: ${element.getSize().x}`);  \n        this.setPosition(element.position.x + elementWidth / 2\n                                + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                + thisWidth / 2, // x\n                            element.position.y, // y\n                            0 ); // z \n        return this;\n    }\n\n    /**\n     * Positions this element to the left of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionLeftOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const thisWidth = this.getSize().x;\n        this.setPosition(element.position.x - elementWidth / 2\n                                - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                - thisWidth / 2, // x\n                            element.position.y, // y\n                            0 ); // z \n        return this;\n    }\n    \n    /**\n     * Positions this element above another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionUpOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementHeight = element.getSize().y;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x, // x\n                          element.position.y + elementHeight / 2 \n                                            + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            + thisHeight / 2, // y\n                          0 ); // z\n        return this;\n    }\n\n    /**\n     * Positions this element below another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionDownOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementHeight = element.getSize().y;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x, // x\n                          element.position.y - elementHeight / 2 \n                                            - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            - thisHeight / 2, // y\n                          0 ); // z\n \n        return this;\n    }\n\n    /**\n     * Positions this element above and to the left of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionUpLeftOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const elementHeight = element.getSize().y;\n        const thisWidth = this.getSize().x;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x - elementWidth / 2\n                                - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                - thisWidth / 2, // x\n                          element.position.y + elementHeight / 2 \n                                            + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            + thisHeight / 2, // y\n                          0 ); // z\n        return this;\n    }\n\n    /**\n     * Positions this element below and to the left of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionDownLeftOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const elementHeight = element.getSize().y;\n        const thisWidth = this.getSize().x;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x - elementWidth / 2\n                                - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                - thisWidth / 2, // x\n                          element.position.y - elementHeight / 2 \n                                            - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            - thisHeight / 2, // y\n                          0 ); // z\n        return this;\n    }\n\n    /**\n     * Positions this element above and to the right of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionUpRightOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const elementHeight = element.getSize().y;\n        const thisWidth = this.getSize().x;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x + elementWidth / 2\n                                + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                + thisWidth / 2, // x\n                          element.position.y + elementHeight / 2 \n                                            + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            + thisHeight / 2, // y\n                          0 ); // z\n        return this;\n    }\n                    \n    /**\n     * Positions this element below and to the right of another element.\n     * @param {string} elementId - ID of the reference element\n     * @returns {Element} This element for method chaining\n     */\n    positionDownRightOf(elementId) {\n        const element = this.diagram.getElementById(elementId);\n        const elementWidth = element.getSize().x;\n        const elementHeight = element.getSize().y;\n        const thisWidth = this.getSize().x;\n        const thisHeight = this.getSize().y;\n        this.setPosition(element.position.x + elementWidth / 2\n                                + DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                + thisWidth / 2, // x\n                          element.position.y - elementHeight / 2 \n                                            - DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS \n                                            - thisHeight / 2, // y\n                          0 ); // z\n        return this;\n    }\n\n       \n    // =================================================================\n    // Determine connecting points positions in geographical manner \n    // (N, S, E, W, NNE, NNW, NEE, NWW, SEE, SWW, SSE, SSW)\n    // for connectors to connect to\n    // ================================================================\n\n    /**\n     * Gets the north connection point of the element.\n     * The point is positioned at the middle of the element's top edge.\n     * @returns {THREE.Vector2} A 2D vector representing the north point coordinates\n     *                         where x is the element's center x-coordinate\n     *                         and y is the element's top edge y-coordinate\n     */\n    getNorthPoint() {\n        return new THREE.Vector2( this.position.x, \n                                  this.position.y + this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the south connection point of the element.\n     * The point is positioned at the middle of the element's bottom edge.\n     * @returns {THREE.Vector2} A 2D vector representing the south point coordinates\n     *                         where x is the element's center x-coordinate\n     *                         and y is the element's bottom edge y-coordinate\n     */\n    getSouthPoint() {\n        return new THREE.Vector2( this.position.x, \n                                  this.position.y - this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the east connection point of the element.\n     * The point is positioned at the middle of the element's right edge.\n     * @returns {THREE.Vector2} A 2D vector representing the east point coordinates\n     *                         where x is the element's right edge x-coordinate\n     *                         and y is the element's center y-coordinate\n     */\n    getEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 2, \n                                  this.position.y );\n    }\n\n    /**\n     * Gets the west connection point of the element.\n     * The point is positioned at the middle of the element's left edge.\n     * @returns {THREE.Vector2} A 2D vector representing the west point coordinates\n     *                         where x is the element's left edge x-coordinate\n     *                         and y is the element's center y-coordinate\n     */\n    getWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 2, \n                                  this.position.y );\n    }\n\n    /**\n     * Gets the north-east connection point of the element.\n     * The point is positioned at the top-right corner of the element.\n     * @returns {THREE.Vector2} A 2D vector representing the north-east point coordinates\n     *                         where x is the element's right edge x-coordinate\n     *                         and y is the element's top edge y-coordinate\n     */\n    getNorthEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 2, \n                                  this.position.y + this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the north-west connection point of the element.\n     * The point is positioned at the top-left corner of the element.\n     * @returns {THREE.Vector2} A 2D vector representing the north-west point coordinates\n     *                         where x is the element's left edge x-coordinate\n     *                         and y is the element's top edge y-coordinate\n     */\n    getNorthWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 2, \n                                  this.position.y + this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the south-east connection point of the element.\n     * The point is positioned at the bottom-right corner of the element.\n     * @returns {THREE.Vector2} A 2D vector representing the south-east point coordinates\n     *                         where x is the element's right edge x-coordinate\n     *                         and y is the element's bottom edge y-coordinate\n     */\n    getSouthEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 2, \n                                  this.position.y - this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the south-west connection point of the element.\n     * The point is positioned at the bottom-left corner of the element.\n     * @returns {THREE.Vector2} A 2D vector representing the south-west point coordinates\n     *                         where x is the element's left edge x-coordinate\n     *                         and y is the element's bottom edge y-coordinate\n     */\n    getSouthWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 2, \n                                  this.position.y - this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the north-north-east connection point of the element.\n     * The point is positioned on the top edge, one-quarter of the width from the center towards the right.\n     * @returns {THREE.Vector2} A 2D vector representing the north-north-east point coordinates\n     *                         where x is the element's center x-coordinate plus one-quarter of the width\n     *                         and y is the element's top edge y-coordinate\n     */\n    getNorthNorthEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 4, \n                                  this.position.y + this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the north-north-west connection point of the element.\n     * The point is positioned on the top edge, one-quarter of the width from the center towards the left.\n     * @returns {THREE.Vector2} A 2D vector representing the north-north-west point coordinates\n     *                         where x is the element's center x-coordinate minus one-quarter of the width\n     *                         and y is the element's top edge y-coordinate\n     */\n    getNorthNorthWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 4, \n                                  this.position.y + this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the north-east-east connection point of the element.\n     * The point is positioned on the right edge, one-quarter of the height from the top.\n     * @returns {THREE.Vector2} A 2D vector representing the north-east-east point coordinates\n     * where x is the element's right edge x-coordinate\n     * and y is the element's top edge y-coordinate plus one-quarter of the height\n     */\n    getNorthEastEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 2, \n                                  this.position.y + this.getSize().y / 4 );\n    }\n\n    /**\n     * Gets the north-west-west connection point of the element.\n     * The point is positioned on the left edge, one-quarter of the height from the top.\n     * @returns {THREE.Vector2} A 2D vector representing the north-west-west point coordinates\n     * where x is the element's left edge x-coordinate\n     * and y is the element's top edge y-coordinate plus one-quarter of the height\n     */\n    getNorthWestWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 2, \n                                  this.position.y + this.getSize().y / 4 );\n    }\n\n    /**\n     * Gets the south-south-east connection point of the element.\n     * The point is positioned on the bottom edge, one-quarter of the width from the center towards the right.\n     * @returns {THREE.Vector2} A 2D vector representing the south-south-east point coordinates\n     * where x is the element's center x-coordinate plus one-quarter of the width\n     * and y is the element's bottom edge y-coordinate\n     */\n    getSouthSouthEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 4, \n                                  this.position.y - this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the south-south-west connection point of the element.\n     * The point is positioned on the bottom edge, one-quarter of the width from the center towards the left.\n     * @returns {THREE.Vector2} A 2D vector representing the south-south-west point coordinates\n     * where x is the element's center x-coordinate minus one-quarter of the width\n     * and y is the element's bottom edge y-coordinate\n     */\n    getSouthSouthWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 4, \n                                  this.position.y - this.getSize().y / 2 );\n    }\n\n    /**\n     * Gets the south-east-east connection point of the element.\n     * The point is positioned on the right edge, one-quarter of the height from the bottom.\n     * @returns {THREE.Vector2} A 2D vector representing the south-east-east point coordinates\n     * where x is the element's right edge x-coordinate\n     * and y is the element's bottom edge y-coordinate plus one-quarter of the height\n     */\n    getSouthEastEastPoint() {\n        return new THREE.Vector2( this.position.x + this.getSize().x / 2, \n                                  this.position.y - this.getSize().y / 4 );\n    }\n\n    /**\n     * Gets the south-west-west connection point of the element.\n     * The point is positioned on the left edge, one-quarter of the height from the bottom.\n     * @returns {THREE.Vector2} A 2D vector representing the south-west-west point coordinates\n     * where x is the element's left edge x-coordinate\n     * and y is the element's bottom edge y-coordinate plus one-quarter of the height\n     */\n    getSouthWestWestPoint() {\n        return new THREE.Vector2( this.position.x - this.getSize().x / 2, \n                                  this.position.y - this.getSize().y / 4 );\n    }\n\n    /**\n     * Gets the position of a connection point on the element.\n     * @param {string} position - Position identifier (N, S, E, W, NE, NW, etc.)\n     * @returns {THREE.Vector2} The connection point coordinates\n     * @throws {Error} If the position identifier is invalid\n     */\n    getPointPosition(position) {\n        switch (position) {\n            case 'N':\n            case 'north':\n                return this.getNorthPoint();\n            case 'S':\n            case 'south':\n                return this.getSouthPoint();\n            case 'E':\n            case 'east':\n                return this.getEastPoint();\n            case 'W':\n            case 'west':\n                return this.getWestPoint();\n            case 'NE':\n            case 'northeast':\n                return this.getNorthEastPoint();\n            case 'NW':\n            case 'northwest':\n                return this.getNorthWestPoint();\n            case 'SE':\n            case 'southeast':\n                return this.getSouthEastPoint();\n            case 'SW':\n            case 'southwest':\n                return this.getSouthWestPoint();\n            case 'NNE':\n            case 'northnortheast':\n                return this.getNorthNorthEastPoint();\n            case 'NNW':\n            case 'northnorthwest':\n                return this.getNorthNorthWestPoint();\n            case 'NEE':\n            case 'northeast':\n                return this.getNorthEastEastPoint();\n            case 'NWW':\n            case 'northwest':\n                return this.getNorthWestWestPoint();\n            case 'SSE':\n            case 'southsoutheast':\n                return this.getSouthSouthEastPoint();\n            case 'SSW':\n            case 'southsouthwest':\n                return this.getSouthSouthWestPoint();\n            case 'SEE':\n            case 'southeast':\n                return this.getSouthEastEastPoint();\n            case 'SWW':\n            case 'southwest':\n                return this.getSouthWestWestPoint();\n            default:\n                throw new Error(`Unknown position: ${position}`);\n        }\n    }\n\n\n    // ================================================================\n    // Add Text methods\n    // ================================================================\n\n    /**\n     * Adds text to the element.\n     * @param {string} text - The text to add\n     * @returns {Element} This element for method chaining\n     */\n    addText(text) {\n        const textElement = new Element(this.elementId + '_text', new TextShape(text));\n        this.diagram.addElement(textElement).positionAt(this.position);\n        this.texts.push({ element: textElement, positionOffset: new THREE.Vector3(0, 0, 0) });\n        return this;\n    }\n\n    /**\n     * Adds wrapped text that fits within the element's bounds.\n     * @param {string} text - The text to add and wrap\n     * @returns {Element} This element for method chaining\n     */\n    addWrappedText(text) {\n        // If text is null or undefined, log a warning and return\n        if (!text) {\n            console.warn('addWrappedText: text is null or undefined');\n            return this;\n        }\n        // If text is not null, add wrapped text\n        let wrappedText = text.replace(/\\s+/g, '\\n');\n\n        let wrappedTextElement = new Element( this.elementId + '_text', new TextShape(wrappedText));\n        let candidateTextElement;\n\n        while (true) {\n            let words = wrappedText.split('\\n');\n            let minLength = Infinity;\n            let minIndex = -1;\n\n            for (let i = 0; i < words.length - 1; i++) {\n                let combinedLength = words[i].length + words[i + 1].length;\n                if (combinedLength < minLength) {\n                    minLength = combinedLength;\n                    minIndex = i;\n                }\n            }\n\n            // console.log('minIndex:', minIndex);\n            if (minIndex === -1) break;\n\n            words[minIndex] = words[minIndex] + ' ' + words[minIndex + 1];\n            words.splice(minIndex + 1, 1);\n            wrappedText = words.join('\\n');\n\n            candidateTextElement = new Element( this.elementId + '_text', new TextShape(wrappedText));\n\n            if (candidateTextElement.getSize().x <= this.getSize().x * .9) {\n                // console.log('FITS INSIDE !');\n                wrappedTextElement = candidateTextElement;\n            } else {\n                break;\n            }\n        }\n\n        this.diagram.addElement(wrappedTextElement)\n            .positionAt({ x: this.position.x, y: this.position.y, z: 3 }); //TODO: Use lib/shapes/bpmn/BpmnConstants.js BpmnDimensions.ACTIVITY_TEXT_SIZE and ACTIVITY_TEXT_ELEVATION\n        // .positionAt(this.position);\n        this.texts.push({ element: wrappedTextElement, positionOffset: new THREE.Vector3(0, 0, 3) });\n        return this;\n    }\n\n    // ================================================================\n    // Add icons methods\n    // ================================================================\n\n    /**\n     * Gets the placeholder position for an icon at the top of the element.\n     * The position is calculated by taking the element's top edge and offsetting it inward\n     * by half the icon size plus padding.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's center x-coordinate\n     *                         and y is the element's top edge y-coordinate minus (icon size/2 + padding)\n     */\n    getTopIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x, \n            this.position.y + this.getSize().y / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the bottom of the element.\n     * The position is calculated by taking the element's bottom edge and offsetting it inward\n     * by half the icon size plus padding.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's center x-coordinate\n     *                         and y is the element's bottom edge y-coordinate plus (icon size/2 + padding)\n     */\n    getBottomIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x, \n            this.position.y - this.getSize().y / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the left of the element.\n     * The position is calculated by taking the element's left edge and offsetting it inward\n     * by half the icon size plus padding.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's left edge x-coordinate plus (icon size/2 + padding)\n     *                         and y is the element's center y-coordinate\n     */\n    getLeftIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x - this.getSize().x / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING, this.position.y);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the right of the element.\n     * The position is calculated by taking the element's right edge and offsetting it inward\n     * by half the icon size plus padding.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's right edge x-coordinate minus (icon size/2 + padding)\n     *                         and y is the element's center y-coordinate\n     */\n    getRightIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x + this.getSize().x / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING, \n            this.position.y);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the top-left corner of the element.\n     * The position is calculated by taking the element's top-left corner and offsetting it inward\n     * by half the icon size plus padding along both axes.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's left edge x-coordinate plus (icon size/2 + padding)\n     *                         and y is the element's top edge y-coordinate minus (icon size/2 + padding)\n     */\n    getTopLeftIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x - this.getSize().x / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING, \n            this.position.y + this.getSize().y / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING\n            );\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the top-right corner of the element.\n     * The position is calculated by taking the element's top-right corner and offsetting it inward\n     * by half the icon size plus padding along both axes.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's right edge x-coordinate minus (icon size/2 + padding)\n     *                         and y is the element's top edge y-coordinate minus (icon size/2 + padding)\n     */\n    getTopRightIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x + this.getSize().x / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING, \n            this.position.y + this.getSize().y / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the bottom-left corner of the element.\n     * The position is calculated by taking the element's bottom-left corner and offsetting it inward\n     * by half the icon size plus padding along both axes.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's left edge x-coordinate plus (icon size/2 + padding)\n     *                         and y is the element's bottom edge y-coordinate plus (icon size/2 + padding)\n     */\n    getBottomLeftIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x - this.getSize().x / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING, \n            this.position.y - this.getSize().y / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the bottom-right corner of the element.\n     * The position is calculated by taking the element's bottom-right corner and offsetting it inward\n     * by half the icon size plus padding along both axes.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's right edge x-coordinate minus (icon size/2 + padding)\n     *                         and y is the element's bottom edge y-coordinate plus (icon size/2 + padding)\n     */\n    getBottomRightIconPlaceholder() {\n        return new THREE.Vector2(\n            this.position.x + this.getSize().x / 2 - IconDimensions.ICON_SIZE_SMALL / 2 - IconDimensions.ICON_PADDING, \n            this.position.y - this.getSize().y / 2 + IconDimensions.ICON_SIZE_SMALL / 2 + IconDimensions.ICON_PADDING);\n    }\n\n    /**\n     * Gets the placeholder position for an icon at the center of the element.\n     * The position is at the element's center.\n     * @returns {THREE.Vector2} A 2D vector representing the placeholder coordinates\n     *                         where x is the element's center x-coordinate\n     *                         and y is the element's center y-coordinate\n     */\n    getCenterIconPlaceholder() {\n        return new THREE.Vector2(this.position.x, this.position.y);\n    }\n\n    /**\n     * Gets the position for an icon placeholder.\n     * @param {string} position - Position identifier (top, bottom, left, right, etc.)\n     * @returns {THREE.Vector2} The placeholder position\n     * @throws {Error} If the position identifier is invalid\n     */\n    getIconPlaceholder(position) {\n        switch (position) {\n            case 'top':\n                return this.getTopIconPlaceholder();\n            case 'bottom':\n                return this.getBottomIconPlaceholder();\n            case 'left':\n                return this.getLeftIconPlaceholder();\n            case 'right':\n                return this.getRightIconPlaceholder();\n            case 'top-left':\n                return this.getTopLeftIconPlaceholder();\n            case 'top-right':\n                return this.getTopRightIconPlaceholder();\n            case 'bottom-left':\n                return this.getBottomLeftIconPlaceholder();\n            case 'bottom-right':\n                return this.getBottomRightIconPlaceholder();\n            case 'center':\n                return this.getCenterIconPlaceholder();\n            default:\n                throw new Error(`Unknown icon position: ${position}`);\n        }\n    }\n\n    /**\n     * Adds an icon to the element.\n     * @param {string} icon - The icon identifier\n     * @param {string} [placeholder='center'] - Position of the icon\n     * @param {number} [size=IconDimensions.ICON_SIZE_MEDIUM] - Size of the icon\n     * @returns {Element} This element for method chaining\n     */\n    addIcon(icon, placeholder = 'center', size = IconDimensions.ICON_SIZE_MEDIUM) {\n        let position;\n        if (typeof placeholder === 'string') {\n            position = this.getIconPlaceholder(placeholder);\n        }\n        const iconElement = new Element(this.elementId + '_icon_placeholder', new IconShape(icon, size));\n        this.diagram.addElement(iconElement).positionAt(position);\n        this.icons.push({ element: iconElement, positionOffset: new THREE.Vector3(position.x - this.position.x, position.y - this.position.y, 0) });\n        return this;\n    }\n\n\n    // ================================================================\n    // Add Analysis methods\n    // ================================================================\n\n    /**\n     * Adds a value bar for analysis mode.\n     * @param {number} value - The value to represent (must be positive)\n     * @returns {Element} This element for method chaining\n     */\n    addValueBar(value) {\n        // Ensure the value is positive\n        if (value < 0) {\n            console.warn('valueBar: Value must be positive');\n            return this;\n        }\n        // Add values to the element parameters\n        this.parameters['value'] = value;\n        console.log('valueBar added:', this);\n        // Draw bars if mode is ANALYZE\n        if (this.diagram.mode !== 'ANALYZE') {\n            console.warn('valueBar: Diagram mode is not ANALYZE');\n            return this;\n        }\n        const barElement = new Element(this.elementId + '_bar', new ValueBarShape(this.shape.getOuterShape(), value));\n        this.diagram.addElement(barElement).positionAt(this.position);\n        this.valueBars.push({ element: barElement, positionOffset: new THREE.Vector3(0, 0, 0) });\n        return this;\n    }\n\n    // ================================================================\n    // Add connecting methods\n    // ================================================================\n\n    /**\n     * Creates a connector from another element to this element.\n     * @param {string} sourceElementId - ID of the source element\n     * @param {string} sourcePosition - Connection point on the source element\n     * @param {string} targetPosition - Connection point on this element\n     * @returns {Element} This element for method chaining\n     * @throws {Error} If the diagram is not set or source element is not found\n     */\n    connectFrom(sourceElementId, sourcePosition, targetPosition) {\n        if (!this.diagram) {\n            throw new Error(\"Diagram is not set for this element.\");\n        }\n\n        const targetElement = this;\n        const sourceElement = this.diagram.getElementById(sourceElementId);\n\n        if (!sourceElement) {\n            throw new Error(`Element with ID ${sourceElementId} not found.`);\n        }\n\n        const sourcePoint = sourceElement.getPointPosition(sourcePosition);\n        const targetPoint = targetElement.getPointPosition(targetPosition);\n\n        const points = Connector.determinePoints(sourcePoint, targetPoint, sourcePosition, targetPosition);\n\n        this.diagram.addConnector(new Connector(`connector-${sourceElement.elementId}-${targetElement.elementId}`, \n            new RoundedCornerOrthogonalConnectorShape(points))); //TODO: Zrobić bardziej ogólnie - nie wiadomo jaki connector wybrać (może flowFrom?)\n\n        return this;\n    }\n\n}\n\nexport { \n    Element\n};\n","export const RoundedRectangleDimensions = {\n    ACTIVITY_HORIZONTAL_SIZE: 100,\n    ACTIVITY_VERTICAL_SIZE: 80,\n    ACTIVITY_CORNER_RADIUS: 10,\n    ACTIVITY_LINE_WIDTH: 1,\n    ACTIVITY_TEXT_SIZE: 8,\n    ACTIVITY_TEXT_ELEVATION: 3\n};\n    \nexport const CircleDimensions = {\n    EVENT_RADIUS: 18,\n    START_EVENT_LINE_WIDTH: 1, \n    END_EVENT_LINE_WIDTH: 2.4, \n    EVENT_TEXT_SIZE: 7,\n    EVENT_TEXT_ELEVATION: 3\n};\n\nexport const DiamondDimensions = {\n    GATEWAY_DIAGONAL: 48,\n    GATEWAY_LINE_WIDTH: 1,\n    GATEWAY_TEXT_SIZE: 7,\n    GATEWAY_TEXT_ELEVATION: 3\n};\n","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { CircleDimensions } from './BasicShapeConstants.js';\nimport { ExtrusionParameters, Colors } from '../../diagrams/DiagramConstants.js';\n\nclass CircleShape extends Shape {\n    constructor(lineWidth = CircleDimensions.START_EVENT_LINE_WIDTH) {\n\n        const eventRadius = CircleDimensions.EVENT_RADIUS;\n        const color = Colors.ELEMENT_STROKE;\n        const extrusionParameters = ExtrusionParameters;\n\n        function circle( ctx, radius ) {\n            const centerX = 0;\n            const centerY = 0;\n            var controlPointDistance = radius * 0.552284749831  // (4/3)*tan(pi/2n) for n=4 points\n            ctx.moveTo( centerX, centerY - radius );\n            ctx.bezierCurveTo(  centerX + controlPointDistance, centerY - radius,\n                                centerX + radius, centerY - controlPointDistance,\n                                centerX + radius, centerY );\n            ctx.bezierCurveTo(  centerX + radius, centerY + controlPointDistance,\n                                centerX + controlPointDistance, centerY + radius,\n                                centerX, centerY + radius );\n            ctx.bezierCurveTo(  centerX - controlPointDistance, centerY + radius,\n                                centerX - radius, centerY + controlPointDistance,\n                                centerX - radius, centerY );\n            ctx.bezierCurveTo(  centerX - radius, centerY - controlPointDistance,\n                                centerX - controlPointDistance, centerY - radius,\n                                centerX, centerY - radius );\n        }\n\n        // Prepare event mesh\n        var eventShape = new THREE.Shape();\n        circle( eventShape, eventRadius );\n        const outerShape = eventShape.clone(); // Create a deep copy of the outer shape to save it for later use without holes\n        var eventHole = new THREE.Path();\n        circle( eventHole, eventRadius - lineWidth );\n        eventShape.holes.push( eventHole );\n\n        var eventGeometry = new THREE.ExtrudeGeometry( eventShape, extrusionParameters );\n\n        // Construct the shape\n        super( eventGeometry, new DiagramEditMaterial( color ) );\n\n        this.outerShape = outerShape;\n\n    }\n\n    getOuterShape() {\n        return this.outerShape;\n    }\n}\n\nexport { CircleShape };\n","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { RoundedRectangleDimensions } from './BasicShapeConstants.js';\nimport { ExtrusionParameters, Colors } from '../../diagrams/DiagramConstants.js';\n\nclass RoundedRectangleShape extends Shape {\n    constructor() {\n\n        const horizontalSize = RoundedRectangleDimensions.ACTIVITY_HORIZONTAL_SIZE;\n        const verticalSize = RoundedRectangleDimensions.ACTIVITY_VERTICAL_SIZE;\n        const lineWidth = RoundedRectangleDimensions.ACTIVITY_LINE_WIDTH;\n        const cornerRadius = RoundedRectangleDimensions.ACTIVITY_CORNER_RADIUS;\n        // Calculate the outer and inner radius of the rounded rectangle based on the corner radius and line width\n        const outerRadius = cornerRadius;\n        const innerRadius = cornerRadius - lineWidth;\n        const color = Colors.ELEMENT_STROKE;\n        const extrusionParameters = ExtrusionParameters;\n\n        function roundedRect( ctx, width, height, radius ) {\n            const centerX = 0;\n            const centerY = 0;\n            var x = centerX - ( width / 2 );\n            var y = centerY - ( height / 2 );\n            ctx.moveTo( x + radius, y );\n            ctx.lineTo( x + width - radius, y );\n            ctx.quadraticCurveTo( x + width, y, x + width, y + radius );\n            ctx.lineTo( x + width, y + height - radius );\n            ctx.quadraticCurveTo( x + width, y + height, x + width - radius, y + height );\n            ctx.lineTo( x + radius, y + height );\n            ctx.quadraticCurveTo( x, y + height, x, y + height - radius );\n            ctx.lineTo( x, y + radius );\n            ctx.quadraticCurveTo( x, y, x + radius, y );\n        }\n\n        var activityShape = new THREE.Shape();\n        roundedRect(activityShape, horizontalSize, verticalSize, outerRadius);\n        const outerShape = activityShape.clone(); // Create a deep copy of the outer shape to save it for later use without holes\n        var activityHole = new THREE.Path();\n        roundedRect(activityHole, horizontalSize - (2 * lineWidth), verticalSize - (2 * lineWidth), innerRadius);\n        activityShape.holes.push(activityHole);\n\n        var activityGeometry = new THREE.ExtrudeGeometry(activityShape, extrusionParameters);\n\n        // Construct the shape\n        super(activityGeometry, new DiagramEditMaterial(color));\n\n        this.outerShape = outerShape;\n\n    }\n\n    getOuterShape() {\n        return this.outerShape;\n    }\n}\n\nexport { RoundedRectangleShape };\n\n\n\n\n// import * as TWEEN from '@tweenjs/tween.js';\n// import * as THREE from '../../../../../../../../home/robert/.cache/typescript/5.7/node_modules/@types/three';\n// import { elementMaterial, Text, Background, Bar, selectedMaterial } from '../../bpmnElements';\n\n// //ACTIVITY shape\n// function Activity( diagram, centerX, centerY, lineWidth, text ) {\n\n//     this.centerX = centerX;\n//     this.centerY = centerY;\n//     this.lineWidth = lineWidth;\n//     this.text = text;\n//     var decorations = [];\n//     this.decorations = decorations;\n\n//     var horizontalSize = 350;\n//     var verticalSize = 200;\n//     var outerRadius = 27;\n//     var innerRadius = 21;\n\n//     this.selected = false;\n\n\n//     function roundedRect( ctx, centerX, centerY, width, height, radius ) {\n//         var x = Math.round( centerX - ( width / 2 ) );\n//         var y = Math.round( centerY - ( height / 2 ) );\n//         ctx.moveTo( x + radius, y );\n//         ctx.lineTo( x + width - radius, y );\n//         ctx.quadraticCurveTo( x + width, y, x + width, y + radius );\n//         ctx.lineTo( x + width, y + height - radius );\n//         ctx.quadraticCurveTo( x + width, y + height, x + width - radius, y + height );\n//         ctx.lineTo( x + radius, y + height );\n//         ctx.quadraticCurveTo( x, y + height, x, y + height - radius );\n//         ctx.lineTo( x, y + radius );\n//         ctx.quadraticCurveTo( x, y, x + radius, y );\n//     }\n\n//     var activityMesh;\n\n//     // prepare activity mesh\n//     var activityShape = new THREE.Shape();\n//     roundedRect( activityShape, centerX, centerY, horizontalSize, verticalSize, outerRadius );\n//     var activityHole = new THREE.Path();\n//     roundedRect( activityHole, centerX, centerY, horizontalSize - ( 2 * lineWidth ), verticalSize - ( 2 * lineWidth ), innerRadius );\n//     activityShape.holes.push( activityHole );\n//     // var activityGeometry = new THREE.ShapeGeometry( activityShape );\n\n//     var extrudeSettings = {\n//         steps: 2,\n//         amount: 4,\n//         bevelEnabled: true,\n//         bevelThickness: .5,\n//         bevelSize: 1,\n//         bevelSegments: 4\n//     };\n//     var activityGeometry = new THREE.ExtrudeGeometry( activityShape, extrudeSettings );\n\n//     activityMesh = new THREE.Mesh ( activityGeometry, elementMaterial );\n\n//     this.mesh = activityMesh;\n\n//     // add activity name (text)\n//     decorations[ 0 ] = new Text( diagram, centerX, centerY, text, 30, 0 );\n\n//     // add activity background\n//     var backgroundShape = new THREE.Shape();\n//     roundedRect( backgroundShape, centerX, centerY, horizontalSize, verticalSize, outerRadius );\n//     decorations[ 1 ] = new Background( backgroundShape, -1 );\n\n//     // add activity bar\n//     var barShape = new THREE.Shape();\n//     roundedRect( barShape, centerX, centerY, horizontalSize, verticalSize, outerRadius );\n//     decorations[ 2 ] = new Bar( barShape );\n\n\n//     this.select = function() {\n//         this.selected = true;\n//         this.mesh.material = selectedMaterial;\n//         // select decorations (loop)\n// //        for ( i = 0; i < decorations.length; i++ ) {\n// //            this.decorations[ i ].mesh.material = selectedMaterial;\n// //        }\n//     }\n\n//     this.deselect = function() {\n//         this.selected = false;\n//         activityMesh.material = elementMaterial;\n//         //deselect decorations\n// //        for ( i = 0; i < decorations.length; i++ ) {\n// //            decorations[ i ].mesh.material = elementMaterial;\n// //        }\n//     }\n\n//     this.getDecorations = function() {\n//         return decorations;\n//     }\n\n//     this.showParameter = function( value, color ) {\n\n//         decorations[ 2 ].mesh.scale.z = 0;\n//         decorations[ 2 ].mesh.visible = true;\n//         decorations[ 2 ].mesh.material.color.set( color );\n\n//         //animate bars\n//         var from = { scale: 0 };\n//         var to = { scale: value/100 };\n//         var tween = new TWEEN.Tween( from )\n//             .to ( to, 500 )\n//             .onUpdate( function () {\n//                 decorations[ 2 ].mesh.scale.z = from.scale;\n//             } )\n//             .start();\n\n//     };\n\n//     this.hideParameter = function() {\n//         this.decorations[ 2 ].mesh.visible = false;\n//     }\n\n// }","import * as THREE from 'three';\nimport { Shape } from '../Shape.js';\nimport { DiagramEditMaterial } from '../../materials/DiagramEditMaterial.js';\nimport { DiamondDimensions } from './BasicShapeConstants.js';\nimport { ExtrusionParameters, Colors } from '../../diagrams/DiagramConstants.js';\n\nclass DiamondShape extends Shape {\n    constructor() {\n\n        const diagonal = DiamondDimensions.GATEWAY_DIAGONAL;\n        const lineWidth = DiamondDimensions.GATEWAY_LINE_WIDTH;\n        const color = Colors.ELEMENT_STROKE;\n        const extrusionParameters = ExtrusionParameters;\n     \n        function diamond( ctx, verticalSize, horizontalSize ) {\n            const centerX = 0;\n            const centerY = 0;\n            // (!) Specify your points in counterclockwise winding order.\n            ctx.moveTo( centerX - verticalSize / 2, centerY );\n            ctx.lineTo( centerX, centerY - verticalSize / 2 );\n            ctx.lineTo( centerX + horizontalSize / 2 , centerY);\n            ctx.lineTo( centerX, centerY + verticalSize / 2 );\n            ctx.lineTo( centerX - horizontalSize / 2, centerY );\n        }\n\n        // Prepare gateway mesh \n        var gatewayShape = new THREE.Shape();\n        diamond( gatewayShape, diagonal, diagonal);\n        const outerShape = gatewayShape.clone(); // Save the outer shape for later use\n        var gatewayHole = new THREE.Path();\n        diamond( gatewayHole, diagonal - ( lineWidth * Math.sqrt(2) * 2 ), diagonal - ( lineWidth * Math.sqrt(2) * 2 ) );\n        gatewayShape.holes.push(gatewayHole);\n\n        var gatewayGeometry = new THREE.ExtrudeGeometry( gatewayShape, extrusionParameters );\n\n        // Construct the shape\n        super(gatewayGeometry, new DiagramEditMaterial(color));\n\n        this.outerShape = outerShape;\n\n    }\n\n    getOuterShape() {\n        return this.outerShape;\n    }\n}\n\nexport { DiamondShape };\n\n\n\n\n\n\n\n\n//GATEWAY shape\n// function Gateway( diagram, centerX, centerY, lineWidth, type, text ) {\n\n//     var diagonal = 120;\n\n//     this.centerX = centerX;\n//     this.centerY = centerY;\n//     this.lineWidth = lineWidth;\n//     this.verticalSize = diagonal;\n//     this.horizontalSize = diagonal;\n//     this.selected = false;\n//     var decorations = [];\n//     this.decorations = decorations;\n\n\n//     function diamond( ctx, centerX, centerY, verticalSize, horizontalSize ) {\n//         // (!) Specify your points in counterclockwise winding order.\n//         ctx.moveTo( centerX - Math.round( verticalSize / 2 ), centerY );\n//         ctx.lineTo( centerX, centerY - Math.round( verticalSize / 2 ) );\n//         ctx.lineTo( centerX + Math.round( horizontalSize / 2 ), centerY);\n//         ctx.lineTo( centerX, centerY + Math.round( verticalSize / 2 ) );\n//         ctx.lineTo( centerX - Math.round( horizontalSize / 2 ), centerY );\n//     }\n\n//     // prepare gateway mesh\n//     var gatewayMesh;\n//     var gatewayShape = new THREE.Shape();\n//     diamond( gatewayShape, centerX, centerY, diagonal, diagonal );\n//     var gatewayHole = new THREE.Path();\n//     diamond( gatewayHole, centerX, centerY, diagonal - ( lineWidth * Math.sqrt(2) * 2 ),\n//                                             diagonal - ( lineWidth * Math.sqrt(2) * 2 ) );\n//     gatewayShape.holes.push(gatewayHole);\n//     // var gatewayGeometry = new THREE.ShapeGeometry(gatewayShape);\n\n//     var extrudeSettings = {\n//         steps: 2,\n//         amount: 4,\n//         bevelEnabled: true,\n//         bevelThickness: .5,\n//         bevelSize: 1,\n//         bevelSegments: 4\n//     };\n//     var gatewayGeometry = new THREE.ExtrudeGeometry( gatewayShape, extrudeSettings );\n\n//     gatewayMesh = new THREE.Mesh( gatewayGeometry, elementMaterial );\n//     this.mesh = gatewayMesh;\n\n//     // fill gateway with symbol\n//     switch (type) {\n//         case     CONST_GATEWAY_TYPES.EXCLUSIVE:\n//             decorations[ 0 ] = new Text( diagram, centerX, centerY, \"X\", 50, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.EXCLUSIVE\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.EVENT_BASED:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY - 27, \".\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.EVENT_BASED\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.PARALLEL:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY, \"+\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.PARALLEL\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.INCLUSIVE:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY - 27, \".\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.INCLUSIVE\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.COMPLEX:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY - 27, \".\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.COMPLEX\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.EXCLUSIVE_EVENT_BASED:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY - 27, \".\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.EXCLUSIVE_EVENT_BASED\");\n//             break;\n//         case     CONST_GATEWAY_TYPES.PARALLEL_EVENT_BASED:\n//             decorations[ 0 ] = new Text( diagram, centerX - 2, centerY - 27, \".\", 70, 0 );\n//             console.log(\"CONST_GATEWAY_TYPES.PARALLEL_EVENT_BASED\");\n//             break;\n//     }\n\n//     // add gateway background\n//     var backgroundShape = new THREE.Shape();\n//     diamond( backgroundShape, centerX, centerY, diagonal, diagonal );\n//     decorations[ 1 ] = new Background( backgroundShape, -1 );\n\n//     this.select = function() {\n//         this.selected = true;\n//         this.mesh.material = selectedMaterial;\n//         // select decorations (loop)\n// //        for ( i = 0; i < decorations.length; i++ ) {\n// //            this.decorations[ i ].mesh.material = selectedMaterial;\n// //        }\n//     }\n\n//     this.deselect = function() {\n//         this.selected = false;\n//         this.mesh.material = elementMaterial;\n//         //deselect decorations (loop)\n// //        for ( i = 0; i < decorations.length; i++ ) {\n// //            decorations[ i ].mesh.material = elementMaterial;\n// //        }\n//     }\n\n//     this.getDecorations = function() {\n//         return decorations;\n//     }\n\n//     this.showParameter = function( value, color ) {\n//     };\n\n//     this.hideParameter = function() {\n//     }\n\n// }","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n\tvar _tweens = [];\n\n\treturn {\n\n\t\tgetAll: function () {\n\n\t\t\treturn _tweens;\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\t_tweens = [];\n\n\t\t},\n\n\t\tadd: function (tween) {\n\n\t\t\t_tweens.push(tween);\n\n\t\t},\n\n\t\tremove: function (tween) {\n\n\t\t\tvar i = _tweens.indexOf(tween);\n\n\t\t\tif (i !== -1) {\n\t\t\t\t_tweens.splice(i, 1);\n\t\t\t}\n\n\t\t},\n\n\t\tupdate: function (time, preserve) {\n\n\t\t\tif (_tweens.length === 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i = 0;\n\n\t\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t\twhile (i < _tweens.length) {\n\n\t\t\t\tif (_tweens[i].update(time) || preserve) {\n\t\t\t\t\ti++;\n\t\t\t\t} else {\n\t\t\t\t\t_tweens.splice(i, 1);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\t};\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n\t\t window.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object) {\n\n\tvar _object = object;\n\tvar _valuesStart = {};\n\tvar _valuesEnd = {};\n\tvar _valuesStartRepeat = {};\n\tvar _duration = 1000;\n\tvar _repeat = 0;\n\tvar _repeatDelayTime;\n\tvar _yoyo = false;\n\tvar _isPlaying = false;\n\tvar _reversed = false;\n\tvar _delayTime = 0;\n\tvar _startTime = null;\n\tvar _easingFunction = TWEEN.Easing.Linear.None;\n\tvar _interpolationFunction = TWEEN.Interpolation.Linear;\n\tvar _chainedTweens = [];\n\tvar _onStartCallback = null;\n\tvar _onStartCallbackFired = false;\n\tvar _onUpdateCallback = null;\n\tvar _onCompleteCallback = null;\n\tvar _onStopCallback = null;\n\n\tthis.to = function (properties, duration) {\n\n\t\t_valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\t_duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.start = function (time) {\n\n\t\tTWEEN.add(this);\n\n\t\t_isPlaying = true;\n\n\t\t_onStartCallbackFired = false;\n\n\t\t_startTime = time !== undefined ? time : TWEEN.now();\n\t\t_startTime += _delayTime;\n\n\t\tfor (var property in _valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (_valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (_valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\t_valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (_object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\t_valuesStart[property] = _object[property];\n\n\t\t\tif ((_valuesStart[property] instanceof Array) === false) {\n\t\t\t\t_valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\t_valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.stop = function () {\n\n\t\tif (!_isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tTWEEN.remove(this);\n\t\t_isPlaying = false;\n\n\t\tif (_onStopCallback !== null) {\n\t\t\t_onStopCallback.call(_object, _object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t};\n\n\tthis.end = function () {\n\n\t\tthis.update(_startTime + _duration);\n\t\treturn this;\n\n\t};\n\n\tthis.stopChainedTweens = function () {\n\n\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t_chainedTweens[i].stop();\n\t\t}\n\n\t};\n\n\tthis.delay = function (amount) {\n\n\t\t_delayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.repeat = function (times) {\n\n\t\t_repeat = times;\n\t\treturn this;\n\n\t};\n\n\tthis.repeatDelay = function (amount) {\n\n\t\t_repeatDelayTime = amount;\n\t\treturn this;\n\n\t};\n\n\tthis.yoyo = function (yoyo) {\n\n\t\t_yoyo = yoyo;\n\t\treturn this;\n\n\t};\n\n\n\tthis.easing = function (easing) {\n\n\t\t_easingFunction = easing;\n\t\treturn this;\n\n\t};\n\n\tthis.interpolation = function (interpolation) {\n\n\t\t_interpolationFunction = interpolation;\n\t\treturn this;\n\n\t};\n\n\tthis.chain = function () {\n\n\t\t_chainedTweens = arguments;\n\t\treturn this;\n\n\t};\n\n\tthis.onStart = function (callback) {\n\n\t\t_onStartCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onUpdate = function (callback) {\n\n\t\t_onUpdateCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onComplete = function (callback) {\n\n\t\t_onCompleteCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.onStop = function (callback) {\n\n\t\t_onStopCallback = callback;\n\t\treturn this;\n\n\t};\n\n\tthis.update = function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < _startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (_onStartCallbackFired === false) {\n\n\t\t\tif (_onStartCallback !== null) {\n\t\t\t\t_onStartCallback.call(_object, _object);\n\t\t\t}\n\n\t\t\t_onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - _startTime) / _duration;\n\t\telapsed = elapsed > 1 ? 1 : elapsed;\n\n\t\tvalue = _easingFunction(elapsed);\n\n\t\tfor (property in _valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (_valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = _valuesStart[property] || 0;\n\t\t\tvar end = _valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\t_object[property] = _interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\t_object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (_onUpdateCallback !== null) {\n\t\t\t_onUpdateCallback.call(_object, value);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (_repeat > 0) {\n\n\t\t\t\tif (isFinite(_repeat)) {\n\t\t\t\t\t_repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in _valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (_valuesEnd[property]) === 'string') {\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_yoyo) {\n\t\t\t\t\t\tvar tmp = _valuesStartRepeat[property];\n\n\t\t\t\t\t\t_valuesStartRepeat[property] = _valuesEnd[property];\n\t\t\t\t\t\t_valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\t_valuesStart[property] = _valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (_yoyo) {\n\t\t\t\t\t_reversed = !_reversed;\n\t\t\t\t}\n\n\t\t\t\tif (_repeatDelayTime !== undefined) {\n\t\t\t\t\t_startTime = time + _repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\t_startTime = time + _delayTime;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (_onCompleteCallback !== null) {\n\n\t\t\t\t\t_onCompleteCallback.call(_object, _object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\t_chainedTweens[i].start(_startTime + _duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t};\n\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n","import * as THREE from 'three';\n// Import Diagram and Element classes and constants\nimport { Diagram } from '../diagrams/Diagram.js';\nimport { DiagramDimensions } from '../diagrams/DiagramConstants.js';\nimport { Element } from '../elements/Element.js';\nimport { Connector } from '../connectors/Connector.js';\n// Import element shapes\nimport { CircleShape } from '../shapes/basic/CircleShape.js';\nimport { RoundedRectangleShape } from '../shapes/basic/RoundedRectangleShape.js';\nimport { DiamondShape } from '../shapes/basic/DiamondShape.js';\nimport { TextShape } from '../shapes/text/TextShape.js';\n// Import connector shapes\nimport { RoundedCornerOrthogonalConnectorShape } from '../shapes/connector/RoundedCornerOrthogonalConnectorShape.js';\n// Import Activity icons\nimport manual from '../shapes/icon/bpmn/activities/manual.svg?raw';\nimport user from '../shapes/icon/bpmn/activities/user.svg?raw';\nimport script from '../shapes/icon/bpmn/activities/script.svg?raw';\nimport businessRule from '../shapes/icon/bpmn/activities/business-rule.svg?raw';\nimport service from '../shapes/icon/bpmn/activities/service.svg?raw';\nimport send from '../shapes/icon/bpmn/activities/send.svg?raw';\nimport receive from '../shapes/icon/bpmn/activities/receive.svg?raw';\n// Import Gateway icons\nimport inclusive from '../shapes/icon/bpmn/gateways/inclusive.svg?raw';\nimport exclusive from '../shapes/icon/bpmn/gateways/exclusive.svg?raw';\nimport parallel from '../shapes/icon/bpmn/gateways/parallel.svg?raw';\nimport eventBased from '../shapes/icon/bpmn/gateways/event-based.svg?raw';\nimport complex from '../shapes/icon/bpmn/gateways/complex.svg?raw';\n// Import Event icons\nimport compensation from '../shapes/icon/bpmn/events/compensation.svg?raw';\nimport conditional from '../shapes/icon/bpmn/events/conditional.svg?raw';\nimport error from '../shapes/icon/bpmn/events/error.svg?raw';\nimport escalation from '../shapes/icon/bpmn/events/escalation.svg?raw';\nimport intermediate from '../shapes/icon/bpmn/events/intermediate.svg?raw';\nimport intermediateCompensation from '../shapes/icon/bpmn/events/intermediate-compensation.svg?raw';\nimport intermediateConditional from '../shapes/icon/bpmn/events/intermediate-conditional.svg?raw';\nimport intermediateEscalation from '../shapes/icon/bpmn/events/intermediate-escalation.svg?raw';\nimport intermediateLinkCatch from '../shapes/icon/bpmn/events/intermediate-link-catch.svg?raw';\nimport intermediateLinkThrow from '../shapes/icon/bpmn/events/intermediate-link-throw.svg?raw';\nimport intermediateReceive from '../shapes/icon/bpmn/events/intermediate-receive.svg?raw';\nimport intermediateSend from '../shapes/icon/bpmn/events/intermediate-send.svg?raw';\nimport intermediateSignalCatch from '../shapes/icon/bpmn/events/intermediate-signal-catch.svg?raw';\nimport intermediateSignalThrow from '../shapes/icon/bpmn/events/intermediate-signal-throw.svg?raw';\nimport intermediateTimer from '../shapes/icon/bpmn/events/intermediate-timer.svg?raw';\nimport messageEnd from '../shapes/icon/bpmn/events/message-end.svg?raw';\nimport messageStart from '../shapes/icon/bpmn/events/message-start.svg?raw';\nimport signalEnd from '../shapes/icon/bpmn/events/signal-end.svg?raw';\nimport signalStart from '../shapes/icon/bpmn/events/signal-start.svg?raw';\nimport terminate from '../shapes/icon/bpmn/events/terminate.svg?raw';\nimport timer from '../shapes/icon/bpmn/events/timer.svg?raw';\n\nimport { add } from 'tween.js';\n\nclass BpmnDiagram extends Diagram {\n    constructor(container) {\n        super(container);\n    }\n\n    // --------------------------------------------------\n    // BPMN Diagram Dimensions\n    // --------------------------------------------------\n    static get Dimensions() {\n        return {\n            DISTANCE_BETWEEN_ELEMENTS: DiagramDimensions.DISTANCE_BETWEEN_ELEMENTS,\n            START_EVENT_LINE_WIDTH: 1,\n            END_EVENT_LINE_WIDTH: 2.4,\n            ICON_SIZE_SMALL: 10,\n            ICON_SIZE_MEDIUM: 18,\n            ICON_SIZE_LARGE: 30\n        }\n    }\n\n    // --------------------------------------------------\n    // Add BPMN Elements\n    // --------------------------------------------------\n\n    // Start Events\n    addStartEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) );\n    }\n\n    addMessageStartEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(messageStart, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addTimerStartEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(timer, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addConditionalStartEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(conditional, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addSignalStartEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(signalStart, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    // Intermediate Events\n    addIntermediateEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediate, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateMessageCatchEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateReceive, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateMessageThrowEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateSend, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateTimerEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateTimer, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateEscalationEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateEscalation, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateConditionalEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateConditional, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateLinkCatchEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateLinkCatch, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateLinkThrowEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateLinkThrow, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateCompensationEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateCompensation, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateSignalCatchEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateSignalCatch, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addIntermediateSignalThrowEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape()) )\n            .addIcon(intermediateSignalThrow, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    // End Events\n    addEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n    }\n\n    addMessageEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(messageEnd, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addEscalationEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(escalation, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addErrorEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(error, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addCompensateEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(compensation, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addSignalEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(signalEnd, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addTerminateEndEvent(elementId) {\n        return this.addElement( new Element(elementId, new CircleShape(BpmnDiagram.Dimensions.END_EVENT_LINE_WIDTH)) )\n            .addIcon(terminate, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n\n    // Tasks\n    addTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) );\n    }\n\n    addManualTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(manual, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addUserTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(user, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addScriptTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(script, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addBusinessRuleTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(businessRule, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addServiceTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(service, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addSendTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(send, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    addReceiveTask(elementId) {\n        return this.addElement( new Element(elementId, new RoundedRectangleShape()) )\n            .addIcon(receive, 'top-left', BpmnDiagram.Dimensions.ICON_SIZE_SMALL);\n    }\n\n    // Gateways\n    addGateway(elementId) {\n        return this.addExclusiveGateway(elementId);\n    }\n\n    addInclusiveGateway(elementId) {\n        return this.addElement( new Element(elementId, new DiamondShape()) )\n            .addIcon(inclusive, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addExclusiveGateway(elementId) {\n        return this.addElement( new Element(elementId, new DiamondShape()) )\n            .addIcon(exclusive, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n    addParallelGateway(elementId) {\n        return this.addElement( new Element(elementId, new DiamondShape()) )\n            .addIcon(parallel, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addEventBasedGateway(elementId) {\n        return this.addElement( new Element(elementId, new DiamondShape()) )\n            .addIcon(eventBased, 'center', BpmnDiagram.Dimensions.ICON_SIZE_LARGE);\n    }\n\n    addComplexGateway(elementId) {\n        return this.addElement( new Element(elementId, new DiamondShape()) )\n            .addIcon(complex, 'center', BpmnDiagram.Dimensions.ICON_SIZE_MEDIUM);\n    }\n\n\n\n    // --------------------------------------------------\n    // Add BPMN Connectors\n    // --------------------------------------------------\n\n    addFlowConnector(elementId, points) {\n        return this.addConnector( new Connector(elementId, new RoundedCornerOrthogonalConnectorShape(points)) );\n    }\n\n    // --------------------------------------------------\n    // Import BPMN Diagram from .bpmn file (XML)\n    // --------------------------------------------------\n\n    import(file) {\n        if (!file) {\n            console.error('No file provided for import.');\n            return;\n        }\n\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            if (file.name.endsWith('.bpmn')) {\n                const parser = new DOMParser();\n                const xmlDoc = parser.parseFromString(event.target.result, \"text/xml\");\n                console.log(xmlDoc);\n                this.buildDiagram(xmlDoc);\n            } else {\n                console.warn('File format not supported.');\n            }\n        };\n        reader.readAsText(file);\n    }\n\n    buildDiagram(xmlDoc) {\n        const bpmnNamespace = \"http://www.omg.org/spec/BPMN/20100524/MODEL\";\n        const bpmndiNamespace = \"http://www.omg.org/spec/BPMN/20100524/DI\";\n        const dcNamespace = \"http://www.omg.org/spec/DD/20100524/DC\";\n        const diNamespace = \"http://www.omg.org/spec/DD/20100524/DI\";\n\n        // Add start events\n        const startEvents = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'startEvent');\n        for (let i = 0; i < startEvents.length; i++) {\n            // Read startEvent id and name\n            const startEventId = startEvents[i].getAttribute('id');\n            console.log('startEventId:', startEventId);\n            const name = startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'name');\n            console.log('name:', name);\n            // Read startEvent incoming[] and outgoing[]\n            const incoming = startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }            const outgoing = startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            // Add start event element to the diagram\n            if (startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'messageEventDefinition').length > 0) {\n                this.addMessageStartEvent(startEventId);\n            } else if (startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'timerEventDefinition').length > 0) {\n                this.addTimerStartEvent(startEventId);\n            } else if (startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'conditionalEventDefinition').length > 0) {\n                this.addConditionalStartEvent(startEventId);\n            } else if (startEvents[i].getElementsByTagNameNS(bpmnNamespace, 'signalEventDefinition').length > 0) {\n                this.addSignalStartEvent(startEventId); \n            } else {\n                // Simple start event\n                this.addStartEvent(startEventId);\n            }\n        }\n\n        // Add end events\n        const endEvents = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'endEvent');\n        for (let i = 0; i < endEvents.length; i++) {\n            // Read endEvent id and name\n            const endEventId = endEvents[i].getAttribute('id');\n            console.log('endEventId:', endEventId);\n            const name = endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'name');\n            console.log('name:', name);\n            // Read endEvent incoming[] and outgoing[]\n            const incoming = endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            // Add end event element to the diagram\n            if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'messageEventDefinition').length > 0) {\n                this.addMessageEndEvent(endEventId);\n            } else if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'escalationEventDefinition').length > 0) {\n                this.addEscalationEndEvent(endEventId);\n            } else if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'errorEventDefinition').length > 0) {\n                this.addErrorEndEvent(endEventId);\n            } else if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'compensateEventDefinition').length > 0) {\n                this.addCompensateEndEvent(endEventId); \n            } else if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'signalEventDefinition').length > 0) {\n                this.addSignalEndEvent(endEventId); \n            } else if (endEvents[i].getElementsByTagNameNS(bpmnNamespace, 'terminateEventDefinition').length > 0) {\n                this.addTerminateEndEvent(endEventId);\n            } else {\n                // Simple end event\n                this.addEndEvent(endEventId);\n            }\n        }\n\n\n        // Add intermediate catch events\n        const intermediateCatchEvents = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'intermediateCatchEvent');\n        for (let i = 0; i < intermediateCatchEvents.length; i++) {\n            // Read intermediateCatchEvent id and name\n            const intermediateCatchEventId = intermediateCatchEvents[i].getAttribute('id');\n            console.log('intermediateCatchEventId:', intermediateCatchEventId);\n            const name = intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'name');\n            console.log('name:', name);\n            // Read intermediateCatchEvent incoming[] and outgoing[]\n            const incoming = intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            // Add intermediate catch event element to the diagram\n            if (intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'messageEventDefinition').length > 0) {\n                this.addIntermediateMessageCatchEvent(intermediateCatchEventId);\n            } else if (intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'timerEventDefinition').length > 0) {\n                this.addIntermediateTimerEvent(intermediateCatchEventId);\n            } else if (intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'conditionalEventDefinition').length > 0) {\n                this.addIntermediateConditionalEvent(intermediateCatchEventId);\n            } else if (intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'linkEventDefinition').length > 0) {\n                this.addIntermediateLinkCatchEvent(intermediateCatchEventId); \n            } else if (intermediateCatchEvents[i].getElementsByTagNameNS(bpmnNamespace, 'signalEventDefinition').length > 0) {\n                this.addIntermediateSignalCatchEvent(intermediateCatchEventId); \n            } else {\n                // Simple intermediate catch event\n                this.addIntermediateEvent(intermediateCatchEventId);\n            }\n        }\n\n        // Add intermediate throw events\n        const intermediateThrowEvents = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'intermediateThrowEvent');\n        for (let i = 0; i < intermediateThrowEvents.length; i++) {\n            // Read intermediateCatchEvent id and name\n            const intermediateThrowEventId = intermediateThrowEvents[i].getAttribute('id');\n            console.log('intermediateThrowEventId:', intermediateThrowEventId);\n            const name = intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'name');\n            console.log('name:', name);\n            // Read intermediateCatchEvent incoming[] and outgoing[]\n            const incoming = intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            // Add intermediate throw event element to the diagram\n            if (intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'messageEventDefinition').length > 0) {\n                this.addIntermediateMessageThrowEvent(intermediateThrowEventId);\n            } else if (intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'escalationEventDefinition').length > 0) {\n                this.addIntermediateEscalationEvent(intermediateThrowEventId);\n            } else if (intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'linkEventDefinition').length > 0) {\n                this.addIntermediateLinkThrowEvent(intermediateThrowEventId);\n            } else if (intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'compensateEventDefinition').length > 0) {\n                this.addIntermediateCompensationEvent(intermediateThrowEventId); \n            } else if (intermediateThrowEvents[i].getElementsByTagNameNS(bpmnNamespace, 'signalEventDefinition').length > 0) {\n                this.addIntermediateSignalThrowEvent(intermediateThrowEventId); \n            } else {\n                // Simple intermediate throw event\n                this.addIntermediateEvent(intermediateThrowEventId);\n            }\n        }\n\n\n\n\n\n\n        // Add tasks\n        const tasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'task');\n        for (let i = 0; i < tasks.length; i++) {\n            // Read task id and name\n            const taskId = tasks[i].getAttribute('id');\n            console.log('taskId:', taskId);\n            const name = tasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read task incoming[] and outgoing[]\n            const incoming = tasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = tasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addTask(taskId)\n                .addWrappedText(name);\n        }\n\n        // Add manual tasks\n        const manualTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'manualTask');\n        for (let i = 0; i < manualTasks.length; i++) {\n            // Read manualTask id and name\n            const manualTaskId = manualTasks[i].getAttribute('id');\n            console.log('manualTaskId:', manualTaskId);\n            const name = manualTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read manualTask incoming[] and outgoing[]\n            const incoming = manualTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = manualTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addManualTask(manualTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add user tasks\n        const userTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'userTask');\n        for (let i = 0; i < userTasks.length; i++) {\n            // Read userTask id and name\n            const userTaskId = userTasks[i].getAttribute('id');\n            console.log('userTaskId:', userTaskId);\n            const name = userTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read userTask incoming[] and outgoing[]\n            const incoming = userTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = userTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addUserTask(userTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add script tasks\n        const scriptTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'scriptTask');\n        for (let i = 0; i < scriptTasks.length; i++) {\n            // Read scriptTask id and name\n            const scriptTaskId = scriptTasks[i].getAttribute('id');\n            console.log('scriptTaskId:', scriptTaskId);\n            const name = scriptTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read scriptTask incoming[] and outgoing[]\n            const incoming = scriptTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = scriptTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addScriptTask(scriptTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add business rule tasks\n        const businessRuleTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'businessRuleTask');\n        for (let i = 0; i < businessRuleTasks.length; i++) {\n            // Read businessRuleTask id and name\n            const businessRuleTaskId = businessRuleTasks[i].getAttribute('id');\n            console.log('businessRuleTaskId:', businessRuleTaskId);\n            const name = businessRuleTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read businessRuleTask incoming[] and outgoing[]\n            const incoming = businessRuleTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = businessRuleTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addBusinessRuleTask(businessRuleTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add service tasks\n        const serviceTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'serviceTask');\n        for (let i = 0; i < serviceTasks.length; i++) {\n            // Read serviceTask id and name\n            const serviceTaskId = serviceTasks[i].getAttribute('id');\n            console.log('serviceTaskId:', serviceTaskId);\n            const name = serviceTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read serviceTask incoming[] and outgoing[]\n            const incoming = serviceTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = serviceTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addServiceTask(serviceTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add send tasks\n        const sendTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'sendTask');\n        for (let i = 0; i < sendTasks.length; i++) {\n            // Read sendTask id and name\n            const sendTaskId = sendTasks[i].getAttribute('id');\n            console.log('sendTaskId:', sendTaskId);\n            const name = sendTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read sendTask incoming[] and outgoing[]\n            const incoming = sendTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = sendTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addSendTask(sendTaskId)\n                .addWrappedText(name);\n        }\n        \n        // Add receive tasks\n        const receiveTasks = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'receiveTask');\n        for (let i = 0; i < receiveTasks.length; i++) {\n            // Read receiveTask id and name\n            const receiveTaskId = receiveTasks[i].getAttribute('id');\n            console.log('receiveTaskId:', receiveTaskId);\n            const name = receiveTasks[i].getAttribute('name');\n            console.log('name:', name);\n            // Read receiveTask incoming[] and outgoing[]\n            const incoming = receiveTasks[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = receiveTasks[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addReceiveTask(receiveTaskId)\n                .addWrappedText(name);\n        }\n\n        // Add inclusive gateways\n        const inclusiveGateways = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'inclusiveGateway');\n        for (let i = 0; i < inclusiveGateways.length; i++) {\n            // Read gateway id and name\n            const gatewayId = inclusiveGateways[i].getAttribute('id');\n            console.log('gatewayId:', gatewayId);\n            const name = inclusiveGateways[i].getAttribute('name');\n            console.log('name:', name);\n            // Read gateway incoming[] and outgoing[]\n            const incoming = inclusiveGateways[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = inclusiveGateways[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addInclusiveGateway(gatewayId);\n        }\n\n        // Add exclusive gateways\n        const exclusiveGateways = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'exclusiveGateway');\n        for (let i = 0; i < exclusiveGateways.length; i++) {\n            // Read gateway id and name\n            const gatewayId = exclusiveGateways[i].getAttribute('id');\n            console.log('gatewayId:', gatewayId);\n            const name = exclusiveGateways[i].getAttribute('name');\n            console.log('name:', name);\n            // Read gateway incoming[] and outgoing[]\n            const incoming = exclusiveGateways[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = exclusiveGateways[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addExclusiveGateway(gatewayId);\n        }\n\n        // Add parallel gateways\n        const parallelGateways = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'parallelGateway');\n        for (let i = 0; i < parallelGateways.length; i++) {\n            // Read gateway id and name\n            const gatewayId = parallelGateways[i].getAttribute('id');\n            console.log('gatewayId:', gatewayId);\n            const name = parallelGateways[i].getAttribute('name');\n            console.log('name:', name);\n            // Read gateway incoming[] and outgoing[]\n            const incoming = parallelGateways[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = parallelGateways[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addParallelGateway(gatewayId);\n        }\n\n        // Add event-based gateways\n        const eventBasedGateways = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'eventBasedGateway');\n        for (let i = 0; i < eventBasedGateways.length; i++) {\n            // Read gateway id and name\n            const gatewayId = eventBasedGateways[i].getAttribute('id');\n            console.log('gatewayId:', gatewayId);\n            const name = eventBasedGateways[i].getAttribute('name');\n            console.log('name:', name);\n            // Read gateway incoming[] and outgoing[]\n            const incoming = eventBasedGateways[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = eventBasedGateways[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addEventBasedGateway(gatewayId);\n        }\n\n        // Add complex gateways\n        const complexGateways = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'complexGateway');\n        for (let i = 0; i < complexGateways.length; i++) {\n            // Read gateway id and name\n            const gatewayId = complexGateways[i].getAttribute('id');\n            console.log('gatewayId:', gatewayId);\n            const name = complexGateways[i].getAttribute('name');\n            console.log('name:', name);\n            // Read gateway incoming[] and outgoing[]\n            const incoming = complexGateways[i].getElementsByTagNameNS(bpmnNamespace, 'incoming');\n            console.log('incoming:', incoming);\n            for (let j = 0; j < incoming.length; j++) {\n                console.log('incoming:', incoming[j].textContent);\n            }\n            const outgoing = complexGateways[i].getElementsByTagNameNS(bpmnNamespace, 'outgoing');\n            console.log('outgoing:', outgoing);\n            for (let j = 0; j < outgoing.length; j++) {\n                console.log('outgoing:', outgoing[j].textContent);\n            }\n            this.addComplexGateway(gatewayId);\n        }\n\n        // Add sequence flows\n        const sequenceFlows = xmlDoc.getElementsByTagNameNS(bpmnNamespace, 'sequenceFlow');\n        for (let i = 0; i < sequenceFlows.length; i++) {\n            // Read sequenceFlow id, name, sourceRef, and targetRef\n            const sequenceFlowId = sequenceFlows[i].getAttribute('id');\n            console.log('sequenceFlowId:', sequenceFlowId);\n            const name = sequenceFlows[i].getAttribute('name');\n            console.log('name:', name);\n            const sourceRef = sequenceFlows[i].getAttribute('sourceRef');\n            console.log('sourceRef:', sourceRef);\n            const targetRef = sequenceFlows[i].getAttribute('targetRef');\n            console.log('targetRef:', targetRef);\n        }\n\n\n        // Place elements on the diagram\n        const bpmnShapes = xmlDoc.getElementsByTagNameNS(bpmndiNamespace, 'BPMNShape');\n\n        for (let i = 0; i < bpmnShapes.length; i++) {\n            const bpmnShape = bpmnShapes[i];\n            const bpmnShapeId = bpmnShape.getAttribute('id');\n            const bpmnElementId = bpmnShape.getAttribute('bpmnElement');\n            const bounds = bpmnShape.getElementsByTagNameNS(dcNamespace, 'Bounds')[0];\n            if (bounds) {\n                const x = parseFloat(bounds.getAttribute('x'));\n                const y = parseFloat(bounds.getAttribute('y')) * (-1);\n                const width = parseFloat(bounds.getAttribute('width'));\n                const height = parseFloat(bounds.getAttribute('height'));\n\n                console.log(`BPMNShape: ${bpmnShapeId}, ${bpmnElementId}, x: ${x}, y: ${y}, width: ${width}, height: ${height}`);\n\n                const position = new THREE.Vector3(x + (width / 2), y - (height / 2), 0);\n                const element = this.getElementById(bpmnElementId);\n                if (element) {\n                    element.positionAt(position);\n                } else {\n                    console.warn(`Element with id ${bpmnElementId} not found.`);\n                }\n\n                // Add label to the element (BPMNLabel)\n                let labelX, labelY, labelWidth, labelHeight;\n                const bpmnLabel = bpmnShape.getElementsByTagNameNS(bpmndiNamespace, 'BPMNLabel');\n                if (bpmnLabel.length > 0) {\n                    const labelBounds = bpmnLabel[0].getElementsByTagNameNS(dcNamespace, 'Bounds')[0];\n                    if (labelBounds) {\n                        labelX = parseFloat(labelBounds.getAttribute('x'));\n                        labelY = parseFloat(labelBounds.getAttribute('y')) * (-1);\n                        labelWidth = parseFloat(labelBounds.getAttribute('width'));\n                        labelHeight = parseFloat(labelBounds.getAttribute('height'));\n                        console.log(`Label position (Shape): x: ${labelX}, y: ${labelY}, width: ${labelWidth}, height: ${labelHeight}`);\n\n                        // Read label value from elements like bpmn:task, bpmn:startEvent, etc.\n                        const bpmnElement = xmlDoc.getElementById(bpmnElementId);\n                        const bpmnElementName = bpmnElement.getAttribute('name');\n                        console.log(`bpmnElementName: ${bpmnElementName}`);\n\n                        // Add label to the element\n                        if (bpmnElementName) {\n                            const labelPosition = new THREE.Vector3(labelX + (labelWidth / 2), labelY - (labelHeight / 2), 0);\n                            this.addElement(new Element('t1', new TextShape(bpmnElementName)))\n                                .positionAt(labelPosition);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Connect elements with sequence flows\n        const bpmnEdges = xmlDoc.getElementsByTagNameNS(bpmndiNamespace, 'BPMNEdge');\n\n        for (let i = 0; i < bpmnEdges.length; i++) {\n            const bpmnEdge = bpmnEdges[i];\n            const bpmnEdgeId = bpmnEdge.getAttribute('id');\n            const bpmnElementId = bpmnEdge.getAttribute('bpmnElement');\n            const sequenceFlow = Array.from(sequenceFlows).find(flow => flow.getAttribute('id') === bpmnElementId);\n            const sequenceFlowName = sequenceFlow ? sequenceFlow.getAttribute('name') : null;\n\n            // get waypoints\n            const waypoints = bpmnEdge.getElementsByTagNameNS(diNamespace, 'waypoint');\n            const connectorPoints = [];\n            for (let j = 0; j < waypoints.length; j++) {\n                const waypoint = waypoints[j];\n                const x = parseFloat(waypoint.getAttribute('x'));\n                const y = parseFloat(waypoint.getAttribute('y')) * (-1);\n                connectorPoints.push(new THREE.Vector2(x, y));\n                console.log(`BPMNEdge: ${bpmnElementId}, x: ${x}, y: ${y}`);\n            }\n            console.log('connectorPoints:', connectorPoints);\n\n            // Add connector to the diagram\n            this.addConnector(this.addFlowConnector(bpmnEdgeId, connectorPoints));\n\n            // Add label to the connector (BPMNLabel)\n            let labelX, labelY, labelWidth, labelHeight;\n            const bpmnLabel = bpmnEdge.getElementsByTagNameNS(bpmndiNamespace, 'BPMNLabel');\n            if (bpmnLabel.length > 0) {\n                const labelBounds = bpmnLabel[0].getElementsByTagNameNS(dcNamespace, 'Bounds')[0];\n                if (labelBounds) {\n                    labelX = parseFloat(labelBounds.getAttribute('x'));\n                    labelY = parseFloat(labelBounds.getAttribute('y')) * (-1);\n                    labelWidth = parseFloat(labelBounds.getAttribute('width'));\n                    labelHeight = parseFloat(labelBounds.getAttribute('height'));\n                    console.log(`Label position: x: ${labelX}, y: ${labelY}, width: ${labelWidth}, height: ${labelHeight}`);\n                }\n            }\n            if (sequenceFlowName) {\n                const labelPosition = new THREE.Vector3(labelX + (labelWidth / 2), labelY - (labelHeight / 2), 0);\n                this.addElement(new Element('t1', new TextShape(sequenceFlowName)))\n                    .positionAt(labelPosition);\n            }\n        }\n        this.arrange();\n    }\n}\n\nexport { BpmnDiagram };\n","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"5.2652082mm\\\"\\n   height=\\\"3.5983334mm\\\"\\n   viewBox=\\\"0 0 5.2652084 3.5983335\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"message-start.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"23.559698\\\"\\n     inkscape:cy=\\\"12.21453\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"svg1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <path\\n     d=\\\"M 0.13229166,0.13229167 V 3.4660416 H 5.1329166 V 0.13229166 Z m 0,0 L 2.6326041,1.5610416 5.1329166,0.13229167\\\"\\n     style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n     id=\\\"path4\\\" />\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"6.3499999mm\\\"\\n   height=\\\"6.3499999mm\\\"\\n   viewBox=\\\"0 0 6.3500001 6.3500001\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"timer.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"-3.2166378\\\"\\n     inkscape:cy=\\\"17.169891\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-129.24896,-55.430208)\\\">\\n    <g\\n       id=\\\"g1\\\">\\n      <circle\\n         cx=\\\"132.42397\\\"\\n         cy=\\\"58.605209\\\"\\n         r=\\\"2.9104166\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.529167px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"circle8\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 0.59531,-1.984375 m -0.59531,1.984375 1.38906,0.396875\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.529167px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path8\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 0,1.984375 v 0.595312\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path9\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m -0.99219,1.718519 -0.29766,0.515556\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path10\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m -1.71852,0.992188 -0.51555,0.297656\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path11\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m -1.98437,0 h -0.59532\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path12\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m -1.71852,-0.992187 -0.51555,-0.297657\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path13\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m -0.99218,-1.718519 -0.29766,-0.515556\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path14\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 0,-1.984375 v -0.595312\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path15\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 0.99219,-1.718519 0.29766,-0.515556\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path16\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 1.71852,-0.992187 0.51555,-0.297657\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path17\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 1.98437,0 h 0.59532\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path18\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 1.71852,0.992188 0.51555,0.297656\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path19\\\" />\\n      <path\\n         d=\\\"m 132.42396,58.605208 m 0.99218,1.718519 0.29766,0.515556\\\"\\n         style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n         id=\\\"path20\\\" />\\n    </g>\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"4.1010432mm\\\"\\n   height=\\\"5.0270829mm\\\"\\n   viewBox=\\\"0 0 4.1010433 5.0270831\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"conditional.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"8.1336326\\\"\\n     inkscape:cx=\\\"2.3359796\\\"\\n     inkscape:cy=\\\"13.216727\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-156.23646,-112.58021)\\\">\\n    <path\\n       d=\\\"m 156.36875,112.7125 h 3.83646 v 4.7625 h -3.83646 z m 0.52917,0.79375 h 2.77813 M 156.89792,114.3 h 2.77813 m -2.77813,0.79375 h 2.77813 m -2.77813,0.79375 h 2.77813 m -2.77813,0.79375 h 2.77813 m -2.77813,0.79375 h 2.77813\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path22\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"5.0270643mm\\\"\\n   height=\\\"4.5508189mm\\\"\\n   viewBox=\\\"0 0 5.0270645 4.550819\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"signal-start.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"8.1336326\\\"\\n     inkscape:cx=\\\"3.31955\\\"\\n     inkscape:cy=\\\"27.72439\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-122.5021,-95.038348)\\\">\\n    <path\\n       d=\\\"m 125.01563,95.170625 2.38125,4.28625 h -4.7625 z\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path40\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"16.267265\\\"\\n     inkscape:cx=\\\"12.663468\\\"\\n     inkscape:cy=\\\"14.35398\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(207.23489,-211.8651)\\\">\\n    <circle\\n       cx=\\\"-203.0677\\\"\\n       cy=\\\"216.03229\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle50\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-receive.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"21.386294\\\"\\n     inkscape:cy=\\\"10.301934\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-75.075519,-224.82968)\\\">\\n    <circle\\n       cx=\\\"79.242706\\\"\\n       cy=\\\"228.99687\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle53\\\" />\\n    <path\\n       d=\\\"m 76.718582,227.23474 v 3.33375 h 5.000625 v -3.33375 z m 0,0 2.500312,1.42875 2.500313,-1.42875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path53\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-send.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"16\\\"\\n     inkscape:cx=\\\"-5.25\\\"\\n     inkscape:cy=\\\"14.84375\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"path56\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-232.76718,-160.00678)\\\">\\n    <circle\\n       cx=\\\"236.93437\\\"\\n       cy=\\\"164.17397\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle56\\\" />\\n    <g\\n       id=\\\"path56\\\">\\n      <path\\n         style=\\\"fill:none;stroke-linecap:round;stroke-linejoin:round;stroke:none\\\"\\n         d=\\\"m 234.41024,162.41183 v 3.33375 h 5.00063 v -3.33375 z m 0,0 2.50032,1.42875\\\"\\n         id=\\\"path1\\\"\\n         sodipodi:nodetypes=\\\"ccccccc\\\" />\\n      <g\\n         id=\\\"g4\\\"\\n         transform=\\\"translate(201.87036,-55.570754)\\\">\\n        <path\\n           d=\\\"m 32.666222,218.20322 v 2.97242 h 4.736145 v -2.97242 l -2.302701,1.31413 a 0.13230472,0.13230472 0 0 1 -0.130742,0 z\\\"\\n           style=\\\"baseline-shift:baseline;display:inline;overflow:visible;vector-effect:none;fill:#22242a;fill-opacity:1;stroke-linecap:round;stroke-linejoin:round;enable-background:accumulate;stop-color:#000000;stop-opacity:1\\\"\\n           id=\\\"path4\\\" />\\n        <path\\n           d=\\\"m 33.033125,218.10761 1.999878,1.14257 2.001945,-1.14257 z\\\"\\n           style=\\\"baseline-shift:baseline;display:inline;overflow:visible;vector-effect:none;fill:#22242a;fill-opacity:1;stroke-linecap:round;stroke-linejoin:round;enable-background:accumulate;stop-color:#000000;stop-opacity:1\\\"\\n           id=\\\"path3\\\" />\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-timer.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"25.298421\\\"\\n     inkscape:cy=\\\"14.561806\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(28.111983,-209.21927)\\\">\\n    <circle\\n       cx=\\\"-23.944796\\\"\\n       cy=\\\"213.38646\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle59\\\" />\\n    <circle\\n       cx=\\\"-23.944796\\\"\\n       cy=\\\"213.38646\\\"\\n       r=\\\"2.9104166\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.529167px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle60\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 0.595312,-1.98438 m -0.595312,1.98438 1.389062,0.39687\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.529167px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path60\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 0,1.98437 v 0.59532\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path61\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m -0.992187,1.71852 -0.297657,0.51555\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path62\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m -1.718519,0.99218 -0.515556,0.29766\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path63\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m -1.984375,0 h -0.595312\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path64\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m -1.718519,-0.99219 -0.515556,-0.29766\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path65\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m -0.992187,-1.71852 -0.297657,-0.51555\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path66\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 0,-1.98437 v -0.59532\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path67\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 0.992187,-1.71852 0.297657,-0.51555\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path68\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 1.718519,-0.99218 0.515556,-0.29766\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path69\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 1.984375,0 h 0.595312\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path70\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 1.718519,0.99219 0.515556,0.29766\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path71\\\" />\\n    <path\\n       d=\\\"m -23.944795,213.38646 m 0.992187,1.71852 0.297657,0.51555\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path72\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-escalation.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"-12.779615\\\"\\n     inkscape:cy=\\\"20.386529\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-371.14427,-181.43802)\\\">\\n    <circle\\n       cx=\\\"375.31146\\\"\\n       cy=\\\"185.60521\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle75\\\" />\\n    <path\\n       d=\\\"m 375.31146,182.74771 2.11667,5.29167 -2.11667,-1.85209 -2.11667,1.85209 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path75\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-conditional.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"17.561104\\\"\\n     inkscape:cy=\\\"19.864912\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-91.215099,-208.95468)\\\">\\n    <circle\\n       cx=\\\"95.382286\\\"\\n       cy=\\\"213.12187\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle78\\\" />\\n    <path\\n       d=\\\"m 93.397914,210.60833 h 3.836458 v 4.7625 h -3.836458 z m 0.529167,0.79375 h 2.778125 m -2.778125,0.79375 h 2.778125 m -2.778125,0.79375 h 2.778125 m -2.778125,0.79375 h 2.778125 m -2.778125,0.79375 h 2.778125 m -2.778125,0.79375 h 2.778125\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path78\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-link-catch.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"-16.343997\\\"\\n     inkscape:cy=\\\"17.778444\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-235.14843,-194.93177)\\\">\\n    <circle\\n       cx=\\\"239.31561\\\"\\n       cy=\\\"199.09895\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle81\\\" />\\n    <path\\n       d=\\\"m 239.98237,196.84153 v 1.17409 h -3.57188 v 1.78594 h 3.57188 v 1.17409 l 2.60449,-2.06706 z\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path81\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-link-throw.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"32.687996\\\"\\n     inkscape:cy=\\\"14.127126\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(119.65781,-208.95468)\\\">\\n    <circle\\n       cx=\\\"-115.49062\\\"\\n       cy=\\\"213.12187\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle84\\\" />\\n    <path\\n       d=\\\"m -114.82387,210.86444 v 1.17409 h -3.57188 v 1.78594 h 3.57188 v 1.17409 l 2.60449,-2.06706 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path84\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-compensation.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"55.46527\\\"\\n     inkscape:cy=\\\"20.212657\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(69.65157,-208.95468)\\\">\\n    <circle\\n       cx=\\\"-65.484383\\\"\\n       cy=\\\"213.12187\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle87\\\" />\\n    <path\\n       d=\\\"m -68.151379,213.12187 2.38125,-1.71979 v 3.43958 z m 2.460625,-0.10583 2.301875,-1.61396 v 3.43958 l -2.301875,-1.61396 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path87\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-signal-catch.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"40.164504\\\"\\n     inkscape:cy=\\\"13.083891\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-0.19843645,-215.30468)\\\">\\n    <circle\\n       cx=\\\"4.365624\\\"\\n       cy=\\\"219.47186\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle90\\\" />\\n    <path\\n       d=\\\"m 4.3656239,216.61437 2.38125,4.28625 h -4.7625 z\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path90\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"8.3343754mm\\\"\\n   height=\\\"8.3343754mm\\\"\\n   viewBox=\\\"0 0 8.3343756 8.3343756\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"intermediate-signal-throw.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"8.1336326\\\"\\n     inkscape:cx=\\\"32.334876\\\"\\n     inkscape:cy=\\\"-6.7005731\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-53.115108,-210.80677)\\\">\\n    <circle\\n       cx=\\\"57.282295\\\"\\n       cy=\\\"214.97395\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.396875px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle93\\\" />\\n    <path\\n       d=\\\"m 57.282297,212.11646 2.38125,4.28625 h -4.7625 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path93\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.49375mm\\\"\\n   height=\\\"13.49375mm\\\"\\n   viewBox=\\\"0 0 13.49375 13.49375\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"message-end.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"32.53453\\\"\\n     inkscape:cx=\\\"25.972405\\\"\\n     inkscape:cy=\\\"22.453067\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-28.310416,-212.98958)\\\">\\n    <g\\n       id=\\\"g4\\\">\\n      <path\\n         d=\\\"m 32.666222,218.20322 v 2.97242 h 4.736145 v -2.97242 l -2.302701,1.31413 a 0.13230472,0.13230472 0 0 1 -0.130742,0 z\\\"\\n         style=\\\"baseline-shift:baseline;display:inline;overflow:visible;vector-effect:none;fill:#22242a;stroke-linecap:round;stroke-linejoin:round;enable-background:accumulate;stop-color:#000000;stop-opacity:1;fill-opacity:1\\\"\\n         id=\\\"path4\\\" />\\n      <path\\n         d=\\\"m 33.033125,218.10761 1.999878,1.14257 2.001945,-1.14257 z\\\"\\n         style=\\\"baseline-shift:baseline;display:inline;overflow:visible;vector-effect:none;fill:#22242a;stroke-linecap:round;stroke-linejoin:round;enable-background:accumulate;stop-color:#000000;stop-opacity:1;fill-opacity:1\\\"\\n         id=\\\"path3\\\" />\\n    </g>\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"4.4978838mm\\\"\\n   height=\\\"5.5561948mm\\\"\\n   viewBox=\\\"0 0 4.4978839 5.5561949\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"escalation.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"11.040892\\\"\\n     inkscape:cy=\\\"10.910488\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-152.92918,-91.334188)\\\">\\n    <path\\n       d=\\\"m 155.17812,91.466457 2.11667,5.291667 -2.11667,-1.852084 -2.11667,1.852084 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path31\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"5.5032949mm\\\"\\n   height=\\\"5.2628441mm\\\"\\n   viewBox=\\\"0 0 5.5032951 5.2628442\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"error.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"40.859995\\\"\\n     inkscape:cy=\\\"8.737084\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(24.288738,-155.33712)\\\">\\n    <path\\n       d=\\\"m -24.156455,160.46768 0.02474,-0.007 1.941829,-2.54284 2.028561,2.37229 1.243621,-4.82082 -1.553289,3.08242 -1.931353,-2.53613 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path34\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"5.0270739mm\\\"\\n   height=\\\"3.7041385mm\\\"\\n   viewBox=\\\"0 0 5.027074 3.7041386\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"compensation.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"8.1336326\\\"\\n     inkscape:cx=\\\"34.547909\\\"\\n     inkscape:cy=\\\"4.3645935\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-29.347596,-154.91356)\\\">\\n    <path\\n       d=\\\"m 29.479878,156.76563 2.38125,-1.71979 v 3.43958 z m 2.460625,-0.10583 2.301875,-1.61396 v 3.43958 l -2.301875,-1.61396 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path37\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"5.0270643mm\\\"\\n   height=\\\"4.5508189mm\\\"\\n   viewBox=\\\"0 0 5.0270645 4.550819\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"signal-end.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"11.502694\\\"\\n     inkscape:cx=\\\"11.562509\\\"\\n     inkscape:cy=\\\"10.128063\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-93.92709,-150.86543)\\\">\\n    <path\\n       d=\\\"m 96.440622,150.99771 2.38125,4.28625 h -4.7625 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path43\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"6.3499966mm\\\"\\n   height=\\\"6.3499966mm\\\"\\n   viewBox=\\\"0 0 6.3499967 6.3499967\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (86a8ad7, 2024-10-11)\\\"\\n   sodipodi:docname=\\\"terminate.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#505050\\\"\\n     bordercolor=\\\"#eeeeee\\\"\\n     borderopacity=\\\"1\\\"\\n     inkscape:showpageshadow=\\\"0\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#505050\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"16.267265\\\"\\n     inkscape:cx=\\\"0.67620462\\\"\\n     inkscape:cy=\\\"9.6820208\\\"\\n     inkscape:window-width=\\\"2560\\\"\\n     inkscape:window-height=\\\"1009\\\"\\n     inkscape:window-x=\\\"-8\\\"\\n     inkscape:window-y=\\\"-8\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-148.82811,-151.73855)\\\">\\n    <circle\\n       cx=\\\"152.00311\\\"\\n       cy=\\\"154.91354\\\"\\n       r=\\\"2.6458333\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:1.05833px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle47\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg2\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   height=\\\"2000\\\"\\n   width=\\\"2000\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     transform=\\\"translate(0,947.63784)\\\"\\n     id=\\\"layer1\\\">\\n    <path\\n       id=\\\"path4135\\\"\\n       transform=\\\"translate(0,-947.63784)\\\"\\n       d=\\\"M 919.37891 382.98828 C 897.07985 382.99534 876.42602 391.24619 858.8125 402.60352 L 858.7832 402.62109 L 858.75586 402.64062 C 764.06211 463.96011 439.8885 688.93075 368.62891 737.8418 L 368.62695 737.84375 L 368.625 737.84375 C 304.25376 782.03986 260.89214 848.74751 235.96289 927.7793 L 235.95898 927.79492 L 235.95508 927.80859 C 210.0027 1010.3241 213.33304 1100.2119 213.58398 1175.4941 L 213.58594 1175.5137 L 213.58594 1175.5332 C 213.84074 1232.2188 215.19212 1281.6884 229.89453 1341.6816 C 229.89553 1341.6866 229.89744 1341.692 229.89844 1341.6973 C 251.2713 1429.4993 292.66639 1493.0333 351.12891 1531.9824 C 409.58875 1570.9297 481.74302 1584.75 562.70312 1585 C 854.98652 1586.0972 1147.4442 1586.4897 1439.8848 1585 L 1439.9102 1585 L 1439.9355 1585 C 1472.1442 1584.7888 1502.8949 1571.2476 1522.0703 1547.3223 C 1541.2443 1523.3988 1549.087 1492.4573 1549.5 1458.5117 C 1549.7909 1435.7437 1546.5893 1414.2247 1539.1934 1395 L 1571.5684 1395 C 1603.0995 1395 1632.0021 1386.016 1652.7207 1367.084 C 1673.4323 1348.1584 1684.0251 1322.4631 1689.5293 1295.4043 L 1689.5293 1295.3965 C 1697.2116 1257.7567 1693.5837 1220.59 1678.6133 1189.4004 C 1711.5589 1186.7389 1740.6465 1174.2976 1759.3535 1151.4941 C 1780.3767 1125.8673 1786.5009 1093.2887 1786.6094 1058.7734 C 1786.7238 1022.74 1777.9802 988.35302 1757.7969 961.00781 C 1737.6137 933.6626 1704.0255 915.05176 1666.2305 914.99805 L 1666.2207 914.99805 L 1666.209 914.99805 C 1652.4498 914.98657 1640.0493 915.00635 1624.4277 914.99805 C 1631.9444 896.25389 1635.2488 875.17154 1635.1797 852.99219 L 1635.1797 852.93555 L 1635.1797 852.87891 C 1634.9519 817.10655 1625.9288 782.92541 1605.6445 755.75195 C 1585.3606 728.57897 1551.8364 709.9987 1514.0586 709.99805 C 1289.6388 709.11253 1067.8072 712.155 879.15625 711.20117 C 888.98683 701.31624 898.53379 691.67619 909.02734 681.24023 C 941.50862 648.93721 972.72655 618.49752 988.85352 597.62891 C 1027.4086 548.00648 1033.1613 480.77723 1000.7031 431.32422 C 983.59029 405.18088 958.49595 387.49228 931.55273 383.81055 C 928.18377 383.35019 924.8448 383.0899 921.54102 383.01172 L 921.54102 383.01367 C 920.81831 382.99657 920.09823 382.98805 919.37891 382.98828 z M 919.92578 453.01562 C 920.69385 453.02416 921.41106 453.07733 922.07422 453.16797 C 927.37949 453.89292 933.05983 455.78817 942.14453 469.67383 L 942.16211 469.69922 L 942.17773 469.72461 C 954.86945 489.05096 954.30896 528.02989 933.55469 554.7168 L 933.51953 554.76172 L 933.48438 554.80664 C 925.93786 564.57639 892.03049 599.42252 859.66602 631.60938 C 827.30154 663.79624 796.53208 693.50491 781.30859 712.05078 C 766.75168 729.78466 772.09283 744.6981 776.04102 754.0332 C 779.9892 763.3683 784.5057 774.26988 804.63867 779.05273 C 810.66655 780.48469 810.99854 780.07253 812.92773 780.20508 C 814.85693 780.33763 816.85106 780.42902 819.19531 780.51367 C 823.88381 780.68297 829.88273 780.81106 837.28906 780.91992 C 1063.754 782.29908 1287.7116 779.67931 1513.998 780 L 1514.0293 780 L 1514.0605 780 C 1531.2724 780 1540.6175 785.65704 1549.5527 797.62695 C 1558.482 809.58885 1565.0212 829.44025 1565.1816 853.2793 C 1565.2476 878.00948 1559.325 893.09925 1552.125 901.41211 C 1544.925 909.72493 1535.2797 914.9327 1514.6504 915 L 1030 915 L 1030 985 L 1514.7422 985 L 1514.791 985 C 1581.2694 985.0062 1616.3318 984.95843 1666.1543 985 C 1683.4616 985.02951 1692.6831 990.66165 1701.4785 1002.5781 C 1710.2778 1014.4998 1716.688 1034.4049 1716.6113 1058.5527 L 1716.6113 1058.5547 C 1716.5303 1084.3774 1711.2652 1099.7505 1705.2363 1107.0996 C 1699.2075 1114.4487 1690.5982 1119.8316 1665.7539 1120.002 C 1657.3241 1120.0598 1596.946 1120.0156 1571.8906 1120.0449 C 1571.4936 1120.0399 1571.105 1120.0032 1570.707 1120.002 C 1390.4805 1119.1514 1210.2524 1120 1030.0254 1120 L 1030 1120 L 1029.9746 1190 L 1030 1190 C 1030.043 1190 1412.5167 1190.2386 1571.3301 1190.0469 C 1591.0301 1190.326 1602.841 1198.2575 1612.2637 1213.6484 C 1621.8272 1229.2694 1626.5869 1253.7579 1620.9434 1281.4043 L 1620.9434 1281.418 L 1620.9434 1281.4316 C 1617.207 1299.8121 1611.5308 1309.9046 1605.5078 1315.4082 C 1599.4848 1320.9118 1591.1733 1325 1571.5742 1325 C 1391.0507 1324.9139 1210.5297 1324.5478 1030.0059 1325 L 1029.9141 1325 L 1030.0059 1395 L 1030.0977 1395 L 1439.4043 1395 L 1439.4199 1395 C 1454.127 1395.0958 1460.6667 1399.0084 1467.3809 1407.9766 C 1474.0951 1416.9447 1479.8203 1433.619 1479.5117 1457.6289 L 1479.5117 1457.6426 L 1479.5117 1457.6543 C 1479.2276 1481.0659 1473.56 1495.9259 1467.4551 1503.543 C 1461.3503 1511.16 1455.0501 1514.8999 1439.4824 1515.002 C 1147.359 1516.4898 855.12644 1516.0987 562.97266 1515.002 L 562.95898 1515.002 L 562.94727 1515.002 C 489.89431 1514.7789 432.49137 1502.0704 389.94727 1473.7266 C 347.39676 1445.3826 316.33958 1400.8581 297.9082 1325.1289 L 297.90039 1325.0996 L 297.89453 1325.0703 C 285.02432 1272.5777 283.83532 1231.06 283.58398 1175.2598 L 283.58398 1175.2188 C 283.32833 1098.6482 281.8595 1015.1692 302.73047 948.81055 C 324.12233 881.00932 358.71817 829.5583 408.24219 795.55469 L 408.24609 795.55273 C 480.37064 746.04796 806.47508 519.89392 896.74609 461.43359 L 896.75 461.43164 C 905.22608 455.9669 912.24926 453.64295 917.46875 453.12891 C 918.3388 453.04322 919.15772 453.00709 919.92578 453.01562 z \\\"\\n       style=\\\"color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:70;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg2\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   height=\\\"2000\\\"\\n   width=\\\"2000\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     style=\\\"display:inline\\\"\\n     id=\\\"layer9\\\">\\n    <path\\n       id=\\\"path8979-3\\\"\\n       d=\\\"M 991.75,365 C 814.47261,365 687.65259,501.28069 687.29688,656.51367 l 0,0.0449 0,0.043 c 0.0112,46.94485 12.71406,96.48986 32.56054,141.17774 14.33025,32.26709 32.14702,61.93151 53.85742,85.69531 C 644.68593,927.61788 493.52222,1000.2699 417.11719,1143.5293 L 413,1151.25 l 0,463.75 1157.5,0 0,-463.75 -4.1172,-7.7207 c -75.3061,-141.1989 -223.1988,-213.74978 -350.9805,-258.07618 62.3794,-63.43263 80.7808,-145.30578 80.8008,-228.85156 l 0,-0.043 0,-0.0449 C 1295.8474,501.2807 1169.0274,365 991.75,365 Z M 870.70898,530.29883 c 8.19443,0.0206 17.19117,0.29432 27.10938,0.8789 79.02308,4.65771 105.61894,18.88222 126.06254,32.37305 20.4435,13.49083 34.8553,26.33317 88.8828,27.9082 l 0.016,0 0.018,0 c 42.1017,-1.5748 62.3491,-9.0811 76.8691,-17.58398 5.8837,-3.44545 10.8241,-7.02722 15.8867,-10.44727 13.3814,28.68227 20.5671,60.38893 20.6485,93.20313 -0.028,93.43999 -16.0919,158.87652 -101.7676,212.42383 l 8.3809,63.16992 c 17.8327,5.41537 36.2658,11.35733 54.9746,17.87305 2.6128,10.90011 5.6316,25.19633 7.6621,40.39453 2.1271,15.92241 2.9637,32.48881 1.6523,44.92771 -1.3114,12.4389 -5.1734,19.1539 -5.8515,19.8321 -43.5469,43.5468 -120.8464,68.9433 -199.252,68.9433 -78.40557,0 -155.70507,-25.3965 -199.25195,-68.9433 -0.67811,-0.6782 -4.54017,-7.3932 -5.85157,-19.8321 -1.31139,-12.4389 -0.47481,-29.0053 1.65235,-44.92771 2.04162,-15.28211 5.08445,-29.66261 7.70703,-40.58399 18.52194,-6.44112 36.76978,-12.32071 54.42969,-17.68359 l 4.99609,-67.6875 c -4.068,-5.21708 -8.21297,-8.67324 -13.16016,-12.38477 -19.12128,-14.34532 -42.30994,-45.90379 -58.68945,-82.78515 -16.37367,-36.86821 -26.51791,-79.00946 -26.5332,-112.74414 0.10174,-40.44431 10.98577,-79.211 30.97656,-112.69727 3.57689,-1.33139 7.34871,-2.73853 11.58789,-4.13281 14.90781,-4.90324 35.33655,-9.58342 70.8457,-9.49414 z M 719.36133,979.85547 c -0.0629,0.45883 -0.13379,0.90664 -0.19531,1.36719 -2.58689,19.36354 -4.10696,40.44054 -1.88282,61.53714 2.22414,21.0966 7.79068,43.8102 25.96875,61.9882 62.04773,62.0478 155.95092,89.4473 248.74805,89.4473 92.7971,0 186.7003,-27.3995 248.748,-89.4473 18.1781,-18.178 23.7447,-40.8916 25.9688,-61.9882 2.2241,-21.0967 0.7041,-42.1736 -1.8828,-61.53714 -0.051,-0.38161 -0.1102,-0.75238 -0.1621,-1.13282 94.3337,41.36896 185.5148,100.61546 235.8281,189.07426 l 0,375.8359 -167.5,0 0,-265 -70,0 0,265 -544,0 0,-265 -70,0 0,265 -166,0 0,-375.8359 c 50.40811,-88.6256 141.83798,-147.9292 236.36133,-189.30863 z\\\"\\n       style=\\\"color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:70;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:2.29999995;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg2\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   height=\\\"2000\\\"\\n   width=\\\"2000\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     style=\\\"display:inline\\\"\\n     transform=\\\"translate(0,947.63784)\\\"\\n     id=\\\"layer1\\\" />\\n  <g\\n     style=\\\"display:inline\\\"\\n     id=\\\"layer3\\\">\\n    <path\\n       id=\\\"path7110\\\"\\n       d=\\\"M 759.41016 378 L 751.14844 382.9043 L 748.44922 384.50781 C 631.65776 453.72038 551.2844 517.18548 498.22852 579.16016 C 445.09916 641.22062 419.412 703.70808 418.68164 763.94727 C 417.22817 883.82775 505.65392 973.66586 584.10742 1054.0137 C 662.50124 1134.3003 732.43001 1210.0155 739.01172 1272.6777 C 742.36637 1304.6164 734.81689 1336.6966 699.99219 1380.6211 C 665.314 1424.3609 602.37552 1476.7493 501.75195 1535.4062 L 353.19336 1622 L 1270.0469 1622 L 1280.8965 1615.6875 L 1280.9082 1615.6777 C 1387.5436 1553.5161 1459.3849 1496.0867 1505.1621 1438.3477 C 1551.0758 1380.4366 1569.7557 1319.8482 1563.7812 1262.9688 C 1551.9436 1150.2668 1460.136 1068.1422 1382.9531 989.0957 C 1305.7103 909.98783 1243.1007 835.37489 1243.9531 765.07227 C 1244.3835 729.58122 1258.0249 689.98786 1301.1719 639.58789 C 1344.245 589.27401 1416.8675 530.40674 1528.2031 464.42969 L 1528.2031 464.42773 L 1674.0449 378 L 759.41016 378 z M 785.25195 470.91797 L 1349.8945 470.91797 C 1300.1653 507.99629 1260.8461 543.81554 1230.5879 579.16016 C 1177.4586 641.22061 1151.7714 703.70807 1151.041 763.94727 C 1149.5876 883.82876 1238.0176 973.66632 1316.4707 1054.0137 C 1394.8641 1134.2998 1464.7873 1210.0143 1471.3691 1272.6777 C 1474.7238 1304.6165 1467.1762 1336.6966 1432.3516 1380.6211 C 1398.9553 1422.7439 1338.8961 1473.0068 1244.5625 1529.082 L 678.47266 1529.082 C 717.74278 1498.4553 748.94092 1468.4466 772.80273 1438.3496 C 818.71647 1380.4385 837.39619 1319.8501 831.42188 1262.9707 C 819.58425 1150.2687 727.77664 1068.1442 650.59375 989.09766 C 573.35098 909.9898 510.74334 835.37687 511.5957 765.07422 C 512.02602 729.58325 525.66558 689.98982 568.8125 639.58984 C 610.43918 590.96566 680.08673 534.2435 785.25195 470.91797 z M 653.13086 629.39258 L 653.13086 672.3125 L 1094.5293 672.3125 L 1094.5293 629.39258 L 653.13086 629.39258 z M 636.72852 860.56836 L 636.72852 903.48633 L 1093.1133 903.48633 L 1093.1133 860.56836 L 636.72852 860.56836 z M 843.52344 1091.7383 L 843.52344 1134.6562 L 1285.5117 1134.6562 L 1285.5117 1091.7383 L 843.52344 1091.7383 z M 906.7207 1322.9121 L 906.7207 1365.8301 L 1364.707 1365.8301 L 1364.707 1322.9121 L 906.7207 1322.9121 z \\\"\\n       style=\\\"color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:70;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   width=\\\"2000\\\"\\n   height=\\\"2000\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   id=\\\"svg2\\\"\\n   version=\\\"1.1\\\"\\n   inkscape:version=\\\"0.91 r\\\"\\n   sodipodi:docname=\\\"business-rule.svg\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <sodipodi:namedview\\n     id=\\\"base\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#666666\\\"\\n     borderopacity=\\\"1.0\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pageshadow=\\\"2\\\"\\n     inkscape:zoom=\\\"0.45254834\\\"\\n     inkscape:cx=\\\"811.70031\\\"\\n     inkscape:cy=\\\"1077.9584\\\"\\n     inkscape:document-units=\\\"px\\\"\\n     inkscape:current-layer=\\\"layer1\\\"\\n     showgrid=\\\"true\\\"\\n     units=\\\"px\\\"\\n     showguides=\\\"false\\\"\\n     inkscape:window-width=\\\"1920\\\"\\n     inkscape:window-height=\\\"1028\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"0\\\"\\n     inkscape:window-maximized=\\\"1\\\">\\n    <inkscape:grid\\n       type=\\\"xygrid\\\"\\n       id=\\\"grid4008\\\"\\n       empspacing=\\\"20\\\"\\n       dotted=\\\"false\\\" />\\n  </sodipodi:namedview>\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title />\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     inkscape:label=\\\"Ebene 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(0,947.63784)\\\">\\n    <path\\n       style=\\\"opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:10;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none\\\"\\n       id=\\\"path4135\\\"\\n       d=\\\"m 212.27677,-529.63785 0,382.36913 1574.78513,0 0,-382.36913 z\\\"\\n       inkscape:connector-curvature=\\\"0\\\"\\n       sodipodi:nodetypes=\\\"ccccc\\\" />\\n    <path\\n       style=\\\"opacity:1;fill:none;fill-opacity:0.28037385;stroke:#000000;stroke-width:70;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none\\\"\\n       d=\\\"m 213.10529,52.362159 0,-581.999999 1573.78941,0 0,581.999999 0,582.000001 -1186.8947,0 0,-790.394 0,790.394 -386.89471,0 0,-401.56446 1573.78941,0 -1573.78941,0 z\\\"\\n       id=\\\"rect4139\\\"\\n       inkscape:connector-curvature=\\\"0\\\"\\n       sodipodi:nodetypes=\\\"ccccccccccscc\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   width=\\\"2000\\\"\\n   height=\\\"2000\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   id=\\\"svg2\\\"\\n   version=\\\"1.1\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     id=\\\"layer6\\\"\\n     style=\\\"display:inline\\\">\\n    <path\\n       id=\\\"path4170\\\"\\n       d=\\\"M 825.74609 438.17383 C 825.69979 475.1723 825.7563 512.17163 825.85156 549.16992 C 794.29829 558.09661 765.46524 570.55412 738.23633 585.81445 L 658.6543 507.18945 L 509.84766 656.85742 L 589.42383 735.46875 C 574.05216 763.02029 562.04871 792.29945 553.67188 822.71094 L 440.94727 822.91602 L 440.94727 1033.7051 L 554.84961 1033.2949 C 565.26551 1074.5933 587.93422 1111.7201 610.51172 1144.918 L 610.51172 963.09375 L 510.94727 963.45117 L 510.94727 892.78906 L 610.01562 892.60938 L 615.57617 864.4375 C 623.68569 823.35291 639.74603 784.18805 662.82031 749.14453 L 678.60547 725.17188 L 609.00195 656.41016 L 659.0957 606.02539 L 728.82617 674.91797 L 752.55664 659.08203 C 788.8205 635.15649 828.48451 619.11851 868.03711 610.76562 L 895.99609 604.96094 L 895.74609 508.17578 L 967.71289 508.17578 L 967.15625 604.45703 L 995.58398 604.45703 L 1155.9902 604.45703 C 1138.2768 583.31338 1064.8698 555.79938 1037.4824 548.13281 L 1038.1172 438.17578 C 959.71716 438.17378 898.25174 438.18016 825.74609 438.17383 z M 1024.9043 639.83203 L 1025.1914 750.82422 C 993.63698 759.75091 964.80383 772.20673 937.57422 787.46875 L 857.99023 708.84375 L 709.18359 858.51172 L 788.76172 937.12305 C 773.38937 964.67608 761.38462 993.9543 753.00781 1024.3672 L 640.28516 1024.5703 L 640.28516 1235.3594 L 754.18555 1234.9512 C 763.15098 1266.2082 775.57969 1294.751 790.81055 1321.6973 L 709.31641 1402.873 L 859.78125 1550.752 L 940.98242 1469.9277 C 968.79672 1485.3724 998.3629 1497.3637 1029.0156 1505.709 L 1029.0684 1620.4219 C 1101.4601 1621.0557 1178.5354 1620.7292 1240.4043 1620.7227 L 1240.4043 1504.6523 C 1271.9821 1495.7485 1300.9053 1483.2014 1328.1406 1467.9473 L 1409.2754 1547.9434 L 1558.1797 1398.4629 L 1476.875 1318.3398 C 1492.282 1290.7142 1504.2874 1261.3861 1512.6738 1230.9414 L 1623.0527 1230.2598 L 1623.0527 1019.6738 L 1511.4355 1020.3535 C 1502.4631 989.06652 1490.2142 960.71674 1474.7812 933.5918 L 1551.9023 856.27344 L 1401.5215 708.14258 L 1324.5 785.42773 C 1296.7997 770.10877 1267.3537 758.14537 1236.8203 749.78906 L 1237.4531 639.83203 L 1024.9043 639.83203 z M 1095.084 709.83203 L 1167.0508 709.83203 L 1166.4961 806.11523 L 1194.9219 811.69336 C 1236.1943 819.79239 1275.7525 835.83275 1310.9375 858.76562 L 1334.7617 874.29492 L 1401.9785 806.84961 L 1452.5957 856.71094 L 1385.2852 924.19336 L 1401.4805 948.09961 C 1425.2452 983.9725 1441.0088 1022.7495 1449.9082 1062.6797 L 1455.7637 1090.6914 L 1553.0449 1090.0996 L 1553.0449 1160.6895 L 1456.3066 1161.2852 L 1450.75 1189.2969 C 1442.5902 1230.4276 1426.5649 1269.591 1403.4512 1304.6953 L 1387.6484 1328.7012 L 1458.9062 1398.9238 L 1408.8203 1449.2031 L 1337.5547 1378.9375 L 1313.8652 1394.6758 C 1277.59 1418.3823 1238.2406 1434.7985 1198.541 1442.8867 L 1170.3965 1448.5078 L 1170.3965 1550.7227 C 1151.1555 1550.7694 1130.1656 1550.7393 1099.0273 1550.6953 L 1098.9824 1449.2461 L 1070.7109 1443.7246 C 1029.3808 1435.6538 989.8877 1419.6871 954.76367 1396.6582 L 931.00977 1381.084 L 859.46875 1452.2949 L 808.84375 1402.5371 L 880.48438 1331.1758 L 864.13672 1307.1719 C 840.34989 1271.3777 824.61382 1232.5596 815.69922 1192.6758 L 809.84961 1164.75 L 710.28516 1165.1055 L 710.28516 1094.4453 L 809.35352 1094.2637 L 814.91406 1066.0957 C 823.02364 1025.0108 839.08423 985.84383 862.1582 950.80078 L 877.94336 926.82617 L 808.33789 858.06445 L 858.43164 807.67969 L 928.16406 876.57227 L 951.89453 860.73828 C 988.20439 836.96856 1026.7354 821.19689 1067.375 812.42383 L 1095.3359 806.61914 L 1095.084 709.83203 z M 1132.25 967.03516 C 1045.6031 967.03516 974.61133 1038.0288 974.61133 1124.6758 C 974.61133 1211.3228 1045.6031 1282.3125 1132.25 1282.3125 C 1218.8969 1282.3125 1289.8887 1211.3228 1289.8887 1124.6758 C 1289.8887 1038.0288 1218.8969 967.03516 1132.25 967.03516 z M 1132.25 1037.0352 C 1181.0662 1037.0352 1219.8887 1075.8597 1219.8887 1124.6758 C 1219.8887 1173.4919 1181.0662 1212.3125 1132.25 1212.3125 C 1083.4338 1212.3125 1044.6133 1173.4919 1044.6133 1124.6758 C 1044.6133 1075.8597 1083.4338 1037.0352 1132.25 1037.0352 z \\\"\\n       style=\\\"color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:70;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\" />\\n  </g>\\n  <g\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(0,949.63784)\\\"\\n     style=\\\"display:inline\\\">\\n    <g\\n       id=\\\"g4137\\\"\\n       transform=\\\"matrix(1.1161206,0,0,1.1161228,91.593841,25.188891)\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   width=\\\"2000\\\"\\n   height=\\\"2000\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   id=\\\"svg2\\\"\\n   version=\\\"1.1\\\"\\n   inkscape:version=\\\"0.91 r\\\"\\n   sodipodi:docname=\\\"send.svg\\\">\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <sodipodi:namedview\\n     id=\\\"base\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#666666\\\"\\n     borderopacity=\\\"1.0\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pageshadow=\\\"2\\\"\\n     inkscape:zoom=\\\"0.22627417\\\"\\n     inkscape:cx=\\\"1062.5989\\\"\\n     inkscape:cy=\\\"892.16496\\\"\\n     inkscape:document-units=\\\"px\\\"\\n     inkscape:current-layer=\\\"layer4\\\"\\n     showgrid=\\\"true\\\"\\n     units=\\\"px\\\"\\n     showguides=\\\"false\\\"\\n     inkscape:window-width=\\\"1920\\\"\\n     inkscape:window-height=\\\"1028\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"0\\\"\\n     inkscape:window-maximized=\\\"1\\\"\\n     inkscape:snap-grids=\\\"true\\\"\\n     inkscape:snap-object-midpoints=\\\"false\\\">\\n    <inkscape:grid\\n       type=\\\"xygrid\\\"\\n       id=\\\"grid4008\\\"\\n       empspacing=\\\"20\\\"\\n       dotted=\\\"false\\\" />\\n  </sodipodi:namedview>\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer4\\\"\\n     inkscape:label=\\\"Ebene 1\\\"\\n     style=\\\"display:inline\\\">\\n    <path\\n       style=\\\"color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\"\\n       d=\\\"M 198 484 L 1000 938 L 1802 484 L 198 484 z M 200 652 L 200 1548 L 1804 1548 L 1804 652 L 1000 1100 L 200 652 z \\\"\\n       id=\\\"path6822\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg\\n   xmlns:dc=\\\"http://purl.org/dc/elements/1.1/\\\"\\n   xmlns:cc=\\\"http://creativecommons.org/ns#\\\"\\n   xmlns:rdf=\\\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg2\\\"\\n   viewBox=\\\"0 0 2000 2000\\\"\\n   height=\\\"2000\\\"\\n   width=\\\"2000\\\"\\n   inkscape:version=\\\"0.91 r\\\"\\n   sodipodi:docname=\\\"receive.svg\\\">\\n  <sodipodi:namedview\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#666666\\\"\\n     borderopacity=\\\"1\\\"\\n     objecttolerance=\\\"10\\\"\\n     gridtolerance=\\\"10\\\"\\n     guidetolerance=\\\"10\\\"\\n     inkscape:pageopacity=\\\"0\\\"\\n     inkscape:pageshadow=\\\"2\\\"\\n     inkscape:window-width=\\\"1630\\\"\\n     inkscape:window-height=\\\"947\\\"\\n     id=\\\"namedview8\\\"\\n     showgrid=\\\"false\\\"\\n     inkscape:zoom=\\\"0.472\\\"\\n     inkscape:cx=\\\"864.05386\\\"\\n     inkscape:cy=\\\"948.4855\\\"\\n     inkscape:window-x=\\\"50\\\"\\n     inkscape:window-y=\\\"50\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer2\\\" />\\n  <defs\\n     id=\\\"defs4\\\" />\\n  <metadata\\n     id=\\\"metadata7\\\">\\n    <rdf:RDF>\\n      <cc:Work\\n         rdf:about=\\\"\\\">\\n        <dc:format>image/svg+xml</dc:format>\\n        <dc:type\\n           rdf:resource=\\\"http://purl.org/dc/dcmitype/StillImage\\\" />\\n        <dc:title></dc:title>\\n        <cc:license\\n           rdf:resource=\\\"https://github.com/bpmn-io/bpmn-font/blob/master/LICENSE\\\" />\\n        <dc:creator>\\n          <cc:Agent>\\n            <dc:title>Jörg Dotzki</dc:title>\\n          </cc:Agent>\\n        </dc:creator>\\n        <dc:subject>\\n          <rdf:Bag>\\n            <rdf:li>BPMN</rdf:li>\\n            <rdf:li>bpmn-io</rdf:li>\\n            <rdf:li>bpmn.io</rdf:li>\\n            <rdf:li>Font</rdf:li>\\n          </rdf:Bag>\\n        </dc:subject>\\n      </cc:Work>\\n    </rdf:RDF>\\n  </metadata>\\n  <g\\n     style=\\\"display:inline\\\"\\n     id=\\\"layer2\\\">\\n    <g\\n       id=\\\"g4251\\\">\\n      <path\\n         id=\\\"path6159\\\"\\n         style=\\\"color:#000000;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;letter-spacing:normal;word-spacing:normal;text-transform:none;direction:ltr;block-progression:tb;writing-mode:lr-tb;baseline-shift:baseline;text-anchor:start;white-space:normal;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:70;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate\\\"\\n         d=\\\"m 189,465 0,1070 1622,0 0,-1070 -1622,0 z M 356.88086,535 1643.1191,535 1000,958.10547 356.88086,535 Z M 259,554.39648 1000,1041.8945 1741,554.39648 1741,1465 l -1482,0 0,-910.60352 z\\\" />\\n    </g>\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.758311mm\\\"\\n   height=\\\"13.758311mm\\\"\\n   viewBox=\\\"0 0 13.758311 13.758311\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (e7c3feb1, 2024-10-09)\\\"\\n   sodipodi:docname=\\\"inclusive.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#000000\\\"\\n     borderopacity=\\\"0.25\\\"\\n     inkscape:showpageshadow=\\\"2\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#d1d1d1\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"8.8470394\\\"\\n     inkscape:cx=\\\"30.349136\\\"\\n     inkscape:cy=\\\"27.636364\\\"\\n     inkscape:window-width=\\\"1104\\\"\\n     inkscape:window-height=\\\"784\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"38\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-101.73231,-141.68439)\\\">\\n    <path\\n       style=\\\"display:inline;fill:#22242a;stroke-linecap:round;stroke-linejoin:round;stroke-width:0;stroke-dasharray:none;stroke:none\\\"\\n       d=\\\"m 25,10.75 c -7.855252,0 -14.25,6.394748 -14.25,14.25 0,7.855252 6.394748,14.25 14.25,14.25 7.855252,0 14.25,-6.394748 14.25,-14.25 0,-7.855252 -6.394748,-14.25 -14.25,-14.25 z m 0,2.5 c 6.504152,0 11.75,5.245848 11.75,11.75 0,6.504152 -5.245848,11.75 -11.75,11.75 -6.504152,0 -11.75,-5.245848 -11.75,-11.75 0,-6.504152 5.245848,-11.75 11.75,-11.75 z\\\"\\n       id=\\\"path2\\\"\\n       transform=\\\"matrix(0.26458333,0,0,0.26458333,101.99688,141.94896)\\\" />\\n    <rect\\n       x=\\\"102.52605\\\"\\n       y=\\\"142.47813\\\"\\n       rx=\\\"1.0583333\\\"\\n       width=\\\"12.170834\\\"\\n       height=\\\"12.170834\\\"\\n       class=\\\"djs-outline\\\"\\n       style=\\\"fill:none;stroke-width:0.264583\\\"\\n       id=\\\"rect105\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.758311mm\\\"\\n   height=\\\"13.758311mm\\\"\\n   viewBox=\\\"0 0 13.758311 13.758311\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (e7c3feb1, 2024-10-09)\\\"\\n   sodipodi:docname=\\\"exclusive.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#000000\\\"\\n     borderopacity=\\\"0.25\\\"\\n     inkscape:showpageshadow=\\\"2\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#d1d1d1\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"4.1672912\\\"\\n     inkscape:cx=\\\"41.63376\\\"\\n     inkscape:cy=\\\"36.714497\\\"\\n     inkscape:window-width=\\\"1104\\\"\\n     inkscape:window-height=\\\"719\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"38\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-101.7323,-141.68439)\\\">\\n    <path\\n       style=\\\"display:inline;fill:#22242a;stroke-linecap:round;stroke-linejoin:round\\\"\\n       d=\\\"M 16,15 23.428571,24.714286 16,34.428571 h 3.428571 l 5.714286,-7.464228 5.714286,7.464228 h 3.428571 L 26.857143,24.714286 34.285714,15 H 30.857143 L 25.142857,22.464229 19.428571,15 Z\\\"\\n       id=\\\"path1\\\"\\n       transform=\\\"matrix(0.26458333,0,0,0.26458333,101.99687,141.94896)\\\" />\\n    <rect\\n       x=\\\"102.52604\\\"\\n       y=\\\"142.47813\\\"\\n       rx=\\\"1.0583333\\\"\\n       width=\\\"12.170834\\\"\\n       height=\\\"12.170834\\\"\\n       class=\\\"djs-outline\\\"\\n       style=\\\"fill:none;stroke-width:0.264583\\\"\\n       id=\\\"rect108\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.758311mm\\\"\\n   height=\\\"13.758311mm\\\"\\n   viewBox=\\\"0 0 13.758311 13.758311\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (e7c3feb1, 2024-10-09)\\\"\\n   sodipodi:docname=\\\"parallel.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#000000\\\"\\n     borderopacity=\\\"0.25\\\"\\n     inkscape:showpageshadow=\\\"2\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#d1d1d1\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"2.5054948\\\"\\n     inkscape:cx=\\\"-2.1951752\\\"\\n     inkscape:cy=\\\"20.155699\\\"\\n     inkscape:window-width=\\\"1104\\\"\\n     inkscape:window-height=\\\"788\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"38\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-101.7323,-141.68439)\\\">\\n    <path\\n       d=\\\"m 108.08229,144.59479 v 3.30729 h -3.3073 v 1.32292 h 3.3073 v 3.30729 h 1.32291 V 149.225 h 3.30729 v -1.32292 h -3.30729 v -3.30729 z\\\"\\n       style=\\\"fill:#22242a;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path109\\\" />\\n    <rect\\n       x=\\\"102.52604\\\"\\n       y=\\\"142.47813\\\"\\n       rx=\\\"1.0583333\\\"\\n       width=\\\"12.170834\\\"\\n       height=\\\"12.170834\\\"\\n       class=\\\"djs-outline\\\"\\n       style=\\\"fill:none;stroke-width:0.264583\\\"\\n       id=\\\"rect111\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.758311mm\\\"\\n   height=\\\"13.758311mm\\\"\\n   viewBox=\\\"0 0 13.758311 13.758311\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (e7c3feb1, 2024-10-09)\\\"\\n   sodipodi:docname=\\\"event-based.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#000000\\\"\\n     borderopacity=\\\"0.25\\\"\\n     inkscape:showpageshadow=\\\"2\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#d1d1d1\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"4.3759929\\\"\\n     inkscape:cx=\\\"21.36658\\\"\\n     inkscape:cy=\\\"26.16549\\\"\\n     inkscape:window-width=\\\"1104\\\"\\n     inkscape:window-height=\\\"786\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"38\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-1969.426,-2186.3844)\\\">\\n    <circle\\n       cx=\\\"1976.3052\\\"\\n       cy=\\\"2193.2637\\\"\\n       r=\\\"3.96875\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle112\\\" />\\n    <circle\\n       cx=\\\"1976.3052\\\"\\n       cy=\\\"2193.2637\\\"\\n       r=\\\"3.175\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.264583px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"circle113\\\" />\\n    <path\\n       d=\\\"m 1974.4531,2192.4698 1.9483,-1.2988 1.9483,1.2988 -0.6494,2.5978 h -2.5978 z\\\"\\n       style=\\\"fill:none;stroke:#22242a;stroke-width:0.529167px;stroke-linecap:round;stroke-linejoin:round\\\"\\n       id=\\\"path113\\\" />\\n    <rect\\n       x=\\\"1970.2197\\\"\\n       y=\\\"2187.1782\\\"\\n       rx=\\\"1.0583333\\\"\\n       width=\\\"12.170834\\\"\\n       height=\\\"12.170834\\\"\\n       class=\\\"djs-outline\\\"\\n       style=\\\"fill:none;stroke-width:0.264583\\\"\\n       id=\\\"rect114\\\" />\\n  </g>\\n</svg>\\n\"","export default \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<!-- Created with Inkscape (http://www.inkscape.org/) -->\\n\\n<svg\\n   width=\\\"13.758311mm\\\"\\n   height=\\\"13.758311mm\\\"\\n   viewBox=\\\"0 0 13.758311 13.758311\\\"\\n   version=\\\"1.1\\\"\\n   id=\\\"svg1\\\"\\n   inkscape:version=\\\"1.4 (e7c3feb1, 2024-10-09)\\\"\\n   sodipodi:docname=\\\"complex.svg\\\"\\n   xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n   xmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\"\\n   xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n   xmlns:svg=\\\"http://www.w3.org/2000/svg\\\">\\n  <sodipodi:namedview\\n     id=\\\"namedview1\\\"\\n     pagecolor=\\\"#ffffff\\\"\\n     bordercolor=\\\"#000000\\\"\\n     borderopacity=\\\"0.25\\\"\\n     inkscape:showpageshadow=\\\"2\\\"\\n     inkscape:pageopacity=\\\"0.0\\\"\\n     inkscape:pagecheckerboard=\\\"0\\\"\\n     inkscape:deskcolor=\\\"#d1d1d1\\\"\\n     inkscape:document-units=\\\"mm\\\"\\n     inkscape:zoom=\\\"4.8390424\\\"\\n     inkscape:cx=\\\"39.987251\\\"\\n     inkscape:cy=\\\"19.218679\\\"\\n     inkscape:window-width=\\\"1104\\\"\\n     inkscape:window-height=\\\"827\\\"\\n     inkscape:window-x=\\\"0\\\"\\n     inkscape:window-y=\\\"38\\\"\\n     inkscape:window-maximized=\\\"0\\\"\\n     inkscape:current-layer=\\\"layer1\\\" />\\n  <defs\\n     id=\\\"defs1\\\" />\\n  <g\\n     inkscape:label=\\\"Layer 1\\\"\\n     inkscape:groupmode=\\\"layer\\\"\\n     id=\\\"layer1\\\"\\n     transform=\\\"translate(-101.73231,-141.68439)\\\">\\n    <g\\n       id=\\\"path115\\\"\\n       style=\\\"fill:#22242a;fill-opacity:1;stroke:none;stroke-width:0;stroke-dasharray:none\\\"\\n       transform=\\\"matrix(0.26458333,0,0,0.26458333,-13.62604,-21.563537)\\\">\\n      <path\\n         style=\\\"fill:#22242a;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none\\\"\\n         d=\\\"m 460,631 v 7.11679 l -5.01825,-5.01825 -3.10219,3.10219 5.01825,5.01825 h -7.11679 v 4.37956 h 7.11679 l -5.01825,5.01825 3.10219,3.10219 L 460,648.70073 v 7.11679 h 4.37956 v -7.11679 l 5.01825,5.01825 3.10219,-3.10219 -5.01825,-5.01825 h 7.11679 v -4.37956 h -7.11679 l 5.01825,-5.01825 -3.10219,-3.10219 -5.01825,5.01825 V 631 Z\\\"\\n         id=\\\"path211\\\" />\\n    </g>\\n    <rect\\n       x=\\\"102.52604\\\"\\n       y=\\\"142.47813\\\"\\n       rx=\\\"1.0583333\\\"\\n       width=\\\"12.170834\\\"\\n       height=\\\"12.170834\\\"\\n       class=\\\"djs-outline\\\"\\n       style=\\\"fill:none;stroke-width:0.264583\\\"\\n       id=\\\"rect117\\\" />\\n  </g>\\n</svg>\\n\""],"names":["Easing","Object","freeze","Linear","None","amount","In","Out","InOut","Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Math","sin","PI","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","generatePow","power","Number","EPSILON","now","performance","Group","tweens","_i","arguments","length","this","_tweens","_tweensAddedDuringUpdate","add","apply","prototype","getAll","_this","keys","map","tweenId","removeAll","_a","_b","tweens_1","tween","_group","remove","getId","tweens_2","allStopped","every","isPlaying","update","time","preserve","tweenIds","i","autoStart","Interpolation","v","k","m","f","floor","fn","Utils","p0","p1","t","Sequence","nextId","_nextId","mainGroup","Tween","object","group","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_isDynamic","_initialRepeat","_repeat","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onStartCallbackFired","_onEveryStartCallbackFired","_id","_isChainStopped","_propertiesAreSetUp","_goToEnd","_object","isPaused","getDuration","to","target","duration","Error","dynamic","start","overrideStartingValues","property","_swapEndStartRepeatValues","tmp","prop","_setupProperties","startFromCurrentValues","startValue","startValueIsArray","Array","isArray","propType","isInterpolationList","endValues","temp","l","value","_handleRelativeValue","isNaN","console","warn","push","slice","reverse","nestedObject","stop","stopChainedTweens","_onStopCallback","end","pause","resume","numChainedTweens","delay","repeat","times","repeatDelay","_repeatDelayTime","yoyo","easing","easingFunction","interpolation","interpolationFunction","chain","onStart","callback","_onStartCallback","onEveryStart","_onEveryStartCallback","onUpdate","_onUpdateCallback","onRepeat","_onRepeatCallback","onComplete","_onCompleteCallback","onStop","autoStartOnUpdate","elapsedTime","durationAndDelay","totalTime","elapsed","timesRepeated","trunc","timeIntoCurrentRepeat","portion","min","calculateElapsedPortion","_updateProperties","completeCount","isFinite","parseFloat","startIsArray","endIsArray","charAt","endValue","TWEEN","bind","_changeEvent","type","_startEvent","_endEvent","_ray","Ray","_plane","Plane","_TILT_LIMIT","cos","MathUtils","DEG2RAD","_v","Vector3","_twoPI","_STATE","_EPS","OrbitControls","Controls","constructor","domElement","super","state","enabled","cursor","minDistance","maxDistance","Infinity","minZoom","maxZoom","minTargetRadius","maxTargetRadius","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","keyRotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","zoomToCursor","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MOUSE","ROTATE","MIDDLE","DOLLY","PAN","touches","ONE","TOUCH","TWO","DOLLY_PAN","target0","clone","position0","position","zoom0","zoom","_domElementKeyEvents","_lastPosition","_lastQuaternion","Quaternion","_lastTargetPosition","_quat","setFromUnitVectors","up","_quatInverse","invert","_spherical","Spherical","_sphericalDelta","_scale","_panOffset","_rotateStart","Vector2","_rotateEnd","_rotateDelta","_panStart","_panEnd","_panDelta","_dollyStart","_dollyEnd","_dollyDelta","_dollyDirection","_mouse","_performCursorZoom","_pointers","_pointerPositions","_controlActive","_onPointerMove","onPointerMove","_onPointerDown","onPointerDown","_onPointerUp","onPointerUp","_onContextMenu","onContextMenu","_onMouseWheel","onMouseWheel","_onKeyDown","onKeyDown","_onTouchStart","onTouchStart","_onTouchMove","onTouchMove","_onMouseDown","onMouseDown","_onMouseMove","onMouseMove","_interceptControlDown","interceptControlDown","_interceptControlUp","interceptControlUp","connect","addEventListener","passive","getRootNode","capture","style","touchAction","disconnect","removeEventListener","stopListenToKeyEvents","dispose","getPolarAngle","phi","getAzimuthalAngle","theta","getDistance","distanceTo","listenToKeyEvents","saveState","copy","reset","updateProjectionMatrix","dispatchEvent","deltaTime","sub","applyQuaternion","setFromVector3","_rotateLeft","_getAutoRotationAngle","max","makeSafe","addScaledVector","clampLength","zoomChanged","isOrthographicCamera","radius","_clampDistance","prevRadius","setFromSpherical","lookAt","multiplyScalar","set","newRadius","isPerspectiveCamera","radiusDelta","updateMatrixWorld","mouseBefore","x","y","unproject","prevZoom","mouseAfter","transformDirection","matrix","origin","direction","abs","dot","setFromNormalAndCoplanarPoint","intersectPlane","distanceToSquared","quaternion","_getZoomScale","delta","normalizedDelta","angle","_rotateUp","_panLeft","distance","objectMatrix","setFromMatrixColumn","_panUp","crossVectors","_pan","deltaX","deltaY","element","targetDistance","tan","fov","clientHeight","right","left","clientWidth","top","bottom","_dollyOut","dollyScale","_dollyIn","_updateZoomParameters","rect","getBoundingClientRect","dx","dy","w","width","h","height","normalize","dist","_handleMouseDownRotate","event","clientX","clientY","_handleMouseDownDolly","_handleMouseDownPan","_handleMouseMoveRotate","subVectors","_handleMouseMoveDolly","_handleMouseMovePan","_handleMouseWheel","_handleKeyDown","needsUpdate","code","ctrlKey","metaKey","shiftKey","preventDefault","_handleTouchStartRotate","pageX","pageY","_getSecondPointerPosition","_handleTouchStartPan","_handleTouchStartDolly","_handleTouchStartDollyPan","_handleTouchStartDollyRotate","_handleTouchMoveRotate","_handleTouchMovePan","_handleTouchMoveDolly","centerX","centerY","_handleTouchMoveDollyPan","_handleTouchMoveDollyRotate","_addPointer","pointerId","_removePointer","splice","_isTrackingPointer","_trackPointer","_customWheelEvent","mode","deltaMode","newEvent","setPointerCapture","pointerType","releasePointerCapture","mouseAction","button","DOLLY_ROTATE","key","MapControls","NodeShaderStage","NodeUpdateType","vectorComponents","_lut","_seed","RAD2DEG","generateUUID","d0","random","d1","d2","d3","toLowerCase","clamp","euclideanModulo","n","lerp","denormalize","array","Float32Array","Uint32Array","Uint16Array","Uint8Array","Int32Array","Int16Array","Int8Array","round","mapLinear","a1","a2","b1","b2","inverseLerp","damp","lambda","dt","exp","pingpong","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","seededRandom","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","SRGBColorSpace","LinearSRGBColorSpace","LinearTransfer","SRGBTransfer","StaticDrawUsage","WebGLCoordinateSystem","WebGPUCoordinateSystem","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","isMatrix3","elements","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiply","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","e","g","t11","t12","t13","det","detInv","transpose","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","_m3","makeScale","rotate","makeRotation","translate","makeTranslation","isVector2","equals","fromArray","offset","toArray","LINEAR_REC709_TO_XYZ","XYZ_TO_LINEAR_REC709","createColorManagement","ColorManagement","workingColorSpace","spaces","convert","color","sourceColorSpace","targetColorSpace","transfer","SRGBToLinear","primaries","applyMatrix3","toXYZ","fromXYZ","LinearToSRGB","fromWorkingColorSpace","toWorkingColorSpace","getPrimaries","colorSpace","getTransfer","getLuminanceCoefficients","luminanceCoefficients","define","colorSpaces","assign","_getMatrix","targetMatrix","_getDrawingBufferColorSpace","outputColorSpaceConfig","drawingBufferColorSpace","_getUnpackColorSpace","workingColorSpaceConfig","unpackColorSpace","REC709_PRIMARIES","REC709_LUMINANCE_COEFFICIENTS","D65","whitePoint","_colorKeywords","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","_hslA","_hslB","hue2rgb","p","Color","isColor","setHex","setStyle","setRGB","setScalar","scalar","hex","setHSL","handleAlpha","string","exec","name","components","parseInt","size","setColorName","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","_color","getHexString","toString","getHSL","hue","saturation","lightness","getRGB","getStyle","toFixed","offsetHSL","addColors","color1","color2","addScalar","alpha","lerpColors","lerpHSL","z","fromBufferAttribute","attribute","index","getX","getY","getZ","toJSON","Symbol","iterator","NAMES","isQuaternion","_x","_y","_z","_w","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","atan2","tDir","multiplyQuaternionsFlat","_onChangeCallback","setFromEuler","euler","_order","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","vFrom","vTo","angleTo","acos","rotateTowards","step","slerp","conjugate","lengthSq","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","slerpQuaternions","qa","theta1","theta2","r1","r2","getW","_onChange","isVector3","setX","setY","setZ","setComponent","getComponent","addVectors","subScalar","multiplyVectors","applyEuler","_quaternion","applyAxisAngle","applyNormalMatrix","applyMatrix4","vx","vy","vz","qx","qy","qz","qw","tz","project","camera","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","divide","divideScalar","clampScalar","minVal","maxVal","roundToZero","negate","manhattanLength","setLength","lerpVectors","v1","v2","cross","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector","reflect","normal","dz","manhattanDistanceTo","setFromSphericalCoords","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sz","setFromColor","randomDirection","u","Matrix4","n14","n24","n34","n41","n42","n43","n44","isMatrix4","copyPosition","setFromMatrix3","makeBasis","extractRotation","scaleX","_v1","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","_zero","_one","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeShear","xy","xz","yx","yz","zx","zy","x2","y2","z2","xx","yy","zz","wx","wy","wz","decompose","_m1","invSX","invSY","invSZ","makePerspective","near","far","coordinateSystem","makeOrthographic","zInv","rotateAround","center","Vector4","isVector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","cyrb53","seed","h1","h2","val","ch","charCodeAt","hash","params","getNodeChildren","node","startsWith","child","isNode","childNode","subProperty","getValueType","typeOf","ArrayBuffer","getValueFromType","last4","base64","from","atob","buffer","EventDispatcher","listener","_listeners","listeners","indexOf","hasEventListener","listenerArray","call","_nodeId","Node","nodeType","updateType","updateBeforeType","updateAfterType","uuid","version","global","_cacheKey","_cacheKeyVersion","defineProperty","getSelf","onFrameUpdate","onRenderUpdate","onObjectUpdate","onReference","updateReference","self","isGlobal","getChildren","traverse","getCacheKey","force","values","id","customCacheKey","getScope","getHash","getUpdateType","getUpdateBeforeType","getUpdateAfterType","getElementType","builder","getNodeType","nodeProperties","getNodeProperties","outputNode","getShared","getNodeFromHash","setup","analyze","increaseUsage","build","generate","output","updateBefore","updateAfter","refNode","addNode","addChain","result","buildStage","getBuildStage","properties","initialized","isNodeOutput","nodeData","getDataFromNode","snippet","flowCodes","context","nodeBlock","addFlowCodeHierarchy","format","removeChain","addSequentialNode","getSerializeChildren","serialize","json","nodeChildren","inputNodes","isInteger","meta","deserialize","nodes","inputArray","inputObject","isRoot","textures","images","data","extractFromCache","cache","metadata","generator","ArrayElementNode","indexNode","isArrayElementNode","ConvertNode","convertTo","requestType","overloadingType","split","getTypeLength","TempNode","isTempNode","hasDependencies","usageCount","getVectorType","propertyName","nodeVar","getVarFromNode","getPropertyName","addLineFlowCode","JoinNode","getTypeFromLength","reduce","count","cur","primitiveType","getComponentType","snippetValues","input","inputSnippet","inputPrimitiveType","getType","join","_stringVectorComponents","SplitNode","isSplitNode","getVectorLength","vectorLength","nodeTypeLength","nodeSnippet","SetNode","sourceNode","targetNode","sourceType","componentType","targetType","targetSnippet","sourceSnippet","component","FlipNode","sourceCache","sourceProperty","componentIndex","InputNode","isInputNode","precision","getInputType","setPrecision","valueType","arrayBuffer","chars","String","fromCharCode","btoa","arrayBufferToBase64","ConstNode","isConstNode","generateConst","NodeElements","Map","addMethodChaining","nodeElement","has","parseSwizzle","props","replace","parseSwizzleAndSort","sort","shaderNodeHandler","NodeClosure","inputs","shift","nodeObjects","get","nodeObj","isStackNode","endsWith","test","nodeObject","Reflect","nodeObjectsCacheMap","WeakMap","nodeBuilderFunctionsCacheMap","ShaderNodeObjects","objects","altType","ShaderNodeArray","ShaderNodeProxy","NodeClass","scope","factor","settings","assignNode","nodeArray","ShaderCallNodeInternal","shaderNode","getOutputNode","onceOutput","layout","functionNodesCacheMap","functionNode","buildFunctionNode","currentFunctionNode","includes","jsFunc","once","setupOutput","addStack","stack","removeStack","ShaderNodeInternal","setLayout","bools","uints","ints","floats","boolsCacheMap","bool","uintsCacheMap","uint","intsCacheMap","el","int","floatsCacheMap","float","cacheMaps","constNodesCacheMap","getConstNode","ConvertType","cacheMap","param","_","safeGetNodeType","ShaderNode","Proxy","obj","Fn","nodeProxy","vec2","ivec2","uvec2","bvec2","vec3","ivec3","uvec3","bvec3","vec4","ivec4","uvec4","bvec4","mat2","mat3","mat4","types","UniformGroupNode","shared","isUniformGroup","uniformGroup","renderGroup","objectGroup","UniformNode","isUniformNode","groupNode","label","setGroup","getGroup","getUniformHash","frame","sharedNode","setHashNode","sharedNodeType","nodeUniform","getUniformFromNode","shaderStage","PropertyNode","varying","isPropertyNode","getVaryingFromNode","needsInterpolation","AssignNode","needsSplitAssign","isAvailable","targetLength","source","sourceVar","targetRoot","FunctionCallNode","parameters","setParameters","getParameters","getInputs","generateInput","inputNode","func","OperatorNode","op","aNode","bNode","finalOp","typeA","typeB","getIntegerType","typeLength","isMatrix","isVector","getVectorFromMatrix","changeComponentType","outputLength","fnOpSnippet","getFunctionOperator","useComparisonMethod","getMethod","mul","div","modInt","equal","notEqual","lessThan","greaterThan","lessThanEqual","greaterThanEqual","and","or","not","xor","bitAnd","bitNot","bitOr","bitXor","shiftLeft","shiftRight","MathNode","method","cNode","aType","bType","cType","aLen","bLen","cLen","LENGTH","DISTANCE","DOT","CROSS","ALL","EQUALS","MOD","inputType","renderer","TRANSFORM_DIRECTION","tA","tB","mulNode","xyz","NEGATE","ONE_MINUS","RECIPROCAL","DIFFERENCE","STEP","MIN","MAX","REFRACT","MIX","ATAN","ANY","RADIANS","DEGREES","EXP","EXP2","LOG","LOG2","SQRT","INVERSE_SQRT","FLOOR","CEIL","NORMALIZE","FRACT","SIN","COS","TAN","ASIN","ACOS","ABS","SIGN","DFDX","DFDY","ROUND","TRUNC","FWIDTH","TRANSPOSE","BITCAST","REFLECT","POW","CLAMP","SMOOTHSTEP","FACEFORWARD","all","any","exp2","log2","inverseSqrt","fract","asin","atan","sign","oneMinus","dFdx","dFdy","reciprocal","fwidth","mod","difference","pow2","pow3","pow4","mix","refract","faceForward","rand","uv","sn","e1","e2","ConditionalNode","condNode","ifNode","elseNode","ifType","elseType","currentNodeBlock","parentNodeBlock","nodeProperty","needsOutput","addFlowCode","tab","addFlowTab","ifSnippet","removeFlowTab","elseSnippet","select","ContextNode","isContextNode","previousContext","getContext","setContext","VarNode","isVarNode","createVar","append","VaryingNode","isVaryingNode","setupVarying","needsReassign","reassignPosition","needsPositionReassign","flowNodeFromShaderStage","isPositionNodeInput","sRGBTransferEOTF","sRGBTransferOETF","WORKING_COLOR_SPACE","OUTPUT_COLOR_SPACE","ColorSpaceNode","colorNode","resolveColorSpace","outputColorSpace","rgb","ReferenceElementNode","referenceNode","isReferenceElementNode","uniformType","arrayType","elementType","ReferenceBaseNode","reference","setNodeType","arg1","arg2","uniform","updateValue","getValueFromReference","RendererReferenceNode","rendererReference","ToneMappingNode","toneMapping","exposureNode","toneMappingExposure","toneMappingFn","library","getToneMappingFunction","error","mapping","exposure","_vector2","BufferAttribute","itemSize","normalized","TypeError","isBufferAttribute","usage","updateRanges","gpuType","onUploadCallback","setUsage","addUpdateRange","clearUpdateRanges","copyAt","index1","index2","copyArray","setXY","_vector$1","setXYZ","setXYZW","onUpload","InterleavedBufferAttribute","interleavedBuffer","isInterleavedBufferAttribute","stride","j","interleavedBuffers","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","BufferAttributeNode","bufferType","bufferStride","bufferOffset","isBufferNode","instanced","isInstancedBufferAttribute","bufferData","globalCache","getData","setData","getTypeFromAttribute","bufferAttribute","nodeAttribute","getBufferAttributeFromNode","setInstanced","bufferNode","ComputeNode","computeNode","workgroupSize","isComputeNode","dispatchCount","onInitFunction","updateDispatchCount","onInit","compute","CacheNode","parent","isCacheNode","previousCache","getCache","getCacheFromNode","setCache","BypassNode","callNode","isBypassNode","RemapNode","inLowNode","inHighNode","outLowNode","outHighNode","doClamp","remap","remapClamp","ExpressionNode","expression","conditional","RenderOutputNode","isRenderOutputNode","workingToColorSpace","Diagram","container","connectors","helpers","initScene","initCamera","setHelpers","initRenderer","initLighting","initControls","addEventListeners","animate","THREE","scene","Scene","background","aspectRatio","window","innerWidth","innerHeight","PerspectiveCamera","axesHelper","AxesHelper","cameraHelper","CameraHelper","gridHelper","GridHelper","cameraDirection","camPositionSpan","document","querySelector","camLookAtSpan","showHelpers","hideHelpers","WebGLRenderer","antialias","setSize","body","appendChild","mainLight","PointLight","mainLightPosZ","spotLight","spotLightPosX","spotLightPosY","spotLightPosZ","spotLightDirection","controls","onWindowResize","aspect","requestAnimationFrame","render","setMode","fitScreen","arrange","children","Box3","setFromObject","getCenter","translation","forEach","Object3D","getSize","maxDim","cameraZ","initialCameraPosition","initialTarget","cameraPositionX","cameraPositionY","cameraPositionZ","controlsTargetX","controlsTargetY","controlsTargetZ","targetAngle","targetAngleRad","removeValueBars","addValueBars","filter","normalizedValue","addValueBar","addElement","setDiagram","removeElement","elementId","find","getElementById","getElements","addConnector","connector","clear","AmbientLight","JSON","stringify","fromJSON","parse","blob","Blob","url","URL","createObjectURL","createElement","href","download","click","revokeObjectURL","import","file","DiagramDimensions","ExtrusionParameters","steps","depth","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","Colors","Shape","geometry","material","computeBoundingBox","boundingBox","DiagramEditMaterial","MeshLambertMaterial","vertexColors","side","DoubleSide","emissive","emissiveIntensity","BoxShape","BoxGeometry","FontLoader","Loader","manager","load","onLoad","onProgress","onError","loader","FileLoader","setPath","path","setRequestHeader","requestHeader","setWithCredentials","withCredentials","text","font","Font","isFont","generateShapes","shapes","paths","resolution","line_height","yMax","yMin","underlineThickness","offsetX","offsetY","char","ret","createPath","createPaths","pl","toShapes","glyph","glyphs","familyName","ShapePath","cpx","cpy","cpx1","cpy1","cpx2","cpy2","o","outline","_cachedOutline","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","ha","TextGeometry","ExtrudeGeometry","TextShape","robotoRegular","curveSegments","IconDimensions","COLOR_SPACE_SVG","SVGLoader","defaultDPI","defaultUnit","itemError","parseArcCommand","rx","ry","x_axis_rotation","large_arc_flag","sweep_flag","dx2","dy2","x1p","y1p","rxs","rys","x1ps","y1ps","cr","dq","pq","cxp","cyp","svgAngle","currentPath","absellipse","ux","uy","ang","parseStyle","stylesheetStyles","hasAttribute","classSelectors","getAttribute","Boolean","trim","stylesheets","addStyle","svgName","jsName","adjustFunction","parseFloatWithUnits","positive","getReflection","parseFloats","flags","RE","WHITESPACE","DIGIT","POINT","COMMA","FLAGS","seenComma","number","exponent","throwSyntaxError","current","partial","SyntaxError","newNumber","units","unitConversion","mm","cm","in","pt","pc","px","theUnit","substring","isTransformFlipped","isTransformSkewed","basisDot","getTransformScaleX","getTransformScaleY","transformStack","tempTransform0","tempTransform1","tempTransform2","tempTransform3","tempV2","tempV3","currentTransform","xml","DOMParser","parseFromString","parseNode","transform","nodeName","transformsTexts","tIndex","transformText","openParPos","closeParPos","transformType","parseNodeTransform","getNodeTransform","isDefsNode","sheet","cssRules","stylesheet","selectorList","selectorText","definitions","fromEntries","entries","parseCSSStylesheet","point","control","firstPoint","isFirstPoint","doSetFirstPoint","commands","match","command","numbers","jl","autoClose","curves","currentPoint","parsePathNode","bci","parseRectNode","regex","parsePolygonNode","parsePolylineNode","subpath","Path","absarc","subPaths","parseCircleNode","parseEllipseNode","parseLineNode","usedNodeId","getAttributeNS","usedNode","viewportElement","fill","transfVec2","transfEllipseGeneric","curve","xRadius","yRadius","cosTheta","aRotation","sinTheta","f1","f2","mF","mFInv","mQe","ed","A","B","C","rt1","rt2","cs","sm","rt","eigenDecomposition","rt1sqrt","rt2sqrt","aEndAngle","aStartAngle","mDsqrt","mRT","mDRF","transformAngle","cosR","sinR","aClockwise","transfEllipseNoSkew","isLineCurve","isCubicBezierCurve","v0","v3","isQuadraticBezierCurve","isEllipseCurve","aX","aY","transformPath","userData","childNodes","pop","documentElement","fillOpacity","strokeOpacity","strokeWidth","strokeLineJoin","strokeLineCap","strokeMiterLimit","createShapes","shapePath","BIGNUMBER","IntersectionLocationType","classifyResult","loc","findEdgeIntersection","a0","b0","x3","x4","y3","y4","nom1","denom","t1","t2","classifyPoint","toPrecision","edgeStart","edgeEnd","sa","getScanlineIntersections","scanline","allIntersections","containsPoint","path1","path2","intersectionsRaw","intersections","path1EdgeStart","path1EdgeEnd","intersection","getIntersections","points","identifier","isCW","i1","i2","scanlineMinX","scanlineMaxX","simplePaths","getPoints","maxY","minY","maxX","minX","ShapeUtils","isClockWise","Box2","sp","isAHole","simplePath","allPaths","_fillRule","centerBoundingBox","scanlineIntersections","baseIntersections","otherIntersections","firstXOfPath","isHole","isHoleFor","for","lastCWValue","isHoleTo","fillRule","shapesToReturn","shape","hole","holes","getStrokeStyle","lineJoin","lineCap","miterLimit","strokeColor","pointsToStroke","arcDivisions","vertices","normals","uvs","pointsToStrokeWithBuffers","BufferGeometry","setAttribute","Float32BufferAttribute","vertexOffset","tempV2_1","tempV2_2","tempV2_3","tempV2_4","tempV2_5","tempV2_6","tempV2_7","lastPointL","lastPointR","point0L","point0R","currentPointL","currentPointR","nextPointL","nextPointR","innerPoint","outerPoint","numPoints","dupPoints","newPoints","removeDuplicatedPoints","isClosed","nextPoint","previousPoint","strokeWidth2","deltaU","u1","innerSideModified","joinIsOnLeftSide","isMiter","u0","initialJoinIsOnLeftSide","numVertices","currentCoordinate","currentCoordinateUV","getNormal","iPoint","normal1","miterSide","miterLength2","segmentLengthPrev","segmentLengthNext","makeSegmentTriangles","makeSegmentWithBevelJoin","createSegmentTrianglesWithMiddleSection","makeCircularSector","miterFraction","addVertex","addCapGeometry","lastOuter","lastInner","p2","il","vl","mergeAttributes","attributes","TypedArray","arrayLength","tupleOffset","IconShape","getGeometries","svgText","iconGeometries","fillColor","ShapeGeometry","toNonIndexed","stroke","subPath","iconGeometry","geometries","useGroups","isIndexed","attributesUsed","Set","morphAttributesUsed","morphAttributes","morphTargetsRelative","mergedGeometry","attributesCount","addGroup","indexOffset","mergedIndex","setIndex","mergedAttribute","numMorphTargets","morphAttributesToMerge","mergedMorphAttribute","mergeGeometries","maxDimension","scaleFactor","computeBoundingSphere","boundingSphere","iconSVG","BarMaterial","MeshPhongMaterial","opacity","transparent","shininess","specular","ColorPalette","ValueBarShape","barColor","barHeight","extrusionParameters","ConnectorDimensions","RoundedCornerOrthogonalConnectorShape","connectorPoints","outerRadius","innerRadius","arrowheadWidth","arrowheadLength","extrudeSettings","connectorShape","Connector","Mesh","sourceElement","targetElement","sourcePoint","targetPoint","waypoints","diagram","determinePoints","sourcePosition","targetPosition","Element","positionXY","texts","icons","valueBars","positionAt","positionOffset","icon","bar","pos","getPosition","positionRightOf","elementWidth","thisWidth","positionLeftOf","positionUpOf","elementHeight","thisHeight","positionDownOf","positionUpLeftOf","positionDownLeftOf","positionUpRightOf","positionDownRightOf","getNorthPoint","getSouthPoint","getEastPoint","getWestPoint","getNorthEastPoint","getNorthWestPoint","getSouthEastPoint","getSouthWestPoint","getNorthNorthEastPoint","getNorthNorthWestPoint","getNorthEastEastPoint","getNorthWestWestPoint","getSouthSouthEastPoint","getSouthSouthWestPoint","getSouthEastEastPoint","getSouthWestWestPoint","getPointPosition","addText","textElement","addWrappedText","candidateTextElement","wrappedText","wrappedTextElement","words","minLength","minIndex","combinedLength","getTopIconPlaceholder","getBottomIconPlaceholder","getLeftIconPlaceholder","getRightIconPlaceholder","getTopLeftIconPlaceholder","getTopRightIconPlaceholder","getBottomLeftIconPlaceholder","getBottomRightIconPlaceholder","getCenterIconPlaceholder","getIconPlaceholder","addIcon","placeholder","iconElement","barElement","getOuterShape","connectFrom","sourceElementId","RoundedRectangleDimensions","CircleDimensions","DiamondDimensions","CircleShape","lineWidth","eventRadius","circle","ctx","controlPointDistance","eventShape","outerShape","eventHole","RoundedRectangleShape","horizontalSize","verticalSize","roundedRect","activityShape","activityHole","DiamondShape","diagonal","diamond","gatewayShape","gatewayHole","process","hrtime","Date","getTime","concat","Bezier","pw","bn","Bernstein","CatmullRom","fc","Factorial","p3","module","BpmnDiagram","Dimensions","DISTANCE_BETWEEN_ELEMENTS","START_EVENT_LINE_WIDTH","END_EVENT_LINE_WIDTH","ICON_SIZE_SMALL","ICON_SIZE_MEDIUM","ICON_SIZE_LARGE","addStartEvent","addMessageStartEvent","addTimerStartEvent","addConditionalStartEvent","addSignalStartEvent","addIntermediateEvent","addIntermediateMessageCatchEvent","addIntermediateMessageThrowEvent","addIntermediateTimerEvent","addIntermediateEscalationEvent","addIntermediateConditionalEvent","addIntermediateLinkCatchEvent","addIntermediateLinkThrowEvent","addIntermediateCompensationEvent","addIntermediateSignalCatchEvent","addIntermediateSignalThrowEvent","addEndEvent","addMessageEndEvent","addEscalationEndEvent","addErrorEndEvent","addCompensateEndEvent","addSignalEndEvent","addTerminateEndEvent","addTask","addManualTask","addUserTask","addScriptTask","addBusinessRuleTask","addServiceTask","addSendTask","addReceiveTask","addGateway","addExclusiveGateway","addInclusiveGateway","addParallelGateway","addEventBasedGateway","addComplexGateway","addFlowConnector","reader","FileReader","onload","xmlDoc","buildDiagram","readAsText","bpmnNamespace","bpmndiNamespace","dcNamespace","startEvents","getElementsByTagNameNS","startEventId","incoming","textContent","outgoing","endEvents","endEventId","intermediateCatchEvents","intermediateCatchEventId","intermediateThrowEvents","intermediateThrowEventId","tasks","taskId","manualTasks","manualTaskId","userTasks","userTaskId","scriptTasks","scriptTaskId","businessRuleTasks","businessRuleTaskId","serviceTasks","serviceTaskId","sendTasks","sendTaskId","receiveTasks","receiveTaskId","inclusiveGateways","gatewayId","exclusiveGateways","parallelGateways","eventBasedGateways","complexGateways","sequenceFlows","sequenceFlowId","sourceRef","targetRef","bpmnShapes","bpmnShape","bpmnShapeId","bpmnElementId","bounds","labelX","labelY","labelWidth","labelHeight","bpmnLabel","labelBounds","bpmnElementName","labelPosition","bpmnEdges","bpmnEdge","bpmnEdgeId","sequenceFlow","flow","sequenceFlowName","waypoint"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,59,60,63,64,77]}